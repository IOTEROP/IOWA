

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Client Mode API Reference &mdash; Iowa documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Server Mode API Reference" href="ServerAPI.html" />
    <link rel="prev" title="Common API Reference" href="CommonAPI.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Lite version:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Changelog.html#id1">2020-09.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#behavior-changes">Behavior Changes {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#sdk-changes">SDK Changes {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#bug-fixes">Bug Fixes {-}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Changelog.html#id2">2020-09</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#new-features">New Features {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id3">Behavior Changes {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id4">SDK Changes {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id5">Bug Fixes {-}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Changelog.html#id6">2020-06.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id7">Bug Fixes {-}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Changelog.html#id8">2020-06.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id9">Behavior Changes {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id10">Bug Fixes {-}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Changelog.html#id11">2020-06</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id12">New Features {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id13">Behavior Changes {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id14">SDK Changes {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id15">Bug Fixes {-}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Changelog.html#id16">2020-03.6</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id17">Bug Fixes {-}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Changelog.html#id18">2020-03.5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id19">Bug Fixes {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id20">Behavior Changes {-}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Changelog.html#id21">2020-03.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id22">Bug Fixes {-}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Changelog.html#id23">2020-03.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id24">Bug Fixes {-}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Changelog.html#id25">2020-03.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id26">Bug Fixes {-}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Changelog.html#id27">2020-03.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id28">Bug Fixes {-}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Changelog.html#id29">2020-03</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id30">New Features {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id31">Behavior Changes {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id32">SDK Changes {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id33">Bug Fixes {-}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Changelog.html#id34">2019-12.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id35">Bug fixes {-}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Changelog.html#id36">2019-12</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id37">New Features {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id38">Behavior Changes {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id39">SDK Changes {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#advanced-features">Advanced Features {-}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Changelog.html#id40">2019-08</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id41">New Features {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id42">Behavior Changes {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id43">SDK Changes {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#experimental-features">Experimental Features {-}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Changelog.html#id44">2019-05</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id45">New Features {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id46">Behavior Changes {-}</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Changelog.html#id47">SDK Changes {-}</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="LwM2MOverview.html">LwM2M Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="LwM2MOverview.html#lwm2m-concepts">LwM2M Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#lwm2m-client-device">LwM2M Client/Device</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#lwm2m-server">LwM2M Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#lwm2m-bootstrap-server">LwM2M Bootstrap Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#lwm2m-resource">LwM2M Resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#lwm2m-objects">LwM2M Objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#lwm2m-object-instance">LwM2M Object Instance</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#lwm2m-uri">LwM2M URI</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#server-account">Server Account</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#bootstrap">Bootstrap</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#registration">Registration</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#observation">Observation</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#lifetime">Lifetime</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#queue-mode">Queue Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#sms-trigger">SMS Trigger</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="LwM2MOverview.html#lwm2m-operations-overview">LwM2M Operations Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#id1">Bootstrap</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#id2">Registration</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#device-management-and-service-enablement">Device Management and Service Enablement</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#information-reporting">Information Reporting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="LwM2MOverview.html#standardized-lwm2m-objects">Standardized LwM2M Objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#security-object">Security Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#server-object">Server Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#access-control-list-object">Access Control List Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#device-object">Device Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#connectivity-monitoring-object">Connectivity Monitoring Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#firmware-update-object">Firmware Update Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#location-object">Location Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#connectivity-statistics-object">Connectivity Statistics Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#software-management-object">Software Management Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#cellular-connectivity-object">Cellular Connectivity Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#apn-connection-profile-object">APN Connection Profile Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#bearer-selection-object">Bearer selection Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#software-component-object">Software Component Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="LwM2MOverview.html#lwm2m-oscore">LwM2M OSCORE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="EvaluationKit.html">IOWA Evaluation Kit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="EvaluationKit.html#content">Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="EvaluationKit.html#samples">Samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="EvaluationKit.html#compilation">Compilation</a></li>
<li class="toctree-l2"><a class="reference internal" href="EvaluationKit.html#testing">Testing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="EvaluationKit.html#without-security">Without Security</a></li>
<li class="toctree-l3"><a class="reference internal" href="EvaluationKit.html#with-psk-security">With PSK security</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="AbstractionLayer.html">System Abstraction Layer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="AbstractionLayer.html#presentation">Presentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="AbstractionLayer.html#data-types">Data types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-connection-type-t">iowa_connection_type_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-security-operation-t">iowa_security_operation_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-psk-data-t">iowa_psk_data_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-certificate-data-t">iowa_certificate_data_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-rpk-data-t">iowa_rpk_data_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-oscore-data-t">iowa_oscore_data_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-security-data-t">iowa_security_data_t</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="AbstractionLayer.html#api">API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-malloc">iowa_system_malloc</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-free">iowa_system_free</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-gettime">iowa_system_gettime</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-reboot">iowa_system_reboot</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-trace">iowa_system_trace</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-connection-open">iowa_system_connection_open</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-connection-send">iowa_system_connection_send</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-connection-get-peer-identifier">iowa_system_connection_get_peer_identifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-connection-recv">iowa_system_connection_recv</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-connection-select">iowa_system_connection_select</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-connection-interrupt-select">iowa_system_connection_interrupt_select</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-connection-close">iowa_system_connection_close</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-queue-create">iowa_system_queue_create</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-queue-delete">iowa_system_queue_delete</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-queue-enqueue">iowa_system_queue_enqueue</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-queue-dequeue">iowa_system_queue_dequeue</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-queue-peek">iowa_system_queue_peek</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-queue-remove">iowa_system_queue_remove</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-queue-backup">iowa_system_queue_backup</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-queue-restore">iowa_system_queue_restore</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-store-context">iowa_system_store_context</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-retrieve-context">iowa_system_retrieve_context</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-mutex-lock">iowa_system_mutex_lock</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-mutex-unlock">iowa_system_mutex_unlock</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-random-vector-generator">iowa_system_random_vector_generator</a></li>
<li class="toctree-l3"><a class="reference internal" href="AbstractionLayer.html#iowa-system-security-data">iowa_system_security_data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="CommonAPI.html">Common API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="CommonAPI.html#presentation">Presentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="CommonAPI.html#data-types">Data types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-status-t">iowa_status_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-context-t">iowa_context_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-dm-operation-t">iowa_dm_operation_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-bootstrap-operation-t">iowa_bootstrap_operation_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-lwm2m-data-type-t">iowa_lwm2m_data_type_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-lwm2m-data-t">iowa_lwm2m_data_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-lwm2m-object-link-t">iowa_lwm2m_object_link_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-content-format-t">iowa_content_format_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-lwm2m-uri-t">iowa_lwm2m_uri_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-response-content-t">iowa_response_content_t</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="CommonAPI.html#callbacks">Callbacks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-response-callback-t">iowa_response_callback_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-load-callback-t">iowa_load_callback_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-save-callback-t">iowa_save_callback_t</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="CommonAPI.html#api">API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-init">iowa_init</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-step">iowa_step</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-flush-before-pause">iowa_flush_before_pause</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-stop">iowa_stop</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-close">iowa_close</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-clock-reset">iowa_clock_reset</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-save-context">iowa_save_context</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-save-context-snapshot">iowa_save_context_snapshot</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-load-context">iowa_load_context</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-backup-register-callback">iowa_backup_register_callback</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-backup-deregister-callback">iowa_backup_deregister_callback</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-connection-closed">iowa_connection_closed</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-data-get-block-info">iowa_data_get_block_info</a></li>
<li class="toctree-l3"><a class="reference internal" href="CommonAPI.html#iowa-data-set-block-info">iowa_data_set_block_info</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Client Mode API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#client-pseudo-code">Client pseudo code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-types">Data types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#iowa-server-setting-id-t">iowa_server_setting_id_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-lwm2m-binding-t">iowa_lwm2m_binding_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-server-info-t">iowa_server_info_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-device-info-t">iowa_device_info_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-event-type-t">iowa_event_type_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-event-t">iowa_event_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-device-time-info-t">iowa_device_time_info_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-ipso-timed-value-t">iowa_ipso_timed_value_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-sensor-t">iowa_sensor_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-lwm2m-resource-desc-t">iowa_lwm2m_resource_desc_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-sensor-uri-t">iowa_sensor_uri_t</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#callbacks">Callbacks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#iowa-event-callback-t">iowa_event_callback_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-time-update-callback-t">iowa_client_time_update_callback_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-factory-reset-callback-t">iowa_client_factory_reset_callback_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-rwe-callback-t">iowa_RWE_callback_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-cd-callback-t">iowa_CD_callback_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-ri-callback-t">iowa_RI_callback_t</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#api">API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-configure">iowa_client_configure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-new-incoming-connection">iowa_client_new_incoming_connection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-add-bootstrap-server">iowa_client_add_bootstrap_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-remove-bootstrap-server">iowa_client_remove_bootstrap_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-set-bootstrap-server-hold-off">iowa_client_set_bootstrap_server_hold_off</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-get-bootstrap-server-coap-peer">iowa_client_get_bootstrap_server_coap_peer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-add-server">iowa_client_add_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-remove-server">iowa_client_remove_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-set-server-configuration">iowa_client_set_server_configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-set-server-msisdn">iowa_client_set_server_msisdn</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-set-server-registration-behaviour">iowa_client_set_server_registration_behaviour</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-set-server-communication-attempts">iowa_client_set_server_communication_attempts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-get-server-count">iowa_client_get_server_count</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-get-server-array">iowa_client_get_server_array</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-get-server-coap-peer">iowa_client_get_server_coap_peer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-set-notification-default-periods">iowa_client_set_notification_default_periods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-use-reliable-notifications">iowa_client_use_reliable_notifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-object-set-mode">iowa_client_object_set_mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-device-update-battery">iowa_client_device_update_battery</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-add-device-power-source">iowa_client_add_device_power_source</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-remove-device-power-source">iowa_client_remove_device_power_source</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-update-device-power-source">iowa_client_update_device_power_source</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-update-device-information">iowa_client_update_device_information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-set-device-error-code">iowa_client_set_device_error_code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-clear-device-error-code">iowa_client_clear_device_error_code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-update-device-time-information">iowa_client_update_device_time_information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-add-custom-object">iowa_client_add_custom_object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-remove-custom-object">iowa_client_remove_custom_object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-object-resource-changed">iowa_client_object_resource_changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-object-instance-changed">iowa_client_object_instance_changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-notification-lock">iowa_client_notification_lock</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-send-heartbeat">iowa_client_send_heartbeat</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-send-sensor-data">iowa_client_send_sensor_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-send-data">iowa_client_send_data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#accelerometer-object-api">Accelerometer Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-add-accelerometer-object">iowa_client_add_accelerometer_object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-remove-accelerometer-object">iowa_client_remove_accelerometer_object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-accelerometer-update-axis">iowa_client_accelerometer_update_axis</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#access-control-list-object-api">Access Control List Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-acl-rights-server-set">iowa_client_acl_rights_server_set</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-acl-rights-server-clear">iowa_client_acl_rights_server_clear</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-acl-rights-object-clear">iowa_client_acl_rights_object_clear</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#apn-connection-profile-object-api">APN Connection Profile Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#data-structures-and-constants">Data Structures and Constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id227">Callbacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id229">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#at-command-object-api">AT Command Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id264">Callbacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id267">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#bearer-selection-object-api">Bearer Selection Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id285">Data Structures and Constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id286">Callbacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id288">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cellular-connectivity-object-api">Cellular Connectivity Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id306">Data Structures and Constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id307">Callbacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id309">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#connectivity-monitoring-object-api">Connectivity Monitoring Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id327">Data Structures and Constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id328">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#connectivity-statistics-object-api">Connectivity Statistics Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-add-connectivity-stats-object">iowa_client_add_connectivity_stats_object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-remove-connectivity-stats-object">iowa_client_remove_connectivity_stats_object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-connectivity-stats-update-sms">iowa_client_connectivity_stats_update_sms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-connectivity-stats-update-ip-data">iowa_client_connectivity_stats_update_ip_data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#digital-output-object-api">Digital Output Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id369">Callbacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id371">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#dimmer-object-api">Dimmer Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id388">Callbacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id390">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#firmware-update-object-api">Firmware Update Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id412">Data Structures and Constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id413">Callbacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id415">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#gps-object-api">GPS Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-add-gps-object">iowa_client_add_gps_object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-remove-gps-object">iowa_client_remove_gps_object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-gps-update-location">iowa_client_gps_update_location</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-gps-update-location-full">iowa_client_gps_update_location_full</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#gyrometer-object-api">Gyrometer Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-add-gyrometer-object">iowa_client_add_gyrometer_object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-remove-gyrometer-object">iowa_client_remove_gyrometer_object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-gyrometer-update-axis">iowa_client_gyrometer_update_axis</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ipso-objects">IPSO Objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-ipso-add-sensor">iowa_client_IPSO_add_sensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-ipso-update-value">iowa_client_IPSO_update_value</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-ipso-update-values">iowa_client_IPSO_update_values</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-ipso-remove-sensor">iowa_client_IPSO_remove_sensor</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ligth-control-object-api">Ligth Control Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id494">Callbacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id496">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#location-object-api">Location Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-add-location-object">iowa_client_add_location_object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-remove-location-object">iowa_client_remove_location_object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-location-update">iowa_client_location_update</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-location-update-full">iowa_client_location_update_full</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#magnetometer-object-api">Magnetometer Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-add-magnetometer-object">iowa_client_add_magnetometer_object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-remove-magnetometer-object">iowa_client_remove_magnetometer_object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iowa-client-magnetometer-update-values">iowa_client_magnetometer_update_values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#software-component-object-api">Software Component Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id551">Data Structures and Constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id552">Callbacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id555">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#software-management-object-api">Software Management Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id583">Data Structures and Constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id584">Callbacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id587">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mqtt-object-api">MQTT Object API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id619">Data Structures and Constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id620">Callbacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id621">API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ServerAPI.html">Server Mode API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ServerAPI.html#server-pseudo-code">Server pseudo code</a></li>
<li class="toctree-l2"><a class="reference internal" href="ServerAPI.html#data-types">Data types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-supported-format-t">iowa_supported_format_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-lwm2m-protocol-version-t">iowa_lwm2m_protocol_version_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-client-t">iowa_client_t</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ServerAPI.html#callbacks">Callbacks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-result-callback-t">iowa_result_callback_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-monitor-callback-t">iowa_monitor_callback_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-resource-type-callback-t">iowa_resource_type_callback_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-verify-client-callback-t">iowa_verify_client_callback_t</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ServerAPI.html#api">API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-server-configure">iowa_server_configure</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-server-set-verify-client-callback">iowa_server_set_verify_client_callback</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-server-new-incoming-connection">iowa_server_new_incoming_connection</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-server-configure-data-push">iowa_server_configure_data_push</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-server-read">iowa_server_read</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-server-observe">iowa_server_observe</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-server-observe-cancel">iowa_server_observe_cancel</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-server-write">iowa_server_write</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-server-write-attributes-string">iowa_server_write_attributes_string</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-server-dm-exec">iowa_server_dm_exec</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-server-dm-create">iowa_server_dm_create</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-server-dm-delete">iowa_server_dm_delete</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-server-dm-discover">iowa_server_dm_discover</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-server-set-response-format">iowa_server_set_response_format</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-server-set-payload-format">iowa_server_set_payload_format</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-server-create-registration-update-trigger-message">iowa_server_create_registration_update_trigger_message</a></li>
<li class="toctree-l3"><a class="reference internal" href="ServerAPI.html#iowa-server-close-client-connection">iowa_server_close_client_connection</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="BootstrapServerAPI.html">Bootstrap Server Mode API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="BootstrapServerAPI.html#bootstrap-server-pseudo-code">Bootstrap Server pseudo code</a></li>
<li class="toctree-l2"><a class="reference internal" href="BootstrapServerAPI.html#callbacks">Callbacks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="BootstrapServerAPI.html#iowa-bootstrap-result-callback-t">iowa_bootstrap_result_callback_t</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="BootstrapServerAPI.html#api">API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="BootstrapServerAPI.html#iowa-bootstrap-server-configure">iowa_bootstrap_server_configure</a></li>
<li class="toctree-l3"><a class="reference internal" href="BootstrapServerAPI.html#iowa-bootstrap-server-new-incoming-connection">iowa_bootstrap_server_new_incoming_connection</a></li>
<li class="toctree-l3"><a class="reference internal" href="BootstrapServerAPI.html#iowa-bootstrap-server-read">iowa_bootstrap_server_read</a></li>
<li class="toctree-l3"><a class="reference internal" href="BootstrapServerAPI.html#iowa-bootstrap-server-write">iowa_bootstrap_server_write</a></li>
<li class="toctree-l3"><a class="reference internal" href="BootstrapServerAPI.html#iowa-bootstrap-server-delete">iowa_bootstrap_server_delete</a></li>
<li class="toctree-l3"><a class="reference internal" href="BootstrapServerAPI.html#iowa-bootstrap-server-discover">iowa_bootstrap_server_discover</a></li>
<li class="toctree-l3"><a class="reference internal" href="BootstrapServerAPI.html#iowa-bootstrap-server-finish">iowa_bootstrap_server_finish</a></li>
<li class="toctree-l3"><a class="reference internal" href="BootstrapServerAPI.html#iowa-bootstrap-server-add-server">iowa_bootstrap_server_add_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="BootstrapServerAPI.html#iowa-bootstrap-server-remove-server">iowa_bootstrap_server_remove_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="BootstrapServerAPI.html#iowa-bootstrap-server-add-bootstrap-server">iowa_bootstrap_server_add_bootstrap_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="BootstrapServerAPI.html#iowa-bootstrap-server-remove-bootstrap-server">iowa_bootstrap_server_remove_bootstrap_server</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="UtilsAPI.html">Utils API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="UtilsAPI.html#data-types">Data types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="UtilsAPI.html#iowa-list-t">iowa_list_t</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="UtilsAPI.html#callbacks">Callbacks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="UtilsAPI.html#iowa-list-node-free-callback-t">iowa_list_node_free_callback_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="UtilsAPI.html#iowa-list-node-find-callback-t">iowa_list_node_find_callback_t</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="UtilsAPI.html#api">API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="UtilsAPI.html#iowa-utils-base64-get-encoded-size">iowa_utils_base64_get_encoded_size</a></li>
<li class="toctree-l3"><a class="reference internal" href="UtilsAPI.html#iowa-utils-base64-get-decoded-size">iowa_utils_base64_get_decoded_size</a></li>
<li class="toctree-l3"><a class="reference internal" href="UtilsAPI.html#iowa-utils-base64-encode">iowa_utils_base64_encode</a></li>
<li class="toctree-l3"><a class="reference internal" href="UtilsAPI.html#iowa-utils-base64-decode">iowa_utils_base64_decode</a></li>
<li class="toctree-l3"><a class="reference internal" href="UtilsAPI.html#iowa-utils-uri-to-sensor">iowa_utils_uri_to_sensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="UtilsAPI.html#iowa-utils-sensor-to-uri">iowa_utils_sensor_to_uri</a></li>
<li class="toctree-l3"><a class="reference internal" href="UtilsAPI.html#iowa-utils-list-add">iowa_utils_list_add</a></li>
<li class="toctree-l3"><a class="reference internal" href="UtilsAPI.html#iowa-utils-list-remove">iowa_utils_list_remove</a></li>
<li class="toctree-l3"><a class="reference internal" href="UtilsAPI.html#iowa-utils-list-free">iowa_utils_list_free</a></li>
<li class="toctree-l3"><a class="reference internal" href="UtilsAPI.html#iowa-utils-list-find">iowa_utils_list_find</a></li>
<li class="toctree-l3"><a class="reference internal" href="UtilsAPI.html#iowa-utils-list-find-and-remove">iowa_utils_list_find_and_remove</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="UtilsAPI.html#example-linked-list-usage">Example: Linked List usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="DeprecatedAPI.html">Deprecated API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="DeprecatedAPI.html#deprecated-compilation-flags">Deprecated Compilation Flags</a><ul>
<li class="toctree-l3"><a class="reference internal" href="DeprecatedAPI.html#iowa-single-connection-mode">IOWA_SINGLE_CONNECTION_MODE</a></li>
<li class="toctree-l3"><a class="reference internal" href="DeprecatedAPI.html#lwm2m-single-server-mode">LWM2M_SINGLE_SERVER_MODE</a></li>
<li class="toctree-l3"><a class="reference internal" href="DeprecatedAPI.html#lwm2m-old-content-format-support">LWM2M_OLD_CONTENT_FORMAT_SUPPORT</a></li>
<li class="toctree-l3"><a class="reference internal" href="DeprecatedAPI.html#iowa-lorawan-minimal-support">IOWA_LORAWAN_MINIMAL_SUPPORT</a></li>
<li class="toctree-l3"><a class="reference internal" href="DeprecatedAPI.html#lwm2m-notification-queue-size">LWM2M_NOTIFICATION_QUEUE_SIZE</a></li>
<li class="toctree-l3"><a class="reference internal" href="DeprecatedAPI.html#lwm2m-storage-queue-peek-support">LWM2M_STORAGE_QUEUE_PEEK_SUPPORT</a></li>
<li class="toctree-l3"><a class="reference internal" href="DeprecatedAPI.html#lwm2m-features-removal">LwM2M features removal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="DeprecatedAPI.html#deprecated-enumeration-values">Deprecated Enumeration Values</a><ul>
<li class="toctree-l3"><a class="reference internal" href="DeprecatedAPI.html#iowa-ipso-level-control">IOWA_IPSO_LEVEL_CONTROL</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="DeprecatedAPI.html#deprecated-api">Deprecated API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="DeprecatedAPI.html#iowa-server-configuration-set">iowa_server_configuration_set</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="OpenSourceLicenses.html">Appendix A</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Iowa (Lite version)</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Client Mode API Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/iowa_docs/ClientAPI.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="client-mode-api-reference">
<h1>Client Mode API Reference<a class="headerlink" href="#client-mode-api-reference" title="Permalink to this headline"></a></h1>
<p>The functions explained below are defined inside the file <em>include/iowa_client.h</em> and the Objects folder <em>include/objects</em>.</p>
<div class="section" id="client-pseudo-code">
<h2>Client pseudo code<a class="headerlink" href="#client-pseudo-code" title="Permalink to this headline"></a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&quot;iowa_client.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;iowa_ipso.h&quot;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span>
         <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="n">iowa_context_t</span> <span class="n">iowaH</span><span class="p">;</span>
    <span class="n">iowa_status_t</span> <span class="n">result</span><span class="p">;</span>
    <span class="n">iowa_device_info_t</span> <span class="n">devInfo</span><span class="p">;</span>
    <span class="n">iowa_sensor_t</span> <span class="n">sensorId</span><span class="p">;</span>

    <span class="cm">/******************</span>
<span class="cm">    * Initialization</span>
<span class="cm">    */</span>

    <span class="n">iowaH</span> <span class="o">=</span> <span class="n">iowa_init</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>

    <span class="n">devInfo</span><span class="p">.</span><span class="n">manufacturer</span> <span class="o">=</span> <span class="s">&quot;IOTEROP&quot;</span><span class="p">;</span>
    <span class="n">devInfo</span><span class="p">.</span><span class="n">deviceType</span> <span class="o">=</span> <span class="s">&quot;Example device&quot;</span><span class="p">;</span>
    <span class="n">devInfo</span><span class="p">.</span><span class="n">modelNumber</span> <span class="o">=</span> <span class="s">&quot;1&quot;</span><span class="p">;</span>
    <span class="n">devInfo</span><span class="p">.</span><span class="n">serialNumber</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
    <span class="n">devInfo</span><span class="p">.</span><span class="n">hardwareVersion</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
    <span class="n">devInfo</span><span class="p">.</span><span class="n">softwareVersion</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
    <span class="n">devInfo</span><span class="p">.</span><span class="n">optFlags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">iowa_client_configure</span><span class="p">(</span><span class="n">iowaH</span><span class="p">,</span> <span class="s">&quot;IOWA_Sample_Client&quot;</span><span class="p">,</span> <span class="n">devInfo</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">iowa_client_IPSO_add_sensor</span><span class="p">(</span><span class="n">iowaH</span><span class="p">,</span>
                                         <span class="n">IOWA_IPSO_VOLTAGE</span><span class="p">,</span> <span class="mf">12.0</span><span class="p">,</span>
                                         <span class="s">&quot;V&quot;</span><span class="p">,</span> <span class="s">&quot;Test DC&quot;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>
                                         <span class="o">&amp;</span><span class="n">sensorId</span><span class="p">);</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">iowa_client_add_server</span><span class="p">(</span><span class="n">iowaH</span><span class="p">,</span> <span class="mi">1234</span><span class="p">,</span> <span class="s">&quot;coap://localhost:5683&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">IOWA_SEC_NONE</span><span class="p">);</span>

    <span class="cm">/******************</span>
<span class="cm">    * &quot;Main loop&quot;</span>
<span class="cm">    */</span>

    <span class="k">while</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">IOWA_COAP_NO_ERROR</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">float</span> <span class="n">sensorValue</span><span class="p">;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">iowa_step</span><span class="p">(</span><span class="n">iowaH</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>

        <span class="n">sensorValue</span> <span class="o">=</span> <span class="n">read_battery_voltage</span><span class="p">();</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">iowa_client_IPSO_update_value</span><span class="p">(</span><span class="n">iowaH</span><span class="p">,</span>
                                               <span class="n">sensorId</span><span class="p">,</span>
                                               <span class="n">sensorValue</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">iowa_client_IPSO_remove_sensor</span><span class="p">(</span><span class="n">iowaH</span><span class="p">,</span> <span class="n">sensorId</span><span class="p">);</span>
    <span class="n">iowa_close</span><span class="p">(</span><span class="n">iowaH</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>\clearpage</p>
</div>
<div class="section" id="data-types">
<h2>Data types<a class="headerlink" href="#data-types" title="Permalink to this headline"></a></h2>
<div class="section" id="iowa-server-setting-id-t">
<h3>iowa_server_setting_id_t<a class="headerlink" href="#iowa-server-setting-id-t" title="Permalink to this headline"></a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">uint8_t</span> <span class="n">iowa_server_setting_id_t</span><span class="p">;</span>
</pre></div>
</div>
<div class="section" id="possible-values">
<h4>Possible Values<a class="headerlink" href="#possible-values" title="Permalink to this headline"></a></h4>
<p><strong>IOWA_SERVER_SETTING_QUEUE_MODE</strong>
: A flag to set the queue mode of a server.</p>
<p><strong>IOWA_SERVER_SETTING_LIFETIME</strong>
: A flag to set the lifetime of a server.</p>
</div>
</div>
<div class="section" id="iowa-lwm2m-binding-t">
<h3>iowa_lwm2m_binding_t<a class="headerlink" href="#iowa-lwm2m-binding-t" title="Permalink to this headline"></a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">uint8_t</span> <span class="n">iowa_lwm2m_binding_t</span><span class="p">;</span>
</pre></div>
</div>
<p><strong>IOWA_LWM2M_BINDING_UNKNOWN</strong>
: The flag to define Unknown binding.</p>
<p><strong>IOWA_LWM2M_BINDING_UDP</strong>
: The flag to define UDP binding.</p>
<p><strong>IOWA_LWM2M_BINDING_TCP</strong>
: The flag to define TCP binding.</p>
<p><strong>IOWA_LWM2M_BINDING_SMS</strong>
: The flag to define SMS binding.</p>
<p><strong>IOWA_LWM2M_BINDING_NON_IP</strong>
: The flag to define Non-IP binding.</p>
</div>
<div class="section" id="iowa-server-info-t">
<h3>iowa_server_info_t<a class="headerlink" href="#iowa-server-info-t" title="Permalink to this headline"></a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="kt">uint16_t</span>                      <span class="n">shortId</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span>                   <span class="o">*</span><span class="n">uriP</span><span class="p">;</span>
    <span class="kt">int32_t</span>                       <span class="n">lifetime</span><span class="p">;</span>
    <span class="n">iowa_lwm2m_binding_t</span>          <span class="n">binding</span><span class="p">;</span>
    <span class="kt">bool</span>                          <span class="n">queueMode</span><span class="p">;</span>
<span class="p">}</span> <span class="n">iowa_server_info_t</span><span class="p">;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">iowa_server_info_t</span></code> structure is used to get the shortID and the parameters of the configured servers.</p>
<p>shortId
: the Short ID assigned to the server.</p>
<p>uriP
: The uri to connect with the server.</p>
<p>lifetime
: The lifetime in seconds of the registration to the server.</p>
<p>binding
: The binding used to connect to the server.</p>
<p>queueMode
: The state of the Queue mode of the server.</p>
</div>
<div class="section" id="iowa-device-info-t">
<h3>iowa_device_info_t<a class="headerlink" href="#iowa-device-info-t" title="Permalink to this headline"></a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">manufacturer</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">deviceType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">modelNumber</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">serialNumber</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">hardwareVersion</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">firmwareVersion</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">softwareVersion</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">msisdn</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">optFlags</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">utcOffsetP</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">timezoneP</span><span class="p">;</span>
    <span class="n">iowa_client_time_update_callback_t</span>    <span class="n">dataTimeUpdateCallback</span><span class="p">;</span>
    <span class="n">iowa_client_factory_reset_callback_t</span>  <span class="n">factoryResetCallback</span><span class="p">;</span>
    <span class="kt">void</span>                                 <span class="o">*</span><span class="n">callbackUserDataP</span><span class="p">;</span>
<span class="p">}</span> <span class="n">iowa_device_info_t</span><span class="p">;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">iowa_device_info_t</span></code> structure exists only for the sake of the readability of <code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>. It contains pointers to nil-terminated strings described below. As all these information are optional in a LwM2M Client, these pointers can be nil. The LwM2M standard does not mandate any format for these strings. They are manufacturer specific.</p>
<p>manufacturer
: A human readable manufacturer name.</p>
<p>deviceType
: The type of the device.</p>
<p>modelNumber
: The number of the model.</p>
<p>serialNumber
: The serial number of the device.</p>
<p>hardwareVersion
: The current version of the device hardware.</p>
<p>firmwareVersion
: The current version of the device firmware.</p>
<p>softwareVersion
: The current version of the device software.</p>
<p>msisdn
: The phone number of the device.</p>
<p>optFlags
: Flags used to enable optional features. This value is a combination of:</p>
<ul class="simple">
<li><p><strong>IOWA_DEVICE_RSC_BATTERY</strong>: enables the battery level and status exposed in the [<code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Object</span></code>][Device Object]. To update battery level you need to call [<code class="docutils literal notranslate"><span class="pre">iowa_client_device_update_battery()</span></code>][iowa_client_device_update_battery].</p></li>
<li><p><strong>IOWA_DEVICE_RSC_POWER_SOURCE</strong>: enables the power sources information in the [<code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Object</span></code>][Device Object]. To add any new power source you need to call [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_device_power_source()</span></code>][iowa_client_add_device_power_source].</p></li>
<li><p><strong>IOWA_DEVICE_RSC_CURRENT_TIME</strong>: enables the use of current time in the [<code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Object</span></code>][Device Object] (default value: 0).</p></li>
<li><p><strong>IOWA_DEVICE_RSC_UTC_OFFSET</strong>: enables the use of UTC offset in the [<code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Object</span></code>][Device Object] (default value: utcOffsetP).</p></li>
<li><p><strong>IOWA_DEVICE_RSC_TIMEZONE</strong>: enables the use of timezone in the [<code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Object</span></code>][Device Object] (default value: 0).</p></li>
</ul>
<p>utcOffsetP
: Indicates the UTC offset currently in effect for this LwM2M Device. It should be in the ISO 8601 format (UTC+X).</p>
<p>timezoneP
: Indicates in which time zone the LwM2M Device is located, in IANA Timezone (TZ) database format.</p>
<p>dataTimeUpdateCallback
: The callback called when the time information is updated by the LwM2M Server.</p>
<p>factoryResetCallback
: The callback called on a Factory Reset.</p>
<p>callbackUserDataP
: Passed as argument to the callbacks <code class="docutils literal notranslate"><span class="pre">dataTimeUpdateCallback</span></code> and <code class="docutils literal notranslate"><span class="pre">factoryResetCallback</span></code>.</p>
<div class="section" id="notes">
<h4>Notes {-}<a class="headerlink" href="#notes" title="Permalink to this headline"></a></h4>
<p>To update time information (current time, UTC offset, timezone) you need to call [<code class="docutils literal notranslate"><span class="pre">iowa_client_update_device_time_information()</span></code>][iowa_client_update_device_time_information]</p>
<p>To update device related information (manufacturer, model number, serial number, firmware version, device type, hardware version, software version.) you need to call [<code class="docutils literal notranslate"><span class="pre">iowa_client_update_device_information()</span></code>][iowa_client_update_device_information].</p>
</div>
</div>
<div class="section" id="iowa-event-type-t">
<h3>iowa_event_type_t<a class="headerlink" href="#iowa-event-type-t" title="Permalink to this headline"></a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">enum</span>
<span class="p">{</span>
    <span class="n">IOWA_EVENT_UNDEFINED</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">IOWA_EVENT_REG_UNREGISTERED</span><span class="p">,</span>
    <span class="n">IOWA_EVENT_REG_REGISTERING</span><span class="p">,</span>
    <span class="n">IOWA_EVENT_REG_REGISTERED</span><span class="p">,</span>
    <span class="n">IOWA_EVENT_REG_UPDATING</span><span class="p">,</span>
    <span class="n">IOWA_EVENT_REG_FAILED</span><span class="p">,</span>
    <span class="n">IOWA_EVENT_REG_UPDATE_FAILED</span><span class="p">,</span>
    <span class="n">IOWA_EVENT_BS_PENDING</span><span class="p">,</span>
    <span class="n">IOWA_EVENT_BS_FINISHED</span><span class="p">,</span>
    <span class="n">IOWA_EVENT_BS_FAILED</span><span class="p">,</span>
    <span class="n">IOWA_EVENT_OBSERVATION_STARTED</span><span class="p">,</span>
    <span class="n">IOWA_EVENT_OBSERVATION_NOTIFICATION</span><span class="p">,</span>
    <span class="n">IOWA_EVENT_OBSERVATION_CANCELED</span><span class="p">,</span>
    <span class="n">IOWA_EVENT_OBJECT_INSTANCE_CREATED</span><span class="p">,</span>
    <span class="n">IOWA_EVENT_OBJECT_INSTANCE_DELETED</span><span class="p">,</span>
    <span class="n">IOWA_EVENT_EVALUATION_PERIOD</span><span class="p">,</span>
    <span class="n">IOWA_EVENT_READ</span>
<span class="p">}</span> <span class="n">iowa_event_type_t</span><span class="p">;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">iowa_event_type_t</span></code> contains the possible events that can be reported by the IOWA stack.</p>
</div>
<div class="section" id="iowa-event-t">
<h3>iowa_event_t<a class="headerlink" href="#iowa-event-t" title="Permalink to this headline"></a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="n">iowa_event_type_t</span> <span class="n">eventType</span><span class="p">;</span>
    <span class="kt">uint16_t</span>          <span class="n">serverShortId</span><span class="p">;</span>
    <span class="k">union</span>
    <span class="p">{</span>
        <span class="k">struct</span>
        <span class="p">{</span>
            <span class="kt">uint32_t</span> <span class="n">lifetime</span><span class="p">;</span>
        <span class="p">}</span> <span class="n">registration</span><span class="p">;</span>
        <span class="k">struct</span>
        <span class="p">{</span>
            <span class="n">iowa_sensor_t</span> <span class="n">sensorId</span><span class="p">;</span>
            <span class="kt">uint16_t</span> <span class="n">resourceId</span><span class="p">;</span>
            <span class="kt">uint32_t</span> <span class="n">minPeriod</span><span class="p">;</span>
            <span class="kt">uint32_t</span> <span class="n">maxPeriod</span><span class="p">;</span>
            <span class="kt">uint32_t</span> <span class="n">minEvalPeriod</span><span class="p">;</span>
            <span class="kt">uint32_t</span> <span class="n">maxEvalPeriod</span><span class="p">;</span>
        <span class="p">}</span> <span class="n">observation</span><span class="p">;</span>
        <span class="k">struct</span>
        <span class="p">{</span>
            <span class="n">iowa_lwm2m_uri_t</span> <span class="o">*</span> <span class="n">uriP</span><span class="p">;</span>
        <span class="p">}</span> <span class="n">objectInstance</span><span class="p">;</span>
        <span class="k">struct</span>
        <span class="p">{</span>
            <span class="n">iowa_lwm2m_uri_t</span> <span class="o">*</span> <span class="n">uriP</span><span class="p">;</span>
            <span class="kt">uint32_t</span> <span class="n">minEvalPeriod</span><span class="p">;</span>
            <span class="kt">uint32_t</span> <span class="n">maxEvalPeriod</span><span class="p">;</span>
        <span class="p">}</span> <span class="n">evalPeriod</span><span class="p">;</span>
        <span class="k">struct</span>
        <span class="p">{</span>
            <span class="n">iowa_sensor_t</span> <span class="n">sensorId</span><span class="p">;</span>
        <span class="p">}</span> <span class="n">sensor</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">details</span><span class="p">;</span>
<span class="p">}</span> <span class="n">iowa_event_t</span><span class="p">;</span>
</pre></div>
</div>
<p>eventType
: the event type.</p>
<p>serverShortId
: the short server ID of the LwM2M Server generating this event.</p>
<p>details
: the details of the event.</p>
<p>details::registration
: filled when the event is of type <strong>IOWA_EVENT_REG_UNREGISTERED</strong>, <strong>IOWA_EVENT_REG_REGISTERING</strong>, <strong>IOWA_EVENT_REG_REGISTERED</strong>, <strong>IOWA_EVENT_REG_UPDATING</strong>, <strong>IOWA_EVENT_REG_FAILED</strong> or <strong>IOWA_EVENT_REG_UPDATE_FAILED</strong>.</p>
<p>details::registration::lifetime
: the lifetime of the registration to the LwM2M Server generating this event.</p>
<p>details::observation
: filled when the event is of type <strong>IOWA_EVENT_OBSERVATION_STARTED</strong>,  <strong>IOWA_EVENT_OBSERVATION_NOTIFICATION</strong>, or <strong>IOWA_EVENT_OBSERVATION_CANCELED</strong></p>
<p>details::observation::sensorId
: the ID of the sensor under observation.</p>
<p>details::observation::resourceId
: the ID of the specific resource under observation of the sensor. This may be <strong>IOWA_LWM2M_ID_ALL</strong>.</p>
<p>details::observation::minPeriod
: the minimum time in seconds to wait between notifications for the observation. If not set the minPeriod is to 0.</p>
<p>details::observation::maxPeriod
: the maximum time in seconds to wait between notifications for the observation. If not set the maxPeriod is to UINT32_MAX.</p>
<p>details::observation::minEvalPeriod
: the minimum sample time in seconds for the observed sensor in LwM2M 1.1 or later. If not set the minEvalPeriod is to 0.</p>
<p>details::observation::maxEvalPeriod
: the maximum sample time in seconds for the observed sensor in LwM2M 1.1 or later. If not set the maxEvalPeriod is to UINT32_MAX.</p>
<p>details::instance
: filled when the event is of type <strong>IOWA_EVENT_OBJECT_INSTANCE_CREATED</strong> or <strong>IOWA_EVENT_OBJECT_INSTANCE_DELETED</strong>.</p>
<p>details::instance::uri
: a pointer to the <code class="docutils literal notranslate"><span class="pre">iowa_lwm2m_uri_t</span></code> of the instance that has been created or deleted.</p>
<p>details::evalPeriod
: filled when the event is of type <strong>IOWA_EVENT_EVALUATION_PERIOD</strong>. Available when the flag IOWA_LWM2M_VERSION_1_1 is set.</p>
<p>details::evalPeriod::uriP
: a pointer to the <code class="docutils literal notranslate"><span class="pre">iowa_lwm2m_uri_t</span></code> of the uri where evaluation period has been set.</p>
<p>details::evalPeriod::minEvalPeriod
: the minimum sample time in seconds for the concerned uri. If the LwM2M Server unsets it or does not set it, the value is 0.</p>
<p>details::evalPeriod::maxEvalPeriod
: the maximum sample time in seconds for the concerned uri. If the LwM2M Server unsets it or does not set it, the value is UINT32_MAX.</p>
<p>details::sensor
: filled when the event is of type <strong>IOWA_EVENT_READ</strong>.</p>
<p>details::sensor::sensorId
: the ID of the sensor targeted by a Read operation from the LwM2M Server.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">iowa_event_t</span></code> is used by <code class="docutils literal notranslate"><span class="pre">iowa_event_callback_t</span></code> when an event occurred on a client. These events are described by <code class="docutils literal notranslate"><span class="pre">iowa_event_type_t</span></code>.</p>
<blockquote>
<div><p>The IOWA stack handles the minimum and maximum observation periods. They are provided in <code class="docutils literal notranslate"><span class="pre">iowa_event_t</span></code> as an information for the application. Embedded devices may use this information to tune their measurement or sleeping schedule.</p>
</div></blockquote>
<blockquote>
<div><p>The IOWA stack does not handle the minimum and maximum evaluation observation periods. They are provided in <code class="docutils literal notranslate"><span class="pre">iowa_event_t</span></code> as sample times for the application. Embedded devices may use those sample times to tune their measurement or sleeping schedule.</p>
</div></blockquote>
</div>
<div class="section" id="iowa-device-time-info-t">
<h3>iowa_device_time_info_t<a class="headerlink" href="#iowa-device-time-info-t" title="Permalink to this headline"></a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="kt">uint16_t</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="kt">int32_t</span>     <span class="n">currentTime</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">utcOffsetP</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">timezoneP</span><span class="p">;</span>
<span class="p">}</span> <span class="n">iowa_device_time_info_t</span><span class="p">;</span>
</pre></div>
</div>
<p>flags
: Flags used to enable optional time information. This value is a combination of:</p>
<ul class="simple">
<li><p><strong>IOWA_DEVICE_RSC_CURRENT_TIME</strong> : current time has a new current time value from server</p></li>
<li><p><strong>IOWA_DEVICE_RSC_UTC_OFFSET</strong> : current time has a new UTC offset value from server</p></li>
<li><p><strong>IOWA_DEVICE_RSC_TIMEZONE</strong> : current time has a new timezone value from server</p></li>
</ul>
<p>currentTime
: Current UNIX time of the LwM2M Client in seconds.</p>
<p>utcOffsetP
: Indicates the UTC offset currently in effect for this LwM2M Device. It should be in the ISO 8601 format (UTC+X). Could be nil, if not UTC offset is enable.</p>
<p>timezoneP
: Indicates in which time zone the LwM2M Device is located, in IANA Timezone (TZ) database format. Could be nil, if not Timezone is enable.</p>
</div>
<div class="section" id="iowa-ipso-timed-value-t">
<h3>iowa_ipso_timed_value_t<a class="headerlink" href="#iowa-ipso-timed-value-t" title="Permalink to this headline"></a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="kt">float</span> <span class="n">value</span><span class="p">;</span>
    <span class="kt">int32_t</span> <span class="n">timestamp</span><span class="p">;</span>
<span class="p">}</span> <span class="n">iowa_ipso_timed_value_t</span><span class="p">;</span>
</pre></div>
</div>
<p>value
: The timestamped value.</p>
<p>timestamp
: The timestamp associated to the value in seconds. This can not be negative.</p>
</div>
<div class="section" id="iowa-sensor-t">
<h3>iowa_sensor_t<a class="headerlink" href="#iowa-sensor-t" title="Permalink to this headline"></a></h3>
<p>This must be treated as an opaque type. It is internally mapped to a 32-bit unsigned integer.</p>
<div class="section" id="special-values">
<h4>Special Values<a class="headerlink" href="#special-values" title="Permalink to this headline"></a></h4>
<p><strong>IOWA_INVALID_SENSOR_ID</strong>
: Used to indicate an error by APIs returning an <code class="docutils literal notranslate"><span class="pre">iowa_sensor_t</span></code>.</p>
<p><strong>IOWA_DEVICE_TIME_SENSOR_ID</strong>
: The sensor ID of the Current Time of the device. This is internally mapped to the resource 13 in the [Device Object][Device Object].</p>
</div>
</div>
<div class="section" id="iowa-lwm2m-resource-desc-t">
<h3>iowa_lwm2m_resource_desc_t<a class="headerlink" href="#iowa-lwm2m-resource-desc-t" title="Permalink to this headline"></a></h3>
<p>This structure contains the description of a LwM2M resource.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="kt">uint16_t</span> <span class="n">id</span><span class="p">;</span>
    <span class="n">iowa_lwm2m_data_type_t</span> <span class="n">type</span><span class="p">;</span>
    <span class="kt">uint8_t</span> <span class="n">operations</span><span class="p">;</span>
    <span class="kt">uint8_t</span> <span class="n">flags</span><span class="p">;</span>
<span class="p">}</span> <span class="n">iowa_lwm2m_resource_desc_t</span><span class="p">;</span>
</pre></div>
</div>
<p><em>id</em>
: ID of the resource.</p>
<p><em>type</em>
: The datatype of the resource.</p>
<p><em>operations</em>
: The operations allowed on the resource.
: This is a mask of values <strong>IOWA_OPERATION_READ</strong>, <strong>IOWA_OPERATION_WRITE</strong> and <strong>IOWA_OPERATION_EXECUTE</strong>.</p>
<p><em>flags</em>
: The flags of the resource.
: This is a mask of values <strong>IOWA_RESOURCE_FLAG_NONE</strong>, <strong>IOWA_RESOURCE_FLAG_OPTIONAL</strong>, <strong>IOWA_RESOURCE_FLAG_MANDATORY</strong>, <strong>IOWA_RESOURCE_FLAG_MULTIPLE</strong>, and <strong>IOWA_RESOURCE_FLAG_ASYNCHRONOUS</strong>.</p>
</div>
<div class="section" id="iowa-sensor-uri-t">
<h3>iowa_sensor_uri_t<a class="headerlink" href="#iowa-sensor-uri-t" title="Permalink to this headline"></a></h3>
<p>This structure describes a sensor URI.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">;</span>
    <span class="kt">uint16_t</span> <span class="n">resourceId</span><span class="p">;</span>
<span class="p">}</span> <span class="n">iowa_sensor_uri_t</span><span class="p">;</span>
</pre></div>
</div>
<p><em>id</em>
: ID of the object.</p>
<p><em>resourceId</em>
: The ID of the resource. This can be <strong>IOWA_LWM2M_ID_ALL</strong>.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="callbacks">
<h2>Callbacks<a class="headerlink" href="#callbacks" title="Permalink to this headline"></a></h2>
<div class="section" id="iowa-event-callback-t">
<h3>iowa_event_callback_t<a class="headerlink" href="#iowa-event-callback-t" title="Permalink to this headline"></a></h3>
<p>This is the event callback, called when an event such as registration update or unregister occurred.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">void</span><span class="p">(</span><span class="o">*</span><span class="n">iowa_event_callback_t</span><span class="p">)</span> <span class="p">(</span><span class="n">iowa_event_t</span><span class="o">*</span> <span class="n">eventP</span><span class="p">,</span>
                                      <span class="kt">void</span> <span class="o">*</span> <span class="n">userData</span><span class="p">,</span>
                                      <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>eventP</em>
: The event stored in a structure.</p>
<p><em>userData</em>
: A pointer to application specific data. This is a parameter of [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure] was called.</p>
</div>
<div class="section" id="iowa-client-time-update-callback-t">
<h3>iowa_client_time_update_callback_t<a class="headerlink" href="#iowa-client-time-update-callback-t" title="Permalink to this headline"></a></h3>
<p>This callback is called when time information are updated by server.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">void</span><span class="p">(</span><span class="o">*</span><span class="n">iowa_client_time_update_callback_t</span><span class="p">)</span> <span class="p">(</span><span class="n">iowa_device_time_info_t</span> <span class="o">*</span><span class="n">timeInfoP</span><span class="p">,</span>
                                                   <span class="kt">void</span>  <span class="o">*</span><span class="n">userDataP</span><span class="p">,</span>
                                                   <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>timeInfoP</em>
: Current device time information.</p>
<p><em>userDataP</em>
: A pointer to application specific data. This is the parameter of [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure] was called.</p>
</div>
<div class="section" id="iowa-client-factory-reset-callback-t">
<h3>iowa_client_factory_reset_callback_t<a class="headerlink" href="#iowa-client-factory-reset-callback-t" title="Permalink to this headline"></a></h3>
<p>This callback is called when a factory reset is requested.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">void</span><span class="p">(</span><span class="o">*</span><span class="n">iowa_client_factory_reset_callback_t</span><span class="p">)</span> <span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">userDataP</span><span class="p">,</span>
                                                     <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>userDataP</em>
: A pointer to application specific data. This is the parameter of [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure] was called.</p>
</div>
<div class="section" id="iowa-rwe-callback-t">
<h3>iowa_RWE_callback_t<a class="headerlink" href="#iowa-rwe-callback-t" title="Permalink to this headline"></a></h3>
<p>This callback is called when a Read, Write or Execute operation is performed on a resource of a custom LwM2M Object.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">iowa_status_t</span><span class="p">(</span><span class="o">*</span><span class="n">iowa_RWE_callback_t</span><span class="p">)</span> <span class="p">(</span><span class="n">iowa_dm_operation_t</span> <span class="n">operation</span><span class="p">,</span>
                                             <span class="n">iowa_lwm2m_data_t</span> <span class="o">*</span> <span class="n">dataP</span><span class="p">,</span>
                                             <span class="kt">size_t</span> <span class="n">numData</span><span class="p">,</span>
                                             <span class="kt">void</span> <span class="o">*</span> <span class="n">userData</span><span class="p">,</span>
                                             <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>operation</em>
: The operation to perform on the resource among <strong>IOWA_DM_READ</strong>, <strong>IOWA_DM_WRITE</strong> and <strong>IOWA_DM_EXECUTE</strong>.</p>
<p><em>dataP</em>
: An array of the URIs of the targeted resources.
: For a Write operation, it also contains the value to write.
: For a Read operation, the result is to be stored in this.</p>
<p><em>numData</em>
: Number of resources in dataP.</p>
<p><em>userData</em>
: A pointer to application specific data. This is the parameter of [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_custom_object()</span></code>][iowa_client_add_custom_object].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_custom_object()</span></code>][iowa_client_add_custom_object] was called.</p>
<div class="section" id="id1">
<h4>Notes<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h4>
<ul class="simple">
<li><p>Before calling this callback, the IOWA stack performs checks on the resource existence and its allowed operations. In case of a Write operation, the data type is also checked for conformance.</p></li>
<li><p>The LwM2M Execute operation may have parameters. If so, they are provided as a string in <em>dataP</em>.</p></li>
<li><p>After [<strong>IOWA_DM_READ</strong>][iowa_dm_operation_t] operation, the callback is called with [<strong>IOWA_DM_FREE</strong>][iowa_dm_operation_t] operation to permit the deallocation of memory that may have been allocated by the callback previously.</p></li>
</ul>
</div>
</div>
<div class="section" id="iowa-cd-callback-t">
<h3>iowa_CD_callback_t<a class="headerlink" href="#iowa-cd-callback-t" title="Permalink to this headline"></a></h3>
<p>This callback is called when a Create or Delete operation is performed on an instance of a custom LwM2M Object.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">iowa_status_t</span><span class="p">(</span><span class="o">*</span><span class="n">iowa_CD_callback_t</span><span class="p">)</span> <span class="p">(</span><span class="n">iowa_dm_operation_t</span> <span class="n">operation</span><span class="p">,</span>
                                            <span class="kt">uint16_t</span> <span class="n">objectID</span><span class="p">,</span>
                                            <span class="kt">uint16_t</span> <span class="n">instanceID</span><span class="p">,</span>
                                            <span class="kt">void</span> <span class="o">*</span> <span class="n">userData</span><span class="p">,</span>
                                            <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>operation</em>
: The operation to perform on the resource among <strong>IOWA_DM_CREATE</strong> and <strong>IOWA_DM_DELETE</strong>.</p>
<p><em>objectID</em>
: The ID of the targeted Object.</p>
<p><em>instanceID</em>
: The ID of the targeted instance.</p>
<p><em>userData</em>
: A pointer to application specific data. This is the parameter of [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_custom_object()</span></code>][iowa_client_add_custom_object].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_custom_object()</span></code>][iowa_client_add_custom_object] was called.</p>
</div>
<div class="section" id="iowa-ri-callback-t">
<h3>iowa_RI_callback_t<a class="headerlink" href="#iowa-ri-callback-t" title="Permalink to this headline"></a></h3>
<p>This callback is called to retrieve the list of current resource instance IDs for a multiple resource.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">iowa_status_t</span><span class="p">(</span><span class="o">*</span><span class="n">iowa_RI_callback_t</span><span class="p">)</span> <span class="p">(</span><span class="kt">uint16_t</span> <span class="n">objectID</span><span class="p">,</span>
                                            <span class="kt">uint16_t</span> <span class="n">instanceID</span><span class="p">,</span>
                                            <span class="kt">uint16_t</span> <span class="n">resourceID</span><span class="p">,</span>
                                            <span class="kt">uint16_t</span> <span class="o">*</span> <span class="n">nbResInstanceP</span><span class="p">,</span>
                                            <span class="kt">uint16_t</span> <span class="o">**</span> <span class="n">resInstanceArrayP</span><span class="p">,</span>
                                            <span class="kt">void</span> <span class="o">*</span> <span class="n">userData</span><span class="p">,</span>
                                            <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>objectID</em>
: The ID of the Object the resource belongs to.</p>
<p><em>instanceID</em>
: The ID of the Object Instance the resource belongs to.</p>
<p><em>resourceID</em>
: The ID of the targeted resource.</p>
<p><em>nbResInstanceP</em>
: Used to store the number of elements in resInstanceArrayP.</p>
<p><em>resInstanceArrayP</em>
: Used to store an array containing the resource instances IDs. This array will be freed by the caller by calling [<code class="docutils literal notranslate"><span class="pre">iowa_system_free()</span></code>][iowa_system_free].</p>
<p><em>userData</em>
: A pointer to application specific data. This is the parameter of [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_custom_object()</span></code>][iowa_client_add_custom_object].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_custom_object()</span></code>][iowa_client_add_custom_object] was called.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline"></a></h2>
<div class="section" id="iowa-client-configure">
<h3>iowa_client_configure<a class="headerlink" href="#iowa-client-configure" title="Permalink to this headline"></a></h3>
<div class="section" id="prototype">
<h4>Prototype {-}<a class="headerlink" href="#prototype" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_configure</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">identity</span><span class="p">,</span>
                                    <span class="n">iowa_device_info_t</span> <span class="o">*</span> <span class="n">infoP</span><span class="p">,</span>
                                    <span class="n">iowa_event_callback_t</span> <span class="n">eventCb</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="description">
<h4>Description {-}<a class="headerlink" href="#description" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code> sets the information of the LwM2M Client.</p>
</div>
<div class="section" id="arguments">
<h4>Arguments {-}<a class="headerlink" href="#arguments" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>identity</em>
: The unique identity of the LwM2M Client as a nil-terminated string.</p>
<p><em>infoP</em>
: The optional information of the LwM2M Client. This can be nil.</p>
<p><em>eventCb</em>
: The callback called when an event occurred. This can be nil.</p>
</div>
<div class="section" id="return-value">
<h4>Return Value {-}<a class="headerlink" href="#return-value" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>COAP_400_BAD_REQUEST
: either:
: - <em>identity</em> is nil or empty and <strong>LWM2M_VERSION_1_1_SUPPORT</strong> is not set.
: - the maximum length of <em>infoP-&gt;msisdn</em> is 15 digits.
: - <em>infoP-&gt;msisdn</em> is not nil, but <strong>IOWA_SMS_SUPPORT</strong> is not defined.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: the client was already configured in this context. To reconfigure the client, close than reopen a fresh IOWA context with [<code class="docutils literal notranslate"><span class="pre">iowa_close()</span></code>][iowa_close] and [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="header-file">
<h4>Header File {-}<a class="headerlink" href="#header-file" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id2">
<h4>Notes {-}<a class="headerlink" href="#id2" title="Permalink to this headline"></a></h4>
<p>The nil-terminated strings pointed by the fields of <em>infoP</em> are not duplicated nor freed by IOWA. Make sure they are available until [<code class="docutils literal notranslate"><span class="pre">iowa_close()</span></code>][iowa_close] is called. It is advised to use static strings.</p>
<p>The LwM2M Client information are exposed to the LwM2M Server through the Resources of the [<code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Object</span></code>][Device Object] (ID: 3). The following table explained the mapping:</p>
<table border="1" class="docutils">
<thead>
<tr>
<th>Resource ID</th>
<th>Resource Name</th>
<th>API</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Manufacturer</td>
<td><em>manufacturer</em> field of the [<code>iowa_device_info_t</code>][iowa_device_info_t] structure.</td>
</tr>
<tr>
<td>1</td>
<td>Model Number</td>
<td><em>modelNumber</em> field of the [<code>iowa_device_info_t</code>][iowa_device_info_t] structure.</td>
</tr>
<tr>
<td>2</td>
<td>Serial Number</td>
<td><em>serialNumber</em> field of the [<code>iowa_device_info_t</code>][iowa_device_info_t] structure.</td>
</tr>
<tr>
<td>3</td>
<td>Firmware Version</td>
<td><em>firmwareVersion</em> field of the [<code>iowa_device_info_t</code>][iowa_device_info_t] structure.</td>
</tr>
<tr>
<td>4</td>
<td>Reboot</td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>Factory Reset</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>Available Power Sources</td>
<td>Set the flag <strong>IOWA_DEVICE_RSC_POWER_SOURCE</strong> in <em>optFlags</em> field of the structure [<code>iowa_device_info_t</code>][iowa_device_info_t]. Then use [<code>iowa_client_..._device_power_source</code>][iowa_client_add_device_power_source] to control it.</td>
</tr>
<tr>
<td>7</td>
<td>Power Source Voltage</td>
<td>Set the flag <strong>IOWA_DEVICE_RSC_POWER_SOURCE</strong> in <em>optFlags</em> field of the structure [<code>iowa_device_info_t</code>][iowa_device_info_t]. Then use [<code>iowa_client_..._device_power_source</code>][iowa_client_add_device_power_source] to control it.</td>
</tr>
<tr>
<td>8</td>
<td>Power Source Current</td>
<td>Set the flag <strong>IOWA_DEVICE_RSC_POWER_SOURCE</strong> in <em>optFlags</em> field of the structure [<code>iowa_device_info_t</code>][iowa_device_info_t]. Then use [<code>iowa_client_..._device_power_source</code>][iowa_client_add_device_power_source] to control it.</td>
</tr>
<tr>
<td>9</td>
<td>Battery Level</td>
<td>Set the flag <strong>IOWA_DEVICE_RSC_BATTERY</strong> in <em>optFlags</em> field of the structure [<code>iowa_device_info_t</code>][iowa_device_info_t]. Then use [<code>iowa_client_device_update_battery</code>][iowa_client_device_update_battery] to control it.</td>
</tr>
<tr>
<td>10</td>
<td>Memory Free</td>
<td>Not exposed by IOWA.</td>
</tr>
<tr>
<td>11</td>
<td>Error Code</td>
<td>Use [<code>iowa_client_..._device_error_code</code>][iowa_client_set_device_error_code] to control it.</td>
</tr>
<tr>
<td>12</td>
<td>Reset Error Code</td>
<td>Set the flag <strong>IOWA_DEVICE_RSC_RESET_ERROR</strong> in <em>optFlags</em> field of the structure [<code>iowa_device_info_t</code>][iowa_device_info_t].</td>
</tr>
<tr>
<td>13</td>
<td>Current Time</td>
<td>Set the flag <strong>IOWA_DEVICE_RSC_CURRENT_TIME</strong> in <em>optFlags</em> field of the structure [<code>iowa_device_info_t</code>][iowa_device_info_t]. Then use [<code>iowa_client_update_device_time_information</code>][iowa_client_update_device_time_information] to control it.</td>
</tr>
<tr>
<td>14</td>
<td>UTC Offset</td>
<td><em>utcOffsetP</em> field and set the flag <strong>IOWA_DEVICE_RSC_UTC_OFFSET</strong> in <em>optFlags</em> field of the structure [<code>iowa_device_info_t</code>][iowa_device_info_t]. Then use [<code>iowa_client_update_device_time_information</code>][iowa_client_update_device_time_information] to control it.</td>
</tr>
<tr>
<td>15</td>
<td>Timezone</td>
<td><em>timezoneP</em> field and set the flag <strong>IOWA_DEVICE_RSC_TIMEZONE</strong> in <em>optFlags</em> field of the structure [<code>iowa_device_info_t</code>][iowa_device_info_t]. Then use [<code>iowa_client_update_device_time_information</code>][iowa_client_update_device_time_information] to control it.</td>
</tr>
<tr>
<td>16</td>
<td>Supported Binding and Modes</td>
<td>Cannot be updated directly but depends on the Server URI schema.</td>
</tr>
<tr>
<td>17</td>
<td>Device Type</td>
<td><em>deviceType</em> field of the [<code>iowa_device_info_t</code>][iowa_device_info_t] structure.</td>
</tr>
<tr>
<td>18</td>
<td>Hardware Version</td>
<td><em>hardwareVersion</em> field of the [<code>iowa_device_info_t</code>][iowa_device_info_t] structure.</td>
</tr>
<tr>
<td>19</td>
<td>Software Version</td>
<td><em>softwareVersion</em> field of the [<code>iowa_device_info_t</code>][iowa_device_info_t] structure.</td>
</tr>
<tr>
<td>20</td>
<td>Battery Status</td>
<td>Set the flag <strong>IOWA_DEVICE_RSC_BATTERY</strong> in <em>optFlags</em> field of the structure [<code>iowa_device_info_t</code>][iowa_device_info_t]. Then use [<code>iowa_client_device_update_battery</code>][iowa_client_device_update_battery] to control it.</td>
</tr>
<tr>
<td>21</td>
<td>Memory Total</td>
<td>Not exposed by IOWA.</td>
</tr>
<tr>
<td>22</td>
<td>ExtDevInfo</td>
<td>Not exposed by IOWA.</td>
</tr>
</tbody>
</table><p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-new-incoming-connection">
<h3>iowa_client_new_incoming_connection<a class="headerlink" href="#iowa-client-new-incoming-connection" title="Permalink to this headline"></a></h3>
<div class="section" id="id3">
<h4>Prototype {-}<a class="headerlink" href="#id3" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_new_incoming_connection</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                  <span class="n">iowa_connection_type_t</span> <span class="n">type</span><span class="p">,</span>
                                                  <span class="kt">void</span> <span class="o">*</span><span class="n">connP</span><span class="p">,</span>
                                                  <span class="kt">bool</span> <span class="n">isSecure</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h4>Description {-}<a class="headerlink" href="#id4" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_new_incoming_connection()</span></code> informs the stack of a new incoming connection.</p>
</div>
<div class="section" id="id5">
<h4>Arguments {-}<a class="headerlink" href="#id5" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>type</em>
: The type of the new connection. See [<code class="docutils literal notranslate"><span class="pre">iowa_connection_type_t</span></code>][iowa_connection_type_t].</p>
<p><em>connP</em>
: The new connection of the same user-defined type as the one returned by [<code class="docutils literal notranslate"><span class="pre">iowa_system_connection_open()</span></code>][iowa_system_connection_open].</p>
<p><em>isSecure</em>
: Set to <em>true</em> if the security must be enabled on this connection.</p>
</div>
<div class="section" id="id6">
<h4>Return Value {-}<a class="headerlink" href="#id6" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: either:
: - a memory allocation failed.
: - the connection type is not supported. Make sure to verify the corresponding <code class="docutils literal notranslate"><span class="pre">IOWA_..._SUPPORT</span></code> flag has been enabled during IOWA build.
: - <em>isSecure</em> is true, but no security layer has been built. Make sure to verify the corresponding <code class="docutils literal notranslate"><span class="pre">IOWA_SECURITY_LAYER_...</span></code> flag has been enabled during IOWA build.</p>
</div>
<div class="section" id="id7">
<h4>Header File {-}<a class="headerlink" href="#id7" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id8">
<h4>Notes {-}<a class="headerlink" href="#id8" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_new_incoming_connection()</span></code> can only be called when IOWA is built with the flag <strong>LWM2M_CLIENT_INCOMING_CONNECTION_SUPPORT</strong>.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-add-bootstrap-server">
<h3>iowa_client_add_bootstrap_server<a class="headerlink" href="#iowa-client-add-bootstrap-server" title="Permalink to this headline"></a></h3>
<div class="section" id="id9">
<h4>Prototype {-}<a class="headerlink" href="#id9" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_bootstrap_server</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                               <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">uri</span><span class="p">,</span>
                                               <span class="n">iowa_security_mode_t</span> <span class="n">securityMode</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id10">
<h4>Description {-}<a class="headerlink" href="#id10" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_bootstrap_server()</span></code> declares a new LwM2M Bootstrap Server for the LwM2M Client to connect to.</p>
</div>
<div class="section" id="id11">
<h4>Arguments {-}<a class="headerlink" href="#id11" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime. The context MUST be configured with [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure] to add a bootstrap server.</p>
<p><em>uri</em>
: The URI to reach this bootstrap server as a nil-terminated string e.g. coaps://[::1]:5684, coap://lwm2m.example.org:5683 or sms://+331020304050.</p>
<p><em>securityMode</em>
: The security mode to use when connecting to this LwM2M Bootstrap Server. See [iowa_security_mode_t][iowa_security_mode_t].</p>
</div>
<div class="section" id="id12">
<h4>Return Value {-}<a class="headerlink" href="#id12" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_400_BAD_REQUEST
: <em>uri</em> is nil.</p>
<p>IOWA_COAP_403_FORBIDDEN
: a bootstrap server is already configured. To reconfigure the LwM2M Bootstrap Server, call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_remove_bootstrap_server</span></code>][iowa_client_add_bootstrap_server].</p>
<p>IOWA_COAP_404_NOT_FOUND
: client is not configured. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure].</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: <em>uri</em> is invalid. For example, if the transport is not supported or if <em>uri</em> does not match <em>securityMode</em>.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id13">
<h4>Header File {-}<a class="headerlink" href="#id13" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id14">
<h4>Notes {-}<a class="headerlink" href="#id14" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_bootstrap_server()</span></code> can only be called when IOWA is built with the flag <strong>LWM2M_BOOTSTRAP</strong>.</p>
<p><em>uri</em> is duplicated internally by IOWA and can be freed by the caller.</p>
<p>Only one bootstrap server can be configured.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-bootstrap-server">
<h3>iowa_client_remove_bootstrap_server<a class="headerlink" href="#iowa-client-remove-bootstrap-server" title="Permalink to this headline"></a></h3>
<div class="section" id="id15">
<h4>Prototype {-}<a class="headerlink" href="#id15" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_bootstrap_server</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id16">
<h4>Description {-}<a class="headerlink" href="#id16" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_bootstrap_server()</span></code> removes a LwM2M Bootstrap Server added by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_bootstrap_server()</span></code>][iowa_client_add_bootstrap_server] from the LwM2M Client.</p>
</div>
<div class="section" id="id17">
<h4>Arguments {-}<a class="headerlink" href="#id17" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
</div>
<div class="section" id="id18">
<h4>Return Value {-}<a class="headerlink" href="#id18" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_404_NOT_FOUND
: no bootstrap server is configured. [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_bootstrap_server()</span></code>][iowa_client_add_bootstrap_server] was not called before, or failed.</p>
</div>
<div class="section" id="id19">
<h4>Header File {-}<a class="headerlink" href="#id19" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id20">
<h4>Notes {-}<a class="headerlink" href="#id20" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_bootstrap_server()</span></code> can only be called when IOWA is built with the flag <strong>LWM2M_BOOTSTRAP</strong>.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-set-bootstrap-server-hold-off">
<h3>iowa_client_set_bootstrap_server_hold_off<a class="headerlink" href="#iowa-client-set-bootstrap-server-hold-off" title="Permalink to this headline"></a></h3>
<div class="section" id="id21">
<h4>Prototype {-}<a class="headerlink" href="#id21" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_set_bootstrap_server_hold_off</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                        <span class="kt">int32_t</span> <span class="n">holdOff</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id22">
<h4>Description {-}<a class="headerlink" href="#id22" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_set_bootstrap_server_hold_off()</span></code> sets the Bootstrap Hold Off time.</p>
</div>
<div class="section" id="id23">
<h4>Arguments {-}<a class="headerlink" href="#id23" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>holdOff</em>
: The Hold Off time.</p>
</div>
<div class="section" id="id24">
<h4>Return Value {-}<a class="headerlink" href="#id24" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_400_BAD_REQUEST
: <em>holdOff</em> is negative.</p>
<p>IOWA_COAP_404_NOT_FOUND
: no bootstrap server is configured. [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_bootstrap_server()</span></code>][iowa_client_add_bootstrap_server] was not called before, or failed.</p>
</div>
<div class="section" id="id25">
<h4>Header File {-}<a class="headerlink" href="#id25" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id26">
<h4>Notes {-}<a class="headerlink" href="#id26" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_set_bootstrap_server_hold_off()</span></code> can only be called when IOWA is built with the flag <strong>LWM2M_BOOTSTRAP</strong>.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-get-bootstrap-server-coap-peer">
<h3>iowa_client_get_bootstrap_server_coap_peer<a class="headerlink" href="#iowa-client-get-bootstrap-server-coap-peer" title="Permalink to this headline"></a></h3>
<div class="section" id="id27">
<h4>Prototype {-}<a class="headerlink" href="#id27" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_coap_peer_t</span> <span class="o">*</span> <span class="nf">iowa_client_get_bootstrap_server_coap_peer</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id28">
<h4>Description {-}<a class="headerlink" href="#id28" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_get_bootstrap_server_coap_peer()</span></code> returns the CoAP peer associated to a LwM2M Bootstrap Server.</p>
</div>
<div class="section" id="id29">
<h4>Arguments {-}<a class="headerlink" href="#id29" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
</div>
<div class="section" id="id30">
<h4>Return Value {-}<a class="headerlink" href="#id30" title="Permalink to this headline"></a></h4>
<p>A pointer to the [iowa_coap_peer_t][iowa_coap_peer_t] associated to the LwM2M Bootstrap Server.</p>
<p>This pointer may be nil if IOWA did not yet initiate, or has finished, the Bootstrap process.</p>
</div>
<div class="section" id="id31">
<h4>Header File {-}<a class="headerlink" href="#id31" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id32">
<h4>Notes {-}<a class="headerlink" href="#id32" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_get_bootstrap_server_coap_peer()</span></code> can only be called when IOWA is built with the flag <strong>LWM2M_BOOTSTRAP</strong>.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-add-server">
<h3>iowa_client_add_server<a class="headerlink" href="#iowa-client-add-server" title="Permalink to this headline"></a></h3>
<div class="section" id="id33">
<h4>Prototype {-}<a class="headerlink" href="#id33" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_server</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                     <span class="kt">uint16_t</span> <span class="n">shortID</span><span class="p">,</span>
                                     <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">uri</span><span class="p">,</span>
                                     <span class="kt">uint32_t</span> <span class="n">lifetime</span><span class="p">,</span>
                                     <span class="kt">uint16_t</span> <span class="n">configFlags</span><span class="p">,</span>
                                     <span class="n">iowa_security_mode_t</span> <span class="n">securityMode</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id34">
<h4>Description {-}<a class="headerlink" href="#id34" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_server()</span></code> declares a new LwM2M Server for the LwM2M Client to connect to.</p>
</div>
<div class="section" id="id35">
<h4>Arguments {-}<a class="headerlink" href="#id35" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime. The context MUST be configured with [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure] to add a server.</p>
<p><em>shortID</em>
: The ID assigned to this server. This cannot be zero nor <strong>IOWA_LWM2M_ID_ALL</strong> nor an existing one.</p>
<p><em>uri</em>
: The URI to reach this server as a nil-terminated string e.g. coaps://[::1]:5684, coap://lwm2m.example.org:5683 or sms://+331020304050.</p>
<p><em>lifetime</em>
: The lifetime in seconds of the registration to this server.</p>
<p><em>configFlags</em>
: A bit-mask of configuration flags for this LwM2M Server.</p>
<p><em>securityMode</em>
: The security mode to use when connecting to this LwM2M Server. See [iowa_security_mode_t][iowa_security_mode_t].</p>
</div>
<div class="section" id="id36">
<h4>Return Value {-}<a class="headerlink" href="#id36" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_400_BAD_REQUEST
: <em>uri</em> is nil.</p>
<p>IOWA_COAP_403_FORBIDDEN
: <em>shortID</em> is either zero, <strong>IOWA_LWM2M_ID_ALL</strong> or already in use.</p>
<p>IOWA_COAP_404_NOT_FOUND
: client is not configured. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure].</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: <em>uri</em> is invalid. For example, if the transport is not supported or if <em>uri</em> does not match <em>securityMode</em>.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id37">
<h4>Header File {-}<a class="headerlink" href="#id37" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id38">
<h4>Notes {-}<a class="headerlink" href="#id38" title="Permalink to this headline"></a></h4>
<p>If <em>lifetime</em> is set to zero, the registration lifetime is set to a default value of:</p>
<ul class="simple">
<li><p>30 days (2,592,000 seconds) for LoRaWAN transport</p></li>
<li><p>24 hours (86,400 seconds) for other transports (UDP, TCP, SMS )</p></li>
</ul>
<p><em>uri</em> is duplicated internally by IOWA and can be freed by the caller.</p>
<p><em>configFlags</em> is a combination of the following:</p>
<ul class="simple">
<li><p><strong>IOWA_LWM2M_QUEUE_MODE</strong>: Enable LwM2M Queue Mode for this LwM2M Server.</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-server">
<h3>iowa_client_remove_server<a class="headerlink" href="#iowa-client-remove-server" title="Permalink to this headline"></a></h3>
<div class="section" id="id39">
<h4>Prototype {-}<a class="headerlink" href="#id39" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_server</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                        <span class="kt">uint16_t</span> <span class="n">shortID</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id40">
<h4>Description {-}<a class="headerlink" href="#id40" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_server()</span></code> removes a LwM2M Server added by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_server()</span></code>][iowa_client_add_server] from the LwM2M Client.</p>
</div>
<div class="section" id="id41">
<h4>Arguments {-}<a class="headerlink" href="#id41" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p>shortID
: The ID assigned to this server or <em>IOWA_LWM2M_ID_ALL</em>.</p>
</div>
<div class="section" id="id42">
<h4>Return Value {-}<a class="headerlink" href="#id42" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_403_FORBIDDEN
: <em>shortID</em> is zero.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>shortID</em> does not match any known server.</p>
</div>
<div class="section" id="id43">
<h4>Header File {-}<a class="headerlink" href="#id43" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-set-server-configuration">
<h3>iowa_client_set_server_configuration<a class="headerlink" href="#iowa-client-set-server-configuration" title="Permalink to this headline"></a></h3>
<div class="section" id="id44">
<h4>Prototype {-}<a class="headerlink" href="#id44" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_set_server_configuration</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                   <span class="kt">uint16_t</span> <span class="n">shortId</span><span class="p">,</span>
                                                   <span class="n">iowa_server_setting_id_t</span> <span class="n">settingId</span><span class="p">,</span>
                                                   <span class="kt">void</span> <span class="o">*</span><span class="n">argP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id45">
<h4>Description {-}<a class="headerlink" href="#id45" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_set_server_configuration()</span></code> configures the settings of a LwM2M Server.</p>
</div>
<div class="section" id="id46">
<h4>Arguments {-}<a class="headerlink" href="#id46" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>shortId</em>
: The short ID of a LwM2M Server.</p>
<p><em>settingId</em>
: The setting to set. See [<code class="docutils literal notranslate"><span class="pre">iowa_server_setting_id_t</span></code>][iowa_server_setting_id_t].</p>
<p><em>argP</em>
: A pointer to the setting value. Dependent on <em>settingId</em>.</p>
</div>
<div class="section" id="id47">
<h4>Return Value {-}<a class="headerlink" href="#id47" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_403_FORBIDDEN
: <em>shortId</em> is <strong>IOWA_LWM2M_ID_ALL</strong>.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>shortId</em> does not match any known server.</p>
<p>IOWA_COAP_405_METHOD_NOT_ALLOWED
: <em>settingId</em> is nil.</p>
<p>IOWA_COAP_501_NOT_IMPLEMENTED
: invalid <em>settingId</em> value.</p>
</div>
<div class="section" id="id48">
<h4>Header File {-}<a class="headerlink" href="#id48" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-set-server-msisdn">
<h3>iowa_client_set_server_msisdn<a class="headerlink" href="#iowa-client-set-server-msisdn" title="Permalink to this headline"></a></h3>
<div class="section" id="id49">
<h4>Prototype {-}<a class="headerlink" href="#id49" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_set_server_msisdn</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                            <span class="kt">uint16_t</span> <span class="n">shortID</span><span class="p">,</span>
                                            <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">msisdn</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id50">
<h4>Description {-}<a class="headerlink" href="#id50" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_set_server_msisdn()</span></code> sets the MSISDN of a previously added LwM2M Server.</p>
</div>
<div class="section" id="id51">
<h4>Arguments {-}<a class="headerlink" href="#id51" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>shortID</em>
: the Short ID assigned to a LwM2M Server.</p>
<p><em>msisdn</em>
: the MSISDN to reach this Server e.g. 0102030405 or +33102030405. This can be nil.</p>
</div>
<div class="section" id="id52">
<h4>Return Value {-}<a class="headerlink" href="#id52" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_400_BAD_REQUEST
: the maximum length of <em>msisdn</em> is 15 digits.</p>
<p>IOWA_COAP_403_FORBIDDEN
: <em>shortID</em> is either zero or <strong>IOWA_LWM2M_ID_ALL</strong>.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>shortID</em> does not match any known server.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id53">
<h4>Header File {-}<a class="headerlink" href="#id53" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id54">
<h4>Notes {-}<a class="headerlink" href="#id54" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_set_server_msisdn()</span></code> can only be called when IOWA is built with the flag <strong>IOWA_SMS_SUPPORT</strong>.</p>
<p>To unset the MSISDN, the parameter <em>msisdn</em> can take the value NULL.</p>
<p>An MSISDN can not be set for the Bootstrap Server.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-set-server-registration-behaviour">
<h3>iowa_client_set_server_registration_behaviour<a class="headerlink" href="#iowa-client-set-server-registration-behaviour" title="Permalink to this headline"></a></h3>
<div class="section" id="id55">
<h4>Prototype {-}<a class="headerlink" href="#id55" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_set_server_registration_behaviour</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                            <span class="kt">uint16_t</span> <span class="n">shortId</span><span class="p">,</span>
                                                            <span class="kt">uint16_t</span> <span class="n">priorityOrder</span><span class="p">,</span>
                                                            <span class="kt">int32_t</span> <span class="n">initialDelayTimer</span><span class="p">,</span>
                                                            <span class="kt">bool</span> <span class="n">blockOnFailure</span><span class="p">,</span>
                                                            <span class="kt">bool</span> <span class="n">bootstrapOnFailure</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id56">
<h4>Description {-}<a class="headerlink" href="#id56" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_set_server_registration_behaviour()</span></code> set the registration behaviour of a LwM2M Server.</p>
</div>
<div class="section" id="id57">
<h4>Arguments {-}<a class="headerlink" href="#id57" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>shortID</em>
: The ID assigned to the server.</p>
<p><em>priorityOrder</em>
: The Server priority order for the registration sequence.</p>
<p><em>initialDelayTimer</em>
: The initial delay to wait before to send the registration.</p>
<p><em>blockOnFailure</em>
: If registration fails and true is set, the registration sequence is interrupted.</p>
<p><em>bootstrapOnFailure</em>
: If registration fails and true is set, a bootstrap sequence is initiated.</p>
</div>
<div class="section" id="id58">
<h4>Return Value {-}<a class="headerlink" href="#id58" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_400_BAD_REQUEST
: either:
: - <em>initialDelayTimer</em> is negative.
: - <em>bootstrapOnFailure</em> is equals to true but [<code class="docutils literal notranslate"><span class="pre">LWM2M_BOOTSTRAP</span></code>][LWM2M_BOOTSTRAP] is not set.</p>
<p>IOWA_COAP_403_FORBIDDEN
: <em>shortID</em> is either zero or <strong>IOWA_LWM2M_ID_ALL</strong>.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>shortID</em> does not match any known server.</p>
</div>
<div class="section" id="id59">
<h4>Header File {-}<a class="headerlink" href="#id59" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id60">
<h4>Notes {-}<a class="headerlink" href="#id60" title="Permalink to this headline"></a></h4>
<p>This API requires <strong>LWM2M_VERSION_1_1_SUPPORT</strong> to be set.</p>
<p>If <strong>IOWA_SERVER_RSC_REGISTRATION_BEHAVIOUR_REMOVE</strong> is set, this API cannot be called.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-set-server-communication-attempts">
<h3>iowa_client_set_server_communication_attempts<a class="headerlink" href="#iowa-client-set-server-communication-attempts" title="Permalink to this headline"></a></h3>
<div class="section" id="id61">
<h4>Prototype {-}<a class="headerlink" href="#id61" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_set_server_communication_attempts</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                            <span class="kt">uint16_t</span> <span class="n">shortId</span><span class="p">,</span>
                                                            <span class="kt">uint8_t</span> <span class="n">retryCount</span><span class="p">,</span>
                                                            <span class="kt">int32_t</span> <span class="n">retryDelayTimer</span><span class="p">,</span>
                                                            <span class="kt">uint8_t</span> <span class="n">sequenceRetryCount</span><span class="p">,</span>
                                                            <span class="kt">int32_t</span> <span class="n">sequenceDelayTimer</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id62">
<h4>Description {-}<a class="headerlink" href="#id62" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_set_server_communication_attempts()</span></code> set the communication attempts of a LwM2M Server.</p>
</div>
<div class="section" id="id63">
<h4>Arguments {-}<a class="headerlink" href="#id63" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>shortID</em>
: The ID assigned to the server.</p>
<p><em>retryCount</em>
: The number of successive registration attempts before which a registration sequence is considered as failed.</p>
<p><em>retryDelayTimer</em>
: The number to wait between each registration sequence. The value is multiplied by two to the power of the registration retry attempt minus one (2**(retry attempt-1)) to create an exponential back-off.</p>
<p><em>sequenceRetryCount</em>
: The number of successive registration sequences before which a registration attempt is considered as failed.</p>
<p><em>sequenceDelayTimer</em>
: The number to wait between each successive registration sequences. The value is multiplied by two to the power of the registration retry attempt minus one (2**(retry attempt-1)) to create an exponential back-off.</p>
</div>
<div class="section" id="id64">
<h4>Return Value {-}<a class="headerlink" href="#id64" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_400_BAD_REQUEST
: either:
: - <em>retryCount</em> is superior to 32.
: - <em>retryDelayTimer</em> is negative.
: - <em>sequenceRetryCount</em> is superior to 32.
: - <em>sequenceDelayTimer</em> is negative.</p>
<p>IOWA_COAP_403_FORBIDDEN
: <em>shortID</em> is either zero or <strong>IOWA_LWM2M_ID_ALL</strong>.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>shortID</em> does not match any known server.</p>
</div>
<div class="section" id="id65">
<h4>Header File {-}<a class="headerlink" href="#id65" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id66">
<h4>Notes {-}<a class="headerlink" href="#id66" title="Permalink to this headline"></a></h4>
<p>This API requires <strong>LWM2M_VERSION_1_1_SUPPORT</strong> to be set.</p>
<p>If <strong>IOWA_SERVER_RSC_COMMUNICATION_ATTEMPTS_REMOVE</strong> is set, this API cannot be called.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-get-server-count">
<h3>iowa_client_get_server_count<a class="headerlink" href="#iowa-client-get-server-count" title="Permalink to this headline"></a></h3>
<div class="section" id="id67">
<h4>Prototype {-}<a class="headerlink" href="#id67" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_get_server_count</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                           <span class="kt">size_t</span> <span class="o">*</span><span class="n">serversCountP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id68">
<h4>Description {-}<a class="headerlink" href="#id68" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_get_server_count()</span></code> get the count of all configured LwM2M Servers.</p>
</div>
<div class="section" id="id69">
<h4>Arguments {-}<a class="headerlink" href="#id69" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>serversCountP</em>
: A pointer to the count of all configured LwM2M Servers.</p>
</div>
<div class="section" id="id70">
<h4>Return Value {-}<a class="headerlink" href="#id70" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
</div>
<div class="section" id="id71">
<h4>Header File {-}<a class="headerlink" href="#id71" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-get-server-array">
<h3>iowa_client_get_server_array<a class="headerlink" href="#iowa-client-get-server-array" title="Permalink to this headline"></a></h3>
<div class="section" id="id72">
<h4>Prototype {-}<a class="headerlink" href="#id72" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_get_server_array</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                           <span class="kt">size_t</span> <span class="n">serversCount</span><span class="p">,</span>
                                           <span class="n">iowa_server_info_t</span> <span class="o">*</span><span class="n">serverArrayP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id73">
<h4>Description {-}<a class="headerlink" href="#id73" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_get_server_array()</span></code> retrieves the configured LwM2M Servers with theirs associated information.</p>
</div>
<div class="section" id="id74">
<h4>Arguments {-}<a class="headerlink" href="#id74" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>serversCount</em>
: A pointer to the count of LwM2M Servers.</p>
<p><em>serverArrayP</em>
: An Array of <code class="docutils literal notranslate"><span class="pre">iowa_server_info_t</span></code> with a size equal to the count of the current configured LwM2M Servers.</p>
</div>
<div class="section" id="id75">
<h4>Return Value {-}<a class="headerlink" href="#id75" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: <em>serverListP</em> is nil.</p>
<p>IOWA_COAP_408_REQUEST_ENTITY_INCOMPLETE
: The count of configured LwM2M servers has been changed since the call of <code class="docutils literal notranslate"><span class="pre">iowa_client_get_server_count()</span></code>.</p>
</div>
<div class="section" id="id76">
<h4>Header File {-}<a class="headerlink" href="#id76" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id77">
<h4>Notes {-}<a class="headerlink" href="#id77" title="Permalink to this headline"></a></h4>
<p>To get the count of the current configured LwM2M Servers you need to call <code class="docutils literal notranslate"><span class="pre">iowa_client_get_server_count()</span></code>.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-get-server-coap-peer">
<h3>iowa_client_get_server_coap_peer<a class="headerlink" href="#iowa-client-get-server-coap-peer" title="Permalink to this headline"></a></h3>
<div class="section" id="id78">
<h4>Prototype {-}<a class="headerlink" href="#id78" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_coap_peer_t</span> <span class="o">*</span> <span class="nf">iowa_client_get_server_coap_peer</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                    <span class="kt">uint16_t</span> <span class="n">shortId</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id79">
<h4>Description {-}<a class="headerlink" href="#id79" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_get_server_coap_peer()</span></code> returns the CoAP peer associated to a LwM2M Server.</p>
</div>
<div class="section" id="id80">
<h4>Arguments {-}<a class="headerlink" href="#id80" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>shortID</em>
: The ID assigned to the server.</p>
</div>
<div class="section" id="id81">
<h4>Return Value {-}<a class="headerlink" href="#id81" title="Permalink to this headline"></a></h4>
<p>A pointer to the [iowa_coap_peer_t][iowa_coap_peer_t] associated to the LwM2M Server.</p>
<p>This pointer may be nil if <code class="docutils literal notranslate"><span class="pre">shortId</span></code> is invalid or if IOWA did not yet initiate the registration to the LwM2M Server.</p>
</div>
<div class="section" id="id82">
<h4>Header File {-}<a class="headerlink" href="#id82" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-set-notification-default-periods">
<h3>iowa_client_set_notification_default_periods<a class="headerlink" href="#iowa-client-set-notification-default-periods" title="Permalink to this headline"></a></h3>
<div class="section" id="id83">
<h4>Prototype {-}<a class="headerlink" href="#id83" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_set_notification_default_periods</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                           <span class="kt">uint16_t</span> <span class="n">shortID</span><span class="p">,</span>
                                                           <span class="kt">uint32_t</span> <span class="n">minPeriod</span><span class="p">,</span>
                                                           <span class="kt">uint32_t</span> <span class="n">maxPeriod</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id84">
<h4>Description {-}<a class="headerlink" href="#id84" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_set_notification_default_periods()</span></code> configures the default periods for notifications sent to a LwM2M Server.</p>
</div>
<div class="section" id="id85">
<h4>Arguments {-}<a class="headerlink" href="#id85" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>shortID</em>
: The ID assigned to the server or <em>IOWA_LWM2M_ID_ALL</em>.</p>
<p><em>minPeriod</em>
: The default minimum time in seconds between two notifications sent to the LwM2M Server for the same observation.</p>
<p><em>maxPeriod</em>
: The default maximum time in seconds between two notifications sent to the LwM2M Server for the same observation.</p>
</div>
<div class="section" id="id86">
<h4>Return Value {-}<a class="headerlink" href="#id86" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_403_FORBIDDEN
: <em>shortID</em> is zero.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>shortID</em> does not match any known server.</p>
</div>
<div class="section" id="id87">
<h4>Header File {-}<a class="headerlink" href="#id87" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id88">
<h4>Notes {-}<a class="headerlink" href="#id88" title="Permalink to this headline"></a></h4>
<p>When <em>IOWA_LWM2M_ID_ALL</em> is used as <em>shortID</em>, only already known LwM2M Servers will have the default periods configured. If a LwM2M Server is added after the call to this API, by default it will not have default periods.</p>
<p>Setting the default periods does not affect already running observations.</p>
<p>A minimum period set to zero is equivalent to having no minimum period defined. Same for maximum period.</p>
<p>If <em>maxPeriod</em> is inferior to <em>minPeriod</em>, it is cleared (i.e. set to zero).</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-use-reliable-notifications">
<h3>iowa_client_use_reliable_notifications<a class="headerlink" href="#iowa-client-use-reliable-notifications" title="Permalink to this headline"></a></h3>
<div class="section" id="id89">
<h4>Prototype {-}<a class="headerlink" href="#id89" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_use_reliable_notifications</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                     <span class="kt">uint16_t</span> <span class="n">shortId</span><span class="p">,</span>
                                                     <span class="kt">bool</span> <span class="n">enable</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id90">
<h4>Description {-}<a class="headerlink" href="#id90" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_use_reliable_notifications()</span></code> configures the LwM2M Client to ensure that notifications are received by the LwM2M Server.</p>
</div>
<div class="section" id="id91">
<h4>Arguments {-}<a class="headerlink" href="#id91" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>shortId</em>
: The ID assigned to the server or <em>IOWA_LWM2M_ID_ALL</em>.</p>
<p><em>enable</em>
: If true, notifications will be reliable.</p>
</div>
<div class="section" id="id92">
<h4>Return Value {-}<a class="headerlink" href="#id92" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_403_FORBIDDEN
: <em>shortID</em> is zero.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>shortID</em> does not match any known server.</p>
</div>
<div class="section" id="id93">
<h4>Header File {-}<a class="headerlink" href="#id93" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id94">
<h4>Notes {-}<a class="headerlink" href="#id94" title="Permalink to this headline"></a></h4>
<p>When <em>IOWA_LWM2M_ID_ALL</em> is used as <em>shortID</em>, only already known LwM2M Servers will have reliable notifications. If a LwM2M Server is added after the call to this API, by default it will not use reliable notifications.</p>
<p>If <em>enable</em> is true:</p>
<ul class="simple">
<li><p>on unreliable transports like UDP, the notifications are sent as Confirmable messages.</p></li>
<li><p>if a notification does not reach the LwM2M Server, IOWA stores it until the LwM2M Server is reachable again. See [<strong>LWM2M_STORAGE_QUEUE_SUPPORT</strong>][LWM2M_STORAGE_QUEUE_SUPPORT] and [<strong>LWM2M_STORAGE_QUEUE_PEEK_SUPPORT</strong>][LWM2M_STORAGE_QUEUE_PEEK_SUPPORT].</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-object-set-mode">
<h3>iowa_client_object_set_mode<a class="headerlink" href="#iowa-client-object-set-mode" title="Permalink to this headline"></a></h3>
<div class="section" id="id95">
<h4>Prototype {-}<a class="headerlink" href="#id95" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_object_set_mode</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                          <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                          <span class="kt">uint8_t</span> <span class="n">mode</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id96">
<h4>Description {-}<a class="headerlink" href="#id96" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_object_set_mode()</span></code> sets the sensor mode.</p>
</div>
<div class="section" id="id97">
<h4>Arguments {-}<a class="headerlink" href="#id97" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: The ID of the sensor.</p>
<p><em>mode</em>
: Flags used to enable modes.</p>
</div>
<div class="section" id="id98">
<h4>Return Value {-}<a class="headerlink" href="#id98" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>id</em> does not match any known sensor.</p>
</div>
<div class="section" id="id99">
<h4>Header File {-}<a class="headerlink" href="#id99" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id100">
<h4>Notes {-}<a class="headerlink" href="#id100" title="Permalink to this headline"></a></h4>
<p>To use this API, the compilation flag [<strong>LWM2M_CLIENT_ASYNCHRONOUS_OPERATION_SUPPORT</strong>][LWM2M_CLIENT_ASYNCHRONOUS_OPERATION_SUPPORT] must be set.</p>
<p>To set the sensor mode, you can use the following flag:</p>
<ul class="simple">
<li><p>IOWA_OBJECT_MODE_DEFAULT</p></li>
<li><p>IOWA_OBJECT_MODE_ASYNCHRONOUS</p></li>
</ul>
<p>By default, sensors are synchronous.</p>
<p>A call to <code class="docutils literal notranslate"><span class="pre">iowa_client_object_set_mode()</span></code> affects all the sensors of the same type.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-device-update-battery">
<h3>iowa_client_device_update_battery<a class="headerlink" href="#iowa-client-device-update-battery" title="Permalink to this headline"></a></h3>
<div class="section" id="id101">
<h4>Prototype {-}<a class="headerlink" href="#id101" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_device_update_battery</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                <span class="kt">uint8_t</span> <span class="n">batteryLevel</span><span class="p">,</span>
                                                <span class="n">iowa_device_battery_status_t</span> <span class="n">batteryStatus</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id102">
<h4>Description {-}<a class="headerlink" href="#id102" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_device_update_battery()</span></code> updates the battery level and status exposed in the [<code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Object</span></code>][Device Object].</p>
</div>
<div class="section" id="id103">
<h4>Arguments {-}<a class="headerlink" href="#id103" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>batteryLevel</em>
: The battery level in percent.</p>
<p><em>batteryStatus</em>
: The battery status.</p>
</div>
<div class="section" id="id104">
<h4>Return Value {-}<a class="headerlink" href="#id104" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_405_METHOD_NOT_ALLOWED
: client has been configured without the flag <strong>IOWA_DEVICE_RSC_BATTERY</strong> in the [<code class="docutils literal notranslate"><span class="pre">iowa_device_info_t</span></code>][iowa_device_info_t] structure. To reconfigure the client, close than reopen a fresh IOWA Client context with [<code class="docutils literal notranslate"><span class="pre">iowa_close()</span></code>][iowa_close], [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init] and [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure].</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: <em>batteryLevel</em> is outside the range [0; 100].</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: client is not configured. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure].</p>
</div>
<div class="section" id="id105">
<h4>Header File {-}<a class="headerlink" href="#id105" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id106">
<h4>Notes {-}<a class="headerlink" href="#id106" title="Permalink to this headline"></a></h4>
<p>For the device to expose its battery level and status, [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure] must have been to called with the <strong>IOWA_DEVICE_RSC_BATTERY</strong> flag.</p>
<p>Before the first call to <code class="docutils literal notranslate"><span class="pre">iowa_client_device_update_battery()</span></code>, default value of batteryStatus is <strong>IOWA_DEVICE_BATTERY_STATUS_UNKNOWN</strong>.</p>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_device_update_battery()</span></code> can only be called when IOWA is built WITHOUT the flag <strong>IOWA_DEVICE_RSC_BATTERY_REMOVE</strong>.</p>
</div>
<div class="section" id="iowa-device-battery-status-t">
<h4>iowa_device_battery_status_t {-}<a class="headerlink" href="#iowa-device-battery-status-t" title="Permalink to this headline"></a></h4>
<p>This is an enumeration of the following values:</p>
<p>IOWA_DEVICE_BATTERY_STATUS_NORMAL
: The battery is operating normally and not on power.</p>
<p>IOWA_DEVICE_BATTERY_STATUS_CHARGING
: The battery is currently charging.</p>
<p>IOWA_DEVICE_BATTERY_STATUS_CHARGE_COMPLETE
: The battery is fully charged and still on power.</p>
<p>IOWA_DEVICE_BATTERY_STATUS_DAMAGED
: The battery has some problem.</p>
<p>IOWA_DEVICE_BATTERY_STATUS_LOW_BATTERY
: The battery is low on charge.</p>
<p>IOWA_DEVICE_BATTERY_STATUS_NOT_INSTALLED
: The battery is not installed.</p>
<p>IOWA_DEVICE_BATTERY_STATUS_UNKNOWN
: The battery information is not available.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-add-device-power-source">
<h3>iowa_client_add_device_power_source<a class="headerlink" href="#iowa-client-add-device-power-source" title="Permalink to this headline"></a></h3>
<div class="section" id="id107">
<h4>Prototype {-}<a class="headerlink" href="#id107" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_device_power_source</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                  <span class="n">iowa_power_source_type_t</span> <span class="n">type</span><span class="p">,</span>
                                                  <span class="kt">int</span> <span class="n">voltageValue</span><span class="p">,</span>
                                                  <span class="kt">int</span> <span class="n">currentValue</span><span class="p">,</span>
                                                  <span class="n">iowa_sensor_t</span> <span class="o">*</span><span class="n">idP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id108">
<h4>Description {-}<a class="headerlink" href="#id108" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_device_power_source()</span></code> adds a power source to Device object with initial value of voltage and current.</p>
</div>
<div class="section" id="id109">
<h4>Arguments {-}<a class="headerlink" href="#id109" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>type</em>
: power source type.</p>
<p><em>voltageValue</em>
: initial voltage value (mV).</p>
<p><em>currentValue</em>
: initial current value (mA).</p>
<p><em>idP</em>
: Used to store the ID of the created power source. Not checked at runtime.</p>
</div>
<div class="section" id="id110">
<h4>Return Value {-}<a class="headerlink" href="#id110" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: client is not configured. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure].</p>
<p>IOWA_COAP_405_METHOD_NOT_ALLOWED
: client has been configured without the flag <strong>IOWA_DEVICE_RSC_POWER_SOURCE</strong> in the [<code class="docutils literal notranslate"><span class="pre">iowa_device_info_t</span></code>][iowa_device_info_t] structure. To reconfigure the client, close than reopen a fresh IOWA Client context with [<code class="docutils literal notranslate"><span class="pre">iowa_close()</span></code>][iowa_close], [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init] and [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id111">
<h4>Header File {-}<a class="headerlink" href="#id111" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id112">
<h4>Notes {-}<a class="headerlink" href="#id112" title="Permalink to this headline"></a></h4>
<p>For the device to expose its power source information, [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure] must have been to called with the <code class="docutils literal notranslate"><span class="pre">IOWA_DEVICE_RSC_POWER_SOURCE</span></code> flag.</p>
<p>To update a power source values, you need to call [<code class="docutils literal notranslate"><span class="pre">iowa_client_update_device_power_source()</span></code>][iowa_client_update_device_power_source].</p>
<p>To remove a power source, you need to call [<code class="docutils literal notranslate"><span class="pre">iowa_client_remove_device_power_source()</span></code>][iowa_client_remove_device_power_source].</p>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_device_power_source()</span></code> can only be called when IOWA is built WITHOUT the flag <strong>IOWA_DEVICE_RSC_POWER_SOURCE_REMOVE</strong>.</p>
</div>
<div class="section" id="iowa-power-source-type-t">
<h4>iowa_power_source_type_t {-}<a class="headerlink" href="#iowa-power-source-type-t" title="Permalink to this headline"></a></h4>
<p>This is an enumeration of the following values:</p>
<p>IOWA_POWER_SOURCE_DC_POWER
: DC power supply.</p>
<p>IOWA_POWER_SOURCE_INTERNAL_BATTERY
: Internal battery.</p>
<p>IOWA_POWER_SOURCE_EXTERNAL_BATTERY
: External battery.</p>
<p>IOWA_POWER_SOURCE_FUEL_CELL
: Fuel Cell</p>
<p>IOWA_POWER_SOURCE_POWER_OVER_ETHERNET
: Power Over Ethernet.</p>
<p>IOWA_POWER_SOURCE_USB
: USB.</p>
<p>IOWA_POWER_SOURCE_AC_MAIN_POWER
: AC power supply.</p>
<p>IOWA_POWER_SOURCE_SOLAR
: Solar energy.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-device-power-source">
<h3>iowa_client_remove_device_power_source<a class="headerlink" href="#iowa-client-remove-device-power-source" title="Permalink to this headline"></a></h3>
<div class="section" id="id113">
<h4>Prototype {-}<a class="headerlink" href="#id113" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_device_power_source</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                     <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id114">
<h4>Description {-}<a class="headerlink" href="#id114" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_device_power_source()</span></code> removes a power source from the Device object.</p>
</div>
<div class="section" id="id115">
<h4>Arguments {-}<a class="headerlink" href="#id115" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the power source to remove.</p>
</div>
<div class="section" id="id116">
<h4>Return Value {-}<a class="headerlink" href="#id116" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: client is not configured. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure].</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>id</em> is not a devices power source. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_device_power_source()</span></code>][iowa_client_add_device_power_source].</p>
<p>IOWA_COAP_405_METHOD_NOT_ALLOWED
: client has been configured without the flag <strong>IOWA_DEVICE_RSC_POWER_SOURCE</strong> in the [<code class="docutils literal notranslate"><span class="pre">iowa_device_info_t</span></code>][iowa_device_info_t] structure. To reconfigure the client, close than reopen a fresh IOWA Client context with [<code class="docutils literal notranslate"><span class="pre">iowa_close()</span></code>][iowa_close], [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init] and [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id117">
<h4>Header File {-}<a class="headerlink" href="#id117" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id118">
<h4>Notes {-}<a class="headerlink" href="#id118" title="Permalink to this headline"></a></h4>
<p>For the device to expose its power source information, [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure] must have been to called with the <code class="docutils literal notranslate"><span class="pre">IOWA_DEVICE_RSC_POWER_SOURCE</span></code> flag.</p>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_device_power_source()</span></code> can only be called when IOWA is built WITHOUT the flag <strong>IOWA_DEVICE_RSC_POWER_SOURCE_REMOVE</strong>.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-update-device-power-source">
<h3>iowa_client_update_device_power_source<a class="headerlink" href="#iowa-client-update-device-power-source" title="Permalink to this headline"></a></h3>
<div class="section" id="id119">
<h4>Prototype {-}<a class="headerlink" href="#id119" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_update_device_power_source</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                     <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                     <span class="kt">int</span> <span class="n">voltageValue</span><span class="p">,</span>
                                                     <span class="kt">int</span> <span class="n">currentValue</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id120">
<h4>Description {-}<a class="headerlink" href="#id120" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_update_device_power_source()</span></code> updates a power source values to Device object.</p>
</div>
<div class="section" id="id121">
<h4>Arguments {-}<a class="headerlink" href="#id121" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the power source.</p>
<p><em>voltageValue</em>
: new voltage value (mV).</p>
<p><em>currentValue</em>
: new current value (mA).</p>
</div>
<div class="section" id="id122">
<h4>Return Value {-}<a class="headerlink" href="#id122" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: client is not configured. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure].</p>
<p>IOWA_COAP_404_NOT_FOUND
: id is not a devices power source. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_device_power_source()</span></code>][iowa_client_add_device_power_source].</p>
<p>IOWA_COAP_405_METHOD_NOT_ALLOWED
: client has been configured without the flag <strong>IOWA_DEVICE_RSC_POWER_SOURCE</strong> in the [<code class="docutils literal notranslate"><span class="pre">iowa_device_info_t</span></code>][iowa_device_info_t] structure. To reconfigure the client, close than reopen a fresh IOWA Client context with [<code class="docutils literal notranslate"><span class="pre">iowa_close()</span></code>][iowa_close], [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init] and [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure].</p>
</div>
<div class="section" id="id123">
<h4>Header File {-}<a class="headerlink" href="#id123" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id124">
<h4>Notes {-}<a class="headerlink" href="#id124" title="Permalink to this headline"></a></h4>
<p>For the device to expose its power source information, [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure] must have been to called with the <code class="docutils literal notranslate"><span class="pre">IOWA_DEVICE_RSC_POWER_SOURCE</span></code> flag.</p>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_update_device_power_source()</span></code> can only be called when IOWA is built WITHOUT the flag <strong>IOWA_DEVICE_RSC_POWER_SOURCE_REMOVE</strong>.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-update-device-information">
<h3>iowa_client_update_device_information<a class="headerlink" href="#iowa-client-update-device-information" title="Permalink to this headline"></a></h3>
<div class="section" id="id125">
<h4>Prototype {-}<a class="headerlink" href="#id125" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_update_device_information</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                    <span class="n">iowa_device_info_t</span> <span class="o">*</span><span class="n">deviceInfoP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id126">
<h4>Description {-}<a class="headerlink" href="#id126" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_update_device_information()</span></code> updates the device information.</p>
</div>
<div class="section" id="id127">
<h4>Arguments {-}<a class="headerlink" href="#id127" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>infoP</em>
: pointer to the new devices information.</p>
</div>
<div class="section" id="id128">
<h4>Return Value {-}<a class="headerlink" href="#id128" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_400_BAD_REQUEST
: <em>deviceInfoP</em> is nil.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: client is not configured. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure].</p>
</div>
<div class="section" id="id129">
<h4>Header File {-}<a class="headerlink" href="#id129" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id130">
<h4>Notes {-}<a class="headerlink" href="#id130" title="Permalink to this headline"></a></h4>
<p>This function update only the supported device resources that has been set previously in [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure].</p>
<p>The parameters that can be updated are :</p>
<ul class="simple">
<li><p>Manufacturer.</p></li>
<li><p>Model number.</p></li>
<li><p>Serial number.</p></li>
<li><p>Firmware version.</p></li>
<li><p>Device type.</p></li>
<li><p>Hardware version.</p></li>
<li><p>Software version.</p></li>
</ul>
<p>Nil values in <em>deviceInfoP</em> will be ignored and wont make any changes.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-set-device-error-code">
<h3>iowa_client_set_device_error_code<a class="headerlink" href="#iowa-client-set-device-error-code" title="Permalink to this headline"></a></h3>
<div class="section" id="id131">
<h4>Prototype {-}<a class="headerlink" href="#id131" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_set_device_error_code</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                <span class="kt">uint8_t</span> <span class="n">errorCode</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id132">
<h4>Description {-}<a class="headerlink" href="#id132" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_set_device_error_code()</span></code> sets an error code on Device object.</p>
</div>
<div class="section" id="id133">
<h4>Arguments {-}<a class="headerlink" href="#id133" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>errorCode</em>
: The error code value to set between 1 and 32.</p>
</div>
<div class="section" id="id134">
<h4>Return Value {-}<a class="headerlink" href="#id134" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: client is not configured. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure].</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>errorCode</em> is not a valid parameter.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>errorCode</em> is IOWA_ERROR_CODE_NO_ERROR but there is no error to clear.</p>
<p>IOWA_COAP_409_CONFLICT
: <em>errorCode</em> has already been set.</p>
</div>
<div class="section" id="id135">
<h4>Header File {-}<a class="headerlink" href="#id135" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id136">
<h4>Notes {-}<a class="headerlink" href="#id136" title="Permalink to this headline"></a></h4>
<p>To clear one error code, you need to call [<code class="docutils literal notranslate"><span class="pre">iowa_client_clear_device_error_code()</span></code>][iowa_client_clear_device_error_code].</p>
<p>To clear all error codes, you can call [<code class="docutils literal notranslate"><span class="pre">iowa_client_set_device_error_code()</span></code>][iowa_client_set_device_error_code] with <em>errorCode</em> argument set to IOWA_ERROR_CODE_NO_ERROR.</p>
<p>The error code is an integer between 1 and 32. The LwM2M protocol defines eight values between 1 and 8 detailed below. Values between 9 and 15 are reserved for future use. The device maker or the application can use the values between 16 and 32 as proprietary error codes.</p>
<p>LwM2M defined error code values are:</p>
<ul class="simple">
<li><p>IOWA_ERROR_CODE_NO_ERROR
: No error.</p></li>
<li><p>IOWA_ERROR_CODE_LOW_BATTERY_POWER (1)
: Low battery power.</p></li>
<li><p>IOWA_ERROR_CODE_EXTERNAL_POWER_SUPPLY_OFF (2)
: External power supply off.</p></li>
<li><p>IOWA_ERROR_CODE_GPS_MODULE_FAILURE (3)
: GPS module failure.</p></li>
<li><p>IOWA_ERROR_CODE_LOW_RECEIVED_SIGNAL_STRENGTH (4)
: Low received signal strength.</p></li>
<li><p>IOWA_ERROR_CODE_OUT_OF_MEMORY (5)
: Out of memory.</p></li>
<li><p>IOWA_ERROR_CODE_SMS_FAILURE (6)
: SMS failure.</p></li>
<li><p>IOWA_ERROR_CODE_IP_CONNECTIVITY_FAILURE (7)
: IP connectivity failure.</p></li>
<li><p>IOWA_ERROR_CODE_PERIPHERAL_MALFUNCTION (8)
: Peripheral malfunction.</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-clear-device-error-code">
<h3>iowa_client_clear_device_error_code<a class="headerlink" href="#iowa-client-clear-device-error-code" title="Permalink to this headline"></a></h3>
<div class="section" id="id137">
<h4>Prototype {-}<a class="headerlink" href="#id137" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_clear_device_error_code</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                  <span class="kt">uint8_t</span> <span class="n">errorCode</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id138">
<h4>Description {-}<a class="headerlink" href="#id138" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_clear_device_error_code()</span></code> clears an error code from the Device object.</p>
</div>
<div class="section" id="id139">
<h4>Arguments {-}<a class="headerlink" href="#id139" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>errorCode</em>
: The error code to clear between 1 and 32. It cant be <em>IOWA_ERROR_CODE_NO_ERROR</em>.</p>
</div>
<div class="section" id="id140">
<h4>Return Value {-}<a class="headerlink" href="#id140" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: client is not configured. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure].</p>
<p>IOWA_COAP_402_BAD_OPTION
: The error code <em>IOWA_ERROR_CODE_NO_ERROR</em> cant be cleared.</p>
<p>IOWA_COAP_404_NOT_FOUND
: The error code is not set.</p>
</div>
<div class="section" id="id141">
<h4>Header File {-}<a class="headerlink" href="#id141" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id142">
<h4>Notes {-}<a class="headerlink" href="#id142" title="Permalink to this headline"></a></h4>
<p>LwM2M defined error code values are enumerated in [<code class="docutils literal notranslate"><span class="pre">iowa_client_set_device_error_code()</span></code>][iowa_client_set_device_error_code].</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-update-device-time-information">
<h3>iowa_client_update_device_time_information<a class="headerlink" href="#iowa-client-update-device-time-information" title="Permalink to this headline"></a></h3>
<div class="section" id="id143">
<h4>Prototype {-}<a class="headerlink" href="#id143" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_update_device_time_information</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                         <span class="n">iowa_device_time_info_t</span> <span class="o">*</span><span class="n">timeInfoP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id144">
<h4>Description {-}<a class="headerlink" href="#id144" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_update_device_time_information()</span></code> updates time information to Device object.</p>
</div>
<div class="section" id="id145">
<h4>Arguments {-}<a class="headerlink" href="#id145" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>timeInfoP</em>
: Current device time information: [<code class="docutils literal notranslate"><span class="pre">iowa_device_time_info_t</span></code>][iowa_device_time_info_t].</p>
</div>
<div class="section" id="id146">
<h4>Return Value {-}<a class="headerlink" href="#id146" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: either:
: <em>timeInfoP</em> is nil.
: currentTime in <em>timeInfoP</em> is set with a negative value.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: client is not configured. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure].</p>
</div>
<div class="section" id="id147">
<h4>Header File {-}<a class="headerlink" href="#id147" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id148">
<h4>Notes {-}<a class="headerlink" href="#id148" title="Permalink to this headline"></a></h4>
<p>For the device to expose its time information, [<code class="docutils literal notranslate"><span class="pre">iowa_client_configure()</span></code>][iowa_client_configure] must have been to called with time information used.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-add-custom-object">
<h3>iowa_client_add_custom_object<a class="headerlink" href="#iowa-client-add-custom-object" title="Permalink to this headline"></a></h3>
<div class="section" id="id149">
<h4>Prototype {-}<a class="headerlink" href="#id149" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_custom_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                            <span class="kt">uint16_t</span> <span class="n">objectID</span><span class="p">,</span>
                                            <span class="kt">size_t</span> <span class="n">instanceCount</span><span class="p">,</span>
                                            <span class="kt">uint16_t</span> <span class="o">*</span> <span class="n">instanceIDs</span><span class="p">,</span>
                                            <span class="kt">size_t</span> <span class="n">resourceCount</span><span class="p">,</span>
                                            <span class="n">iowa_lwm2m_resource_desc_t</span> <span class="o">*</span> <span class="n">resourceArray</span><span class="p">,</span>
                                            <span class="n">iowa_RWE_callback_t</span> <span class="n">dataCallback</span><span class="p">,</span>
                                            <span class="n">iowa_CD_callback_t</span> <span class="n">instanceCallback</span><span class="p">,</span>
                                            <span class="n">iowa_RI_callback_t</span> <span class="n">resInstanceCallback</span><span class="p">,</span>
                                            <span class="kt">void</span> <span class="o">*</span> <span class="n">userData</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id150">
<h4>Description {-}<a class="headerlink" href="#id150" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_custom_object()</span></code> adds a new custom Object for the LwM2M Client to handle. The object is defined by its ID and a the list of the resources it contains.</p>
</div>
<div class="section" id="id151">
<h4>Arguments {-}<a class="headerlink" href="#id151" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>objectID</em>
: The ID of the Object.</p>
<p><em>instanceCount</em>
: The number of elements in <em>instanceIDs</em>. This can be 0.</p>
<p><em>instanceIDs</em>
: The IDs of the instances of the Object. This can be nil.</p>
<p><em>resourceCount</em>
: The number of elements in <em>resourceArray</em>.</p>
<p><em>resourceArray</em>
: An array of [<code class="docutils literal notranslate"><span class="pre">iowa_lwm2m_resource_desc_t</span></code>][iowa_lwm2m_resource_desc_t] composing the Object.</p>
<p><em>dataCallback</em>
: The callback to perform Read, Write and Execute operations on the resources.</p>
<p><em>instanceCallback</em>
: The callback to perform Create and Delete operations on Object instances. This can be nil.</p>
<p><em>resInstanceCallback</em>
: The callback to retrieve the list of instances of resources declared as multiple. This can be nil.</p>
<p><em>userData</em>
: Passed as argument to the callbacks.</p>
</div>
<div class="section" id="id152">
<h4>Return Value {-}<a class="headerlink" href="#id152" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
<p>IOWA_COAP_403_FORBIDDEN
: objectID is 0, 1 or 3 which are reserved Object IDs.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: either:
: - <em>objectID</em> is <em>IOWA_LWM2M_ID_ALL</em> (65535).
: - <em>resourceCount</em> is zero.
: - <em>resourceArray</em> is nil.
: - <em>dataCallback</em> is nil.
: - <em>instanceIDs</em> is nil and <em>instanceCount</em> is not zero.
: - <em>resInstanceCallback</em> is nil and one of the resources in <em>resourceArray</em> has the <strong>IOWA_RESOURCE_FLAG_MULTIPLE</strong> flag set.</p>
<p>IOWA_COAP_409_CONFLICT
: this object already exists. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_remove_custom_object()</span></code>][iowa_client_remove_custom_object].</p>
</div>
<div class="section" id="id153">
<h4>Header File {-}<a class="headerlink" href="#id153" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id154">
<h4>Notes {-}<a class="headerlink" href="#id154" title="Permalink to this headline"></a></h4>
<p>Object IDs 0, 1 and 3 are reserved and cannot be used.</p>
<p>Per Lightweight M2M specification, the ID of the instance of a single-instance Object is 0. When creating a single-instance Object, you can set <em>instanceCount</em> to zero and <em>instanceCallback</em> to nil. IOWA will automatically create an instance with ID 0.</p>
<p>When the LwM2M Server creates a new instance of the custom object, <em>instanceCallback</em> is first called with the new instance ID then <em>dataCallback</em> is called with <em>operation</em> set to <strong>IOWA_DM_WRITE</strong> to initialize the instance. Thus if <em>instanceCallback</em> is defined, <em>dataCallback</em> must handle the Write operation even on resources declared as read-only.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-custom-object">
<h3>iowa_client_remove_custom_object<a class="headerlink" href="#iowa-client-remove-custom-object" title="Permalink to this headline"></a></h3>
<div class="section" id="id155">
<h4>Prototype {-}<a class="headerlink" href="#id155" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_custom_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                               <span class="kt">uint16_t</span> <span class="n">objectID</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id156">
<h4>Description {-}<a class="headerlink" href="#id156" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_custom_object()</span></code> removes a custom Object created with [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_custom_object()</span></code>][iowa_client_add_custom_object].</p>
</div>
<div class="section" id="id157">
<h4>Arguments {-}<a class="headerlink" href="#id157" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>objectID</em>
: The ID of the Object.</p>
</div>
<div class="section" id="id158">
<h4>Return Value {-}<a class="headerlink" href="#id158" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_403_FORBIDDEN
: <em>objectID</em> is 0, 1 or 3 which are reserved Object IDs.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>objectID</em> does not match any known object.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: <em>objectID</em> is <strong>IOWA_LWM2M_ID_ALL</strong> (65535).</p>
</div>
<div class="section" id="id159">
<h4>Header File {-}<a class="headerlink" href="#id159" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-object-resource-changed">
<h3>iowa_client_object_resource_changed<a class="headerlink" href="#iowa-client-object-resource-changed" title="Permalink to this headline"></a></h3>
<div class="section" id="id160">
<h4>Prototype {-}<a class="headerlink" href="#id160" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_object_resource_changed</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                  <span class="kt">uint16_t</span> <span class="n">objectID</span><span class="p">,</span>
                                                  <span class="kt">uint16_t</span> <span class="n">instanceID</span><span class="p">,</span>
                                                  <span class="kt">uint16_t</span> <span class="n">resourceID</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id161">
<h4>Description {-}<a class="headerlink" href="#id161" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_object_resource_changed()</span></code> informs the IOWA stack that the value of a LwM2M Object resource changed.</p>
</div>
<div class="section" id="id162">
<h4>Arguments {-}<a class="headerlink" href="#id162" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>objectID</em>
: The ID of the Object containing the resource.</p>
<p><em>instanceID</em>
: The ID of the Instance containing the resource. This can be <strong>IOWA_LWM2M_ID_ALL</strong>.</p>
<p><em>resourceID</em>
: The ID of the resource. This can be <strong>IOWA_LWM2M_ID_ALL</strong>.</p>
</div>
<div class="section" id="id163">
<h4>Return Value {-}<a class="headerlink" href="#id163" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_403_FORBIDDEN
: <em>objectID</em> is 0, 1 or 3 which are reserved Object IDs.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: <em>objectID</em> is <strong>IOWA_LWM2M_ID_ALL</strong> (65535).</p>
</div>
<div class="section" id="id164">
<h4>Header File {-}<a class="headerlink" href="#id164" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id165">
<h4>Notes {-}<a class="headerlink" href="#id165" title="Permalink to this headline"></a></h4>
<p>This API does not check if the LwM2M Object resource exists. Thats why this API does not return IOWA_COAP_404_NOT_FOUND.
Actually, <code class="docutils literal notranslate"><span class="pre">iowa_client_object_resource_changed()</span></code> is only searching a match between the running observation and the URI provided. If a match is found a notification is sent, else nothing happens.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-object-instance-changed">
<h3>iowa_client_object_instance_changed<a class="headerlink" href="#iowa-client-object-instance-changed" title="Permalink to this headline"></a></h3>
<div class="section" id="id166">
<h4>Prototype {-}<a class="headerlink" href="#id166" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_object_instance_changed</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                  <span class="kt">uint16_t</span> <span class="n">objectID</span><span class="p">,</span>
                                                  <span class="kt">uint16_t</span> <span class="n">instanceID</span><span class="p">,</span>
                                                  <span class="n">iowa_dm_operation_t</span> <span class="n">operation</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id167">
<h4>Description {-}<a class="headerlink" href="#id167" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_object_instance_changed()</span></code> informs the IOWA stack that an instance of a LwM2M Object was created or deleted.</p>
</div>
<div class="section" id="id168">
<h4>Arguments {-}<a class="headerlink" href="#id168" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>objectID</em>
: The ID of the Object containing the instance.</p>
<p><em>instanceID</em>
: The ID of the created or deleted Instance.</p>
<p><em>operation</em>
: <strong>IOWA_DM_CREATE</strong> if it is a new instance. <strong>IOWA_DM_DELETE</strong> if the instance was removed.</p>
</div>
<div class="section" id="id169">
<h4>Return Value {-}<a class="headerlink" href="#id169" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
<p>IOWA_COAP_403_FORBIDDEN
: <em>objectID</em> is 0, 1 or 3 which are reserved Object IDs.</p>
<p>IOWA_COAP_404_NOT_FOUND
: either:
: - <em>objectID</em> does not match any known object.
: - <em>operation</em> is <strong>IOWA_DM_DELETE</strong> and <em>instanceID</em> does not match any known instance.</p>
<p>IOWA_COAP_405_METHOD_NOT_ALLOWED
: <em>operation</em> is neither <strong>IOWA_DM_CREATE</strong> nor <strong>IOWA_DM_DELETE</strong>.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: either:
: - <em>objectID</em> is <strong>IOWA_LWM2M_ID_ALL</strong> (65535).
: - <em>operation</em> is <strong>IOWA_DM_CREATE</strong> and <strong>instanceID</strong> was already present.</p>
</div>
<div class="section" id="id170">
<h4>Header File {-}<a class="headerlink" href="#id170" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-notification-lock">
<h3>iowa_client_notification_lock<a class="headerlink" href="#iowa-client-notification-lock" title="Permalink to this headline"></a></h3>
<div class="section" id="id171">
<h4>Prototype {-}<a class="headerlink" href="#id171" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">iowa_client_notification_lock</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                   <span class="kt">bool</span> <span class="n">enter</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id172">
<h4>Description {-}<a class="headerlink" href="#id172" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_notification_lock()</span></code> prevents or allows the IOWA stack to send notifications and registration updates.</p>
</div>
<div class="section" id="id173">
<h4>Arguments {-}<a class="headerlink" href="#id173" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>enter</em>
: <strong>true</strong> to stop the notification, <strong>false</strong> to resume the notification.</p>
</div>
<div class="section" id="id174">
<h4>Return Value {-}<a class="headerlink" href="#id174" title="Permalink to this headline"></a></h4>
<p>None.</p>
</div>
<div class="section" id="id175">
<h4>Header File {-}<a class="headerlink" href="#id175" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id176">
<h4>Notes {-}<a class="headerlink" href="#id176" title="Permalink to this headline"></a></h4>
<p>The main use is to perform several calls to [<code class="docutils literal notranslate"><span class="pre">iowa_client_object_resource_changed()</span></code>][iowa_client_object_resource_changed] on an Object without generating a notification each time if the Object is under observation.</p>
<p>Registration updates are also blocked, allowing to add or remove several Objects or Object Instances.</p>
<p>This function is useful only if IOWA is built with the <strong>IOWA_MULTITHREAD_SUPPORT</strong> flag.
Inside a custom object callback, notifications are already disabled.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-send-heartbeat">
<h3>iowa_client_send_heartbeat<a class="headerlink" href="#iowa-client-send-heartbeat" title="Permalink to this headline"></a></h3>
<div class="section" id="id177">
<h4>Prototype {-}<a class="headerlink" href="#id177" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_send_heartbeat</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                         <span class="kt">uint16_t</span> <span class="n">shortID</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id178">
<h4>Description {-}<a class="headerlink" href="#id178" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_send_heartbeat()</span></code> sends an heartbeat message to a server.</p>
</div>
<div class="section" id="id179">
<h4>Arguments {-}<a class="headerlink" href="#id179" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>shortID</em>
: The Short ID assigned to this Server. Can be equal to <strong>IOWA_LWM2M_ID_ALL</strong>.</p>
</div>
<div class="section" id="id180">
<h4>Return Value {-}<a class="headerlink" href="#id180" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_403_FORBIDDEN
: <em>shortID</em> is zero.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>shortID</em> does not match any known server.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: client is not connected to the server with <em>shortID</em>. This can happen when:
: - The Server is a Bootstrap Server and the Client is already connect to a Server.
: - The Client is configured with more than one Server and has established the connection with only one.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
<p>IOWA_COAP_503_SERVICE_UNAVAILABLE
: heartbeat message has not been sent by the platform.</p>
</div>
<div class="section" id="id181">
<h4>Header File {-}<a class="headerlink" href="#id181" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id182">
<h4>Notes {-}<a class="headerlink" href="#id182" title="Permalink to this headline"></a></h4>
<p>If <em>shortID</em> is equal to <strong>IOWA_LWM2M_ID_ALL</strong>, the heartbeat message will be sent to all servers.</p>
<p>For non LoRaWAN Servers, a registration update message is sent to the Server. The [iowa_event_callback_t][iowa_event_callback_t] will be called with a <strong>IOWA_EVENT_REG_UPDATING</strong> event. Then, if a reply is received from the Server, the [iowa_event_callback_t][iowa_event_callback_t] will be called with either a <strong>IOWA_EVENT_REG_REGISTERED</strong> or <strong>IOWA_EVENT_REG_FAILED</strong> event. Nothing is done when no reply is received from the Server.</p>
<p>In the <strong>IOWA_EVENT_REG_REGISTERED</strong> case, the registration lifetime timer for the LwM2M Server is resetted.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-send-sensor-data">
<h3>iowa_client_send_sensor_data<a class="headerlink" href="#iowa-client-send-sensor-data" title="Permalink to this headline"></a></h3>
<div class="section" id="id183">
<h4>Prototype {-}<a class="headerlink" href="#id183" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_send_sensor_data</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                           <span class="kt">uint16_t</span> <span class="n">shortId</span><span class="p">,</span>
                                           <span class="n">iowa_sensor_uri_t</span> <span class="o">*</span><span class="n">sensorUriP</span><span class="p">,</span>
                                           <span class="kt">size_t</span> <span class="n">sensorUriCount</span><span class="p">,</span>
                                           <span class="n">iowa_response_callback_t</span> <span class="n">responseCb</span><span class="p">,</span>
                                           <span class="kt">void</span> <span class="o">*</span><span class="n">userDataP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id184">
<h4>Description {-}<a class="headerlink" href="#id184" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_send_sensor_data()</span></code> sends data from iowa_sensor_t to server.</p>
</div>
<div class="section" id="id185">
<h4>Arguments {-}<a class="headerlink" href="#id185" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>shortId</em>
: The ID of the server. It can be <strong>IOWA_LWM2M_ID_ALL</strong> to send to all registered servers.</p>
<p><em>sensorUriP</em>, <em>sensorUriCount</em>
: The sensor uri to send.</p>
<p><em>responseCb</em>
: The callback called when the reply to this operation is known. This can be nil.</p>
<p><em>userDataP</em>
: A pointer to application specific data. This is passed as argument to <em>resultCb</em>. This can be nil.</p>
</div>
<div class="section" id="id186">
<h4>Return Value {-}<a class="headerlink" href="#id186" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_400_BAD_REQUEST
: <em>sensorUriCount</em> is zero or <em>sensorUriP</em> is nil.</p>
<p>IOWA_COAP_401_UNAUTHORIZED
: The destination LwM2M Server does not have the Read Access Right to the sent data. Refer to the [Access Control List Object][Access Control List Object] for details.</p>
<p>IOWA_COAP_403_FORBIDDEN
: <em>shortId</em> is not an acceptable value.</p>
<p>IOWA_COAP_404_NOT_FOUND
: either:
: - <em>shortId</em> does not match a known server.
: - at least one <em>sensorUriP[x]</em> does not match a known resource.</p>
<p>IOWA_COAP_405_METHOD_NOT_ALLOWED
: at least one <em>sensorUriP[x]</em>s resource is not readable.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: the receiving LwM2M Server has muted the Send feature. See the Mute Send resource of the [Server Object][Server Object].</p>
<p>IOWA_COAP_413_REQUEST_ENTITY_TOO_LARGE
: The Platform abstraction didnt send all the data. One possible assumption is the packet was too large for the transport.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
<p>IOWA_COAP_503_SERVICE_UNAVAILABLE
: the client is not registered to the requested LwM2M Server or the communication with the requested LwM2M Server failed.</p>
</div>
<div class="section" id="id187">
<h4>Header File {-}<a class="headerlink" href="#id187" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id188">
<h4>Notes {-}<a class="headerlink" href="#id188" title="Permalink to this headline"></a></h4>
<p>This API requires the compilation flag [<strong>LWM2M_DATA_PUSH_SUPPORT</strong>][LWM2M_DATA_PUSH_SUPPORT].</p>
<p>The <em>responseCb</em> will be called with the operation set to <strong>IOWA_DM_DATA_PUSH</strong>.</p>
<p>If <em>shortId</em> is <strong>IOWA_LWM2M_ID_ALL</strong>, the <em>responseCb</em> will be called for each registered LwM2M Server which has not muted the Client.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-send-data">
<h3>iowa_client_send_data<a class="headerlink" href="#iowa-client-send-data" title="Permalink to this headline"></a></h3>
<div class="section" id="id189">
<h4>Prototype {-}<a class="headerlink" href="#id189" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_send_data</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                    <span class="kt">uint16_t</span> <span class="n">shortId</span><span class="p">,</span>
                                    <span class="n">iowa_lwm2m_data_t</span> <span class="o">*</span><span class="n">dataArrayP</span><span class="p">,</span>
                                    <span class="kt">size_t</span> <span class="n">dataCount</span><span class="p">,</span>
                                    <span class="n">iowa_response_callback_t</span> <span class="n">responseCb</span><span class="p">,</span>
                                    <span class="kt">void</span> <span class="o">*</span><span class="n">userDataP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id190">
<h4>Description {-}<a class="headerlink" href="#id190" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_send_data()</span></code> sends data to server.</p>
</div>
<div class="section" id="id191">
<h4>Arguments {-}<a class="headerlink" href="#id191" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>shortId</em>
: The ID of the server. It can be <strong>IOWA_LWM2M_ID_ALL</strong> to send to all registered servers.</p>
<p><em>dataArrayP</em>, <em>dataCount</em>
: The data to send.</p>
<p><em>responseCb</em>
: The callback called when the reply to this operation is known. This can be nil.</p>
<p><em>resultUserDataP</em>
: A pointer to application specific data. This is passed as argument to <em>responseCb</em>. This can be nil.</p>
</div>
<div class="section" id="id192">
<h4>Return Value {-}<a class="headerlink" href="#id192" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_400_BAD_REQUEST
: either:
: - at least one <em>dataArrayP[x].resourceID</em> is <strong>IOWA_LWM2M_ID_ALL</strong>.
: - <em>dataCount</em> is zero or <em>dataArrayP</em> is nil.</p>
<p>IOWA_COAP_401_UNAUTHORIZED
: The destination LwM2M Server does not have the Read Access Right to the sent data. Refer to the [Access Control List Object][Access Control List Object] for details.</p>
<p>IOWA_COAP_403_FORBIDDEN
: <em>shortId</em> is not an acceptable value.</p>
<p>IOWA_COAP_404_NOT_FOUND
: either:
: - <em>shortId</em> does not match a known server.
: - at least one <em>dataArrayP[x]</em> does not match a known resource.</p>
<p>IOWA_COAP_405_METHOD_NOT_ALLOWED
: at least one <em>dataArrayP[x]</em>s resource is not readable.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: either:
: - one of the timestamped value has an negative timestamp.
: - at least one <em>dataArrayP[x]</em> has negative value with unsigned integer type</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: the receiving LwM2M Server has muted the Send feature. See the Mute Send resource of the [Server Object][Server Object].</p>
<p>IOWA_COAP_413_REQUEST_ENTITY_TOO_LARGE
: The Platform abstraction didnt send all the data. One possible assumption is the packet was too large for the transport.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
<p>IOWA_COAP_503_SERVICE_UNAVAILABLE
: the client is not registered to the requested LwM2M Server or the communication with the requested LwM2M Server failed.</p>
</div>
<div class="section" id="id193">
<h4>Header File {-}<a class="headerlink" href="#id193" title="Permalink to this headline"></a></h4>
<p>iowa_client.h</p>
</div>
<div class="section" id="id194">
<h4>Notes {-}<a class="headerlink" href="#id194" title="Permalink to this headline"></a></h4>
<p>This API requires the compilation flag [<strong>LWM2M_DATA_PUSH_SUPPORT</strong>][LWM2M_DATA_PUSH_SUPPORT].</p>
<p>The <em>responseCb</em> will be called with the operation set to <strong>IOWA_DM_DATA_PUSH</strong>.</p>
<p>If <em>shortId</em> is <strong>IOWA_LWM2M_ID_ALL</strong>, the <em>responseCb</em> will be called for each registered LwM2M Server which has not muted the Client.</p>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="accelerometer-object-api">
<h2>Accelerometer Object API<a class="headerlink" href="#accelerometer-object-api" title="Permalink to this headline"></a></h2>
<p>This IPSO object can be used to represent a 1-3 axis accelerometer.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_accelerometer.h</span></code> must be included.</p>
<div class="section" id="iowa-client-add-accelerometer-object">
<h3>iowa_client_add_accelerometer_object<a class="headerlink" href="#iowa-client-add-accelerometer-object" title="Permalink to this headline"></a></h3>
<div class="section" id="id195">
<h4>Prototype {-}<a class="headerlink" href="#id195" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_accelerometer_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                   <span class="kt">uint16_t</span> <span class="n">optFlags</span><span class="p">,</span>
                                                   <span class="kt">float</span> <span class="n">minRangeValue</span><span class="p">,</span>
                                                   <span class="kt">float</span> <span class="n">maxRangeValue</span><span class="p">,</span>
                                                   <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">sensorUnits</span><span class="p">,</span>
                                                   <span class="n">iowa_sensor_t</span> <span class="o">*</span><span class="n">idP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id196">
<h4>Description {-}<a class="headerlink" href="#id196" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_accelerometer_object()</span></code> creates an accelerometer object.</p>
</div>
<div class="section" id="id197">
<h4>Arguments {-}<a class="headerlink" href="#id197" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>optFlags</em>
: Optional flags to add optional resources.</p>
<p><em>minRangeValue</em>
: Minimal range value for the accelerometer.</p>
<p><em>maxRangeValue</em>
: Maximal range value for the accelerometer.</p>
<p><em>sensorUnits</em>
: Measurement units definition</p>
<p><em>idP</em>
: Used to store the ID of the object</p>
</div>
<div class="section" id="id198">
<h4>Return Value {-}<a class="headerlink" href="#id198" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>minRangeValue</em> argument is superior to <em>maxRangeValue</em> argument.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id199">
<h4>Header File {-}<a class="headerlink" href="#id199" title="Permalink to this headline"></a></h4>
<p>objects/iowa_accelerometer.h</p>
</div>
<div class="section" id="id200">
<h4>Notes {-}<a class="headerlink" href="#id200" title="Permalink to this headline"></a></h4>
<p>Please refer to the <a class="reference external" href="http://www.openmobilealliance.org/wp/OMNA/LwM2M/LwM2MRegistry.html">OMA LightweightM2M (LwM2M) Object and Resource Registry</a> to see how the object is defined: resources, resources type, </p>
<p>When no optional flags are provided only mandatory resources of the object are implemented.</p>
<p>To add optional resources, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_ACCELEROMETER_RSC_Y_VALUE</p></li>
<li><p>IOWA_ACCELEROMETER_RSC_Z_VALUE</p></li>
<li><p>IOWA_ACCELEROMETER_RSC_MIN_RANGE_VALUE</p></li>
<li><p>IOWA_ACCELEROMETER_RSC_MAX_RANGE_VALUE</p></li>
</ul>
<p>Moreover, you can add several optional resources at one time by using the following flags:</p>
<ul class="simple">
<li><p>IOWA_ACCELEROMETER_3_AXIS</p></li>
<li><p>IOWA_ACCELEROMETER_RANGE_VALUE</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-accelerometer-object">
<h3>iowa_client_remove_accelerometer_object<a class="headerlink" href="#iowa-client-remove-accelerometer-object" title="Permalink to this headline"></a></h3>
<div class="section" id="id201">
<h4>Prototype {-}<a class="headerlink" href="#id201" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_accelerometer_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                      <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id202">
<h4>Description {-}<a class="headerlink" href="#id202" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_accelerometer_object()</span></code> removes an accelerometer object.</p>
</div>
<div class="section" id="id203">
<h4>Arguments {-}<a class="headerlink" href="#id203" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
</div>
<div class="section" id="id204">
<h4>Return Value {-}<a class="headerlink" href="#id204" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not an accelerometer object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_accelerometer_object()</span></code>][iowa_client_add_accelerometer_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: accelerometer referred by <strong>id</strong> does not exist.</p>
</div>
<div class="section" id="id205">
<h4>Header File {-}<a class="headerlink" href="#id205" title="Permalink to this headline"></a></h4>
<p>objects/iowa_accelerometer.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-accelerometer-update-axis">
<h3>iowa_client_accelerometer_update_axis<a class="headerlink" href="#iowa-client-accelerometer-update-axis" title="Permalink to this headline"></a></h3>
<div class="section" id="id206">
<h4>Prototype {-}<a class="headerlink" href="#id206" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_accelerometer_update_axis</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                    <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                    <span class="kt">float</span> <span class="n">xValue</span><span class="p">,</span>
                                                    <span class="kt">float</span> <span class="n">yValue</span><span class="p">,</span>
                                                    <span class="kt">float</span> <span class="n">zValue</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id207">
<h4>Description {-}<a class="headerlink" href="#id207" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_accelerometer_update_axis()</span></code> updates values of an accelerometer object.</p>
</div>
<div class="section" id="id208">
<h4>Arguments {-}<a class="headerlink" href="#id208" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
<p><em>xValue</em>
: X value axis</p>
<p><em>yValue</em>
: Y value axis</p>
<p><em>zValue</em>
: Z value axis</p>
</div>
<div class="section" id="id209">
<h4>Return Value {-}<a class="headerlink" href="#id209" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not an accelerometer object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_accelerometer_object()</span></code>][iowa_client_add_accelerometer_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: accelerometer referred by <strong>id</strong> does not exist.</p>
</div>
<div class="section" id="id210">
<h4>Header File {-}<a class="headerlink" href="#id210" title="Permalink to this headline"></a></h4>
<p>objects/iowa_accelerometer.h</p>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="access-control-list-object-api">
<h2>Access Control List Object API<a class="headerlink" href="#access-control-list-object-api" title="Permalink to this headline"></a></h2>
<p>This LwM2M Object is used to check whether the LwM2M Server has access right for performing an operation.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_access_control_list.h</span></code> must be included and the define [<strong>IOWA_SUPPORT_ACCESS_CONTROL_LIST_OBJECT</strong>][IOWA_SUPPORT_ACCESS_CONTROL_LIST_OBJECT] must bet set.</p>
<div class="section" id="iowa-client-acl-rights-server-set">
<h3>iowa_client_acl_rights_server_set<a class="headerlink" href="#iowa-client-acl-rights-server-set" title="Permalink to this headline"></a></h3>
<div class="section" id="id211">
<h4>Prototype {-}<a class="headerlink" href="#id211" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_acl_rights_server_set</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                <span class="kt">uint16_t</span> <span class="n">objectId</span><span class="p">,</span>
                                                <span class="kt">uint16_t</span> <span class="n">instanceId</span><span class="p">,</span>
                                                <span class="kt">uint16_t</span> <span class="n">serverId</span><span class="p">,</span>
                                                <span class="kt">uint8_t</span> <span class="n">accessRights</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id212">
<h4>Description {-}<a class="headerlink" href="#id212" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_acl_rights_server_set()</span></code> set the access rights for a LwM2M Server.</p>
</div>
<div class="section" id="id213">
<h4>Arguments {-}<a class="headerlink" href="#id213" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>objectId</em>
: ID of the Object.</p>
<p><em>instanceId</em>
: ID of the Object Instance.</p>
<p><em>serverId</em>
: Short Server ID of a LwM2M Server or <strong>IOWA_ACL_DEFAULT_ID</strong>.</p>
<p><em>accessRights</em>
: new access rights to set.</p>
</div>
<div class="section" id="id214">
<h4>Return Value {-}<a class="headerlink" href="#id214" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: either:
: if <em>instanceId</em> is <strong>IOWA_LWM2M_ID_ALL</strong>, <strong>accessRights</strong> must be <em>IOWA_ACL_CREATE_RIGHT</em>.
: if <em>instanceId</em> is not <strong>IOWA_LWM2M_ID_ALL</strong>, <strong>accessRights</strong> cannot included <em>IOWA_ACL_CREATE_RIGHT</em>.</p>
<p>IOWA_COAP_403_FORBIDDEN
: either:
: <em>objectId</em> is <strong>IOWA_LWM2M_ID_ALL</strong>.
: <em>serverId</em> is <strong>IOWA_LWM2M_ID_ALL</strong>.</p>
<p>IOWA_COAP_404_NOT_FOUND
: either:
: <em>objectId</em> does not refer to a supported Object.
: if <em>instanceId</em> is not <strong>IOWA_LWM2M_ID_ALL</strong>, <em>instanceId</em> does not refer to an instanciated Object Instance.
: <em>serverId</em> does not refer to a known Server Short ID nor <strong>IOWA_ACL_DEFAULT_ID</strong>.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id215">
<h4>Header File {-}<a class="headerlink" href="#id215" title="Permalink to this headline"></a></h4>
<p>objects/iowa_access_control_list.h</p>
</div>
<div class="section" id="id216">
<h4>Notes {-}<a class="headerlink" href="#id216" title="Permalink to this headline"></a></h4>
<p><em>accessRights</em> is a bit field which can contain the following values:</p>
<ul class="simple">
<li><p><em>IOWA_ACL_NONE_RIGHT</em>: No access</p></li>
<li><p><em>IOWA_ACL_READ_RIGHT</em>: Read access</p></li>
<li><p><em>IOWA_ACL_WRITE_RIGHT</em>: Write access</p></li>
<li><p><em>IOWA_ACL_EXECUTE_RIGHT</em>: Execute access</p></li>
<li><p><em>IOWA_ACL_DELETE_RIGHT</em>: Delete access</p></li>
<li><p><em>IOWA_ACL_CREATE_RIGHT</em>: Create access</p></li>
</ul>
<p>If access rights are already set for the targeted <em>objectId</em>, <em>instanceId</em> and <em>serverId</em>, they will be overwritten.</p>
<p>Access rights set through <code class="docutils literal notranslate"><span class="pre">iowa_client_acl_rights_server_set()</span></code> cannot be modified by any Server, since the Server Owner ID will be <strong>IOWA_LWM2M_ID_ALL</strong> (means Bootstrap Server).</p>
<p>To set the default access rights, <em>serverId</em> can be <strong>IOWA_ACL_DEFAULT_ID</strong>.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-acl-rights-server-clear">
<h3>iowa_client_acl_rights_server_clear<a class="headerlink" href="#iowa-client-acl-rights-server-clear" title="Permalink to this headline"></a></h3>
<div class="section" id="id217">
<h4>Prototype {-}<a class="headerlink" href="#id217" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_acl_rights_server_clear</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                  <span class="kt">uint16_t</span> <span class="n">objectId</span><span class="p">,</span>
                                                  <span class="kt">uint16_t</span> <span class="n">instanceId</span><span class="p">,</span>
                                                  <span class="kt">uint16_t</span> <span class="n">serverId</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id218">
<h4>Description {-}<a class="headerlink" href="#id218" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_acl_rights_server_clear()</span></code> unset the access rights for a LwM2M Server.</p>
</div>
<div class="section" id="id219">
<h4>Arguments {-}<a class="headerlink" href="#id219" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>objectId</em>
: ID of the Object.</p>
<p><em>instanceId</em>
: ID of the Object Instance.</p>
<p><em>serverId</em>
: Short Server ID of a LwM2M Server or <strong>IOWA_ACL_DEFAULT_ID</strong>.</p>
</div>
<div class="section" id="id220">
<h4>Return Value {-}<a class="headerlink" href="#id220" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_403_FORBIDDEN
: <em>objectId</em> or <em>serverId</em> is <strong>IOWA_LWM2M_ID_ALL</strong>.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>objectId</em>, <em>instanceId</em> or <em>serverId</em> do not have access rights set.</p>
</div>
<div class="section" id="id221">
<h4>Header File {-}<a class="headerlink" href="#id221" title="Permalink to this headline"></a></h4>
<p>objects/iowa_access_control_list.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-acl-rights-object-clear">
<h3>iowa_client_acl_rights_object_clear<a class="headerlink" href="#iowa-client-acl-rights-object-clear" title="Permalink to this headline"></a></h3>
<div class="section" id="id222">
<h4>Prototype {-}<a class="headerlink" href="#id222" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_acl_rights_object_clear</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                  <span class="kt">uint16_t</span> <span class="n">objectId</span><span class="p">,</span>
                                                  <span class="kt">uint16_t</span> <span class="n">instanceId</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id223">
<h4>Description {-}<a class="headerlink" href="#id223" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_acl_rights_object_clear()</span></code> clears the access rights for an Object/Object Instance.</p>
</div>
<div class="section" id="id224">
<h4>Arguments {-}<a class="headerlink" href="#id224" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>objectId</em>
: ID of the Object.</p>
<p><em>instanceId</em>
: ID of the Object Instance.</p>
</div>
<div class="section" id="id225">
<h4>Return Value {-}<a class="headerlink" href="#id225" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_403_FORBIDDEN
: <em>objectId</em> is <strong>IOWA_LWM2M_ID_ALL</strong>.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>objectId</em> or <em>instanceId</em> do not have access rights set.</p>
</div>
<div class="section" id="id226">
<h4>Header File {-}<a class="headerlink" href="#id226" title="Permalink to this headline"></a></h4>
<p>objects/iowa_access_control_list.h</p>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="apn-connection-profile-object-api">
<h2>APN Connection Profile Object API<a class="headerlink" href="#apn-connection-profile-object-api" title="Permalink to this headline"></a></h2>
<p>This LwM2M object specifies resources to enable a device to connect to an APN.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_apn_connection_profile.h</span></code> must be included.</p>
<div class="section" id="data-structures-and-constants">
<h3>Data Structures and Constants<a class="headerlink" href="#data-structures-and-constants" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-apn-connection-profile-details-t">
<h4>iowa_apn_connection_profile_details_t<a class="headerlink" href="#iowa-apn-connection-profile-details-t" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="kt">char</span>       <span class="o">*</span><span class="n">apn</span><span class="p">;</span>
    <span class="kt">bool</span>        <span class="n">autoSelect</span><span class="p">;</span>
    <span class="kt">bool</span>        <span class="n">enableStatus</span><span class="p">;</span>
    <span class="kt">uint8_t</span>     <span class="n">authenticationType</span><span class="p">;</span>
    <span class="kt">char</span>       <span class="o">*</span><span class="n">userName</span><span class="p">;</span>
    <span class="kt">char</span>       <span class="o">*</span><span class="n">secret</span><span class="p">;</span>
    <span class="kt">char</span>       <span class="o">*</span><span class="n">reconnectSchedule</span><span class="p">;</span>
    <span class="kt">char</span>      <span class="o">**</span><span class="n">validityList</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">validityNumber</span><span class="p">;</span>
    <span class="kt">uint32_t</span>   <span class="o">*</span><span class="n">connectionEstablishmentTimeList</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">connectionEstablishmentTimeNumber</span><span class="p">;</span>
    <span class="kt">uint8_t</span>    <span class="o">*</span><span class="n">connectionEstablishmentResultList</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">connectionEstablishmentResultNumber</span><span class="p">;</span>
    <span class="kt">uint8_t</span>    <span class="o">*</span><span class="n">connectionEstablishmentRejectCauseList</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">connectionEstablishmentRejectCauseNumber</span><span class="p">;</span>
    <span class="kt">uint32_t</span>   <span class="o">*</span><span class="n">connectionEndTimeList</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">connectionEndTimeNumber</span><span class="p">;</span>
    <span class="kt">uint32_t</span>    <span class="n">totalBytesSent</span><span class="p">;</span>
    <span class="kt">uint32_t</span>    <span class="n">totalBytesReceived</span><span class="p">;</span>
    <span class="kt">char</span>      <span class="o">**</span><span class="n">ipAddressList</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">ipAddressNumber</span><span class="p">;</span>
    <span class="kt">char</span>      <span class="o">**</span><span class="n">prefixLengthList</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">prefixLengthNumber</span><span class="p">;</span>
    <span class="kt">char</span>      <span class="o">**</span><span class="n">subnetMaskList</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">subnetMaskNumber</span><span class="p">;</span>
    <span class="kt">char</span>      <span class="o">**</span><span class="n">gatewayList</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">gatewayNumber</span><span class="p">;</span>
    <span class="kt">char</span>      <span class="o">**</span><span class="n">primaryDnsAddressList</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">primaryDnsAddressNumber</span><span class="p">;</span>
    <span class="kt">char</span>      <span class="o">**</span><span class="n">secondaryDnsAddressList</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">secondaryDnsAddressNumber</span><span class="p">;</span>
    <span class="kt">uint8_t</span>     <span class="n">qci</span><span class="p">;</span>
    <span class="kt">uint32_t</span>    <span class="n">totalPacketsSent</span><span class="p">;</span>
    <span class="kt">uint8_t</span>     <span class="n">pdnType</span><span class="p">;</span>
    <span class="kt">uint32_t</span>    <span class="n">apnRateControl</span><span class="p">;</span>
<span class="p">}</span> <span class="n">iowa_apn_connection_profile_details_t</span><span class="p">;</span>
</pre></div>
</div>
<p><em>apn</em>
: APN of the APN connection profile.</p>
<p><em>autoSelect</em>
: It enables the device to choose an APN according to a device specific algorithm.</p>
<p><em>enableStatus</em>
: Allows the profile to be remotely activated or deactivated.</p>
<p><em>authenticationType</em>
: 0: PAP, 1: CHAP, 2: PAP or CHAP, 3: None.</p>
<p><em>userName</em>
: Used with e.g. PAP.</p>
<p><em>secret</em>
: Used with e.g. PAP.</p>
<p><em>reconnectSchedule</em>
: List of retry delay values in seconds to be used in case of unsuccessful connection establishment attempts.</p>
<p><em>validity</em>
: Coma separated mobile country code, then mobile network code.</p>
<p><em>connectionEstablishmentTime</em>
: UTC time of connection request.</p>
<p><em>connectionEstablishmentResult</em>
: 0 = accepted, 1 = rejected.</p>
<p><em>connectionEstablishmentRejectCause</em>
: Reject cause.</p>
<p><em>connectionEndTime</em>
: UTC time of connection end.</p>
<p><em>totalBytesSent</em>
: Rolling counter for total number of bytes sent via this interface since last device reset.</p>
<p><em>totalBytesReceived</em>
: Rolling counter for total number of bytes sent via this interface since last device reset.</p>
<p><em>ipAddress</em>
: May be IPv4 or IPv6 address.</p>
<p><em>prefixLength</em>
: Associated with IPv6 address.</p>
<p><em>subnetMask</em>
: Subnet mask.</p>
<p><em>gateway</em>
: Gateway.</p>
<p><em>primaryDnsAddress</em>
: Primary DNS address.</p>
<p><em>secondaryDnsAddress</em>
: Secondary DNS address.</p>
<p><em>qci</em>
: Quality of service Class Identifier. For LTE and NB-IoT only.</p>
<p><em>totalPacketsSent</em>
: Rolling counter for total number of packets sent via this interface since last device reset.</p>
<p><em>pdnType</em>
: 0=Non-IP, 1=IPv4, 2=IPv6, 3=IPv4v6.</p>
<p><em>apnRateControl</em>
: Number of allowed uplink PDU transmissions per time interval per APN.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="id227">
<h3>Callbacks<a class="headerlink" href="#id227" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-apn-connection-profile-update-callback-t">
<h4>iowa_apn_connection_profile_update_callback_t<a class="headerlink" href="#iowa-apn-connection-profile-update-callback-t" title="Permalink to this headline"></a></h4>
<p>This callback is called when the Server writes new information on the APN connection profile object.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">iowa_status_t</span><span class="p">(</span><span class="o">*</span><span class="n">iowa_apn_connection_profile_update_callback_t</span><span class="p">)(</span>
    <span class="kt">char</span> <span class="o">*</span><span class="n">profileName</span><span class="p">,</span>
    <span class="n">iowa_dm_operation_t</span> <span class="n">operation</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">flags</span><span class="p">,</span>
    <span class="n">iowa_apn_connection_profile_details_t</span> <span class="o">*</span><span class="n">detailsP</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userDataCallback</span><span class="p">,</span>
    <span class="n">iowa_context_t</span> <span class="n">contextP</span>
<span class="p">);</span>
</pre></div>
</div>
<p><em>profileName</em>
: Unique name of the APN connection profile. This may be new.</p>
<p><em>operation</em>
: The operation performed by the Server on this APN connection profile (creation, deletion, or write).</p>
<p><em>flags</em>
: Specify values set in detailsP.</p>
<p><em>detailsP</em>
: APN connection profile details. This may be nil.</p>
<p><em>userDataCallback</em>
: User data callback.</p>
<p><em>contextP</em>
: The IOWA context.</p>
<div class="section" id="id228">
<h5>Return Value {-}<a class="headerlink" href="#id228" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR in case of success or an error status.</p>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="id229">
<h3>API<a class="headerlink" href="#id229" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-client-enable-apn-connection-profile-object">
<h4>iowa_client_enable_apn_connection_profile_object<a class="headerlink" href="#iowa-client-enable-apn-connection-profile-object" title="Permalink to this headline"></a></h4>
<div class="section" id="id230">
<h5>Prototype {-}<a class="headerlink" href="#id230" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_enable_apn_connection_profile_object</span><span class="p">(</span>
    <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
    <span class="n">iowa_apn_connection_profile_update_callback_t</span> <span class="n">updateCallback</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userDataCallback</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id231">
<h5>Description {-}<a class="headerlink" href="#id231" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_enable_apn_connection_profile_object()</span></code> enables APN connection profiles management.</p>
</div>
<div class="section" id="id232">
<h5>Arguments {-}<a class="headerlink" href="#id232" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>updateCallback</em>
: Called to update state of the APN connection profile. This is called when the server request a new state.</p>
<p><em>userDataCallback</em>
: Application specific data pass to the callback. Can be nil.</p>
</div>
<div class="section" id="id233">
<h5>Return Value {-}<a class="headerlink" href="#id233" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: no update state callback provided means <em>updateCallback</em> is nil.</p>
<p>IOWA_COAP_409_CONFLICT
: APN connection profiles management was already enabled. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_disable_apn_connection_profile_object()</span></code>][iowa_client_disable_apn_connection_profile_object].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id234">
<h5>Header File {-}<a class="headerlink" href="#id234" title="Permalink to this headline"></a></h5>
<p>objects/iowa_apn_connection_profile.h</p>
</div>
<div class="section" id="id235">
<h5>Notes {-}<a class="headerlink" href="#id235" title="Permalink to this headline"></a></h5>
<p>Please refer to the <a class="reference external" href="http://www.openmobilealliance.org/wp/OMNA/LwM2M/LwM2MRegistry.html">OMA LightweightM2M (LwM2M) Object and Resource Registry</a> to see how the object is defined: resources, resources type, </p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-disable-apn-connection-profile-object">
<h4>iowa_client_disable_apn_connection_profile_object<a class="headerlink" href="#iowa-client-disable-apn-connection-profile-object" title="Permalink to this headline"></a></h4>
<div class="section" id="id236">
<h5>Prototype {-}<a class="headerlink" href="#id236" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_disable_apn_connection_profile_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id237">
<h5>Description {-}<a class="headerlink" href="#id237" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_disable_apn_connection_profile_object()</span></code> disables APN connection profiles management.</p>
</div>
<div class="section" id="id238">
<h5>Arguments {-}<a class="headerlink" href="#id238" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
</div>
<div class="section" id="id239">
<h5>Return Value {-}<a class="headerlink" href="#id239" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_404_NOT_FOUND
: APN connection profiles management was not enabled. [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_apn_connection_profile_object()</span></code>][iowa_client_enable_apn_connection_profile_object] was not called before, or failed.</p>
</div>
<div class="section" id="id240">
<h5>Header File {-}<a class="headerlink" href="#id240" title="Permalink to this headline"></a></h5>
<p>objects/iowa_apn_connection_profile.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-add-apn-connection-profile">
<h4>iowa_client_add_apn_connection_profile<a class="headerlink" href="#iowa-client-add-apn-connection-profile" title="Permalink to this headline"></a></h4>
<div class="section" id="id241">
<h5>Prototype {-}<a class="headerlink" href="#id241" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_apn_connection_profile</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                     <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">profileName</span><span class="p">,</span>
                                                     <span class="kt">uint32_t</span> <span class="n">optFlags</span><span class="p">,</span>
                                                     <span class="n">iowa_apn_connection_profile_details_t</span> <span class="o">*</span><span class="n">detailsP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id242">
<h5>Description {-}<a class="headerlink" href="#id242" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_apn_connection_profile()</span></code> add an APN connection profile.</p>
</div>
<div class="section" id="id243">
<h5>Arguments {-}<a class="headerlink" href="#id243" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>profileName</em>
: Unique name of the APN connection profile.</p>
<p><em>optFlags</em>
: Optional flags to add optional resources.</p>
<p><em>detailsP</em>
: Apn connection profile details.</p>
</div>
<div class="section" id="id244">
<h5>Return Value {-}<a class="headerlink" href="#id244" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: inconsistent data inside <em>detailsP</em>.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: either:
: - no profile name provided means <em>profileName</em> is nil.
: - no details provided means <em>detailsP</em> is nil.
: - <em>authenticationType</em>s value is outside the [0, 3] range.
: - <em>connectionEstablishmentResult</em>s value is different of 0 or 1.
: - <em>connectionEstablishmentRejectCause</em>s value is outside the [0, 111] range.
: - <em>qci</em>s value is outside the [0, 9] range.
: - <em>pdnType</em>s value is outside the [0, 3] range.</p>
<p>IOWA_COAP_409_CONFLICT
: APN connection profile with <em>profileName</em> already exists.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: APN connection profile management was not enabled. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_apn_connection_profile_object()</span></code>][iowa_client_enable_apn_connection_profile_object].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id245">
<h5>Header File {-}<a class="headerlink" href="#id245" title="Permalink to this headline"></a></h5>
<p>objects/iowa_apn_connection_profile.h</p>
</div>
<div class="section" id="id246">
<h5>Notes {-}<a class="headerlink" href="#id246" title="Permalink to this headline"></a></h5>
<p>When no optional flags are provided only mandatory resources of the object are implemented.</p>
<p>To add optional resources, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_APN</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_AUTO_SELECT_APN_DEVICE</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_ENABLE_STATUS</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_USER_NAME</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_SECRET</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_RECONNECT_SCHEDULE</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_VALIDITY</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_CONN_ESTABLISHMENT_TIME</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_CONN_ESTABLISHMENT_RESULT</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_CONN_ESTABLISHMENT_REJECT_CAUSE</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_CONNECTION_END_TIME</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_TOTAL_BYTES_SENT</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_TOTAL_BYTES_RECEIVED</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_IP_ADDRESS</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_PREFIX_LENGTH</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_SUBNET_MASK</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_GATEWAY</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_PRIMARY_DNS_ADDRESS</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_SECONDARY_DNS_ADDRESS</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_QCI</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_TOTAL_PACKETS_SENT</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_PDN_TYPE</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_APN_RATE_CONTROL</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-apn-connection-profile">
<h4>iowa_client_remove_apn_connection_profile<a class="headerlink" href="#iowa-client-remove-apn-connection-profile" title="Permalink to this headline"></a></h4>
<div class="section" id="id247">
<h5>Prototype {-}<a class="headerlink" href="#id247" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_apn_connection_profile</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                        <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">profileName</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id248">
<h5>Description {-}<a class="headerlink" href="#id248" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_apn_connection_profile()</span></code> removes an APN connection profile created with [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_apn_connection_profile()</span></code>][iowa_client_add_apn_connection_profile].</p>
</div>
<div class="section" id="id249">
<h5>Arguments {-}<a class="headerlink" href="#id249" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>profileName</em>
: Unique name of the APN connection profile.</p>
</div>
<div class="section" id="id250">
<h5>Return Value {-}<a class="headerlink" href="#id250" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>profileName</em> does not match any known APN connection profile.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: no profile name provided meaning <em>profileName</em> is nil.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: APN connection profile management was not enabled. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_apn_connection_profile_object()</span></code>][iowa_client_enable_apn_connection_profile_object].</p>
</div>
<div class="section" id="id251">
<h5>Header File {-}<a class="headerlink" href="#id251" title="Permalink to this headline"></a></h5>
<p>objects/iowa_apn_connection_profile.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-update-apn-connection-profile">
<h4>iowa_client_update_apn_connection_profile<a class="headerlink" href="#iowa-client-update-apn-connection-profile" title="Permalink to this headline"></a></h4>
<div class="section" id="id252">
<h5>Prototype {-}<a class="headerlink" href="#id252" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_update_apn_connection_profile</span><span class="p">(</span>
    <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">profileName</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">flags</span><span class="p">,</span>
    <span class="n">iowa_apn_connection_profile_details_t</span> <span class="o">*</span><span class="n">detailsP</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id253">
<h5>Description {-}<a class="headerlink" href="#id253" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_update_apn_connection_profile()</span></code> updates an APN connection profile.</p>
</div>
<div class="section" id="id254">
<h5>Arguments {-}<a class="headerlink" href="#id254" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>profileName</em>
: Unique name of the APN connection profile.</p>
<p><em>flags</em>
: Specify resources to update.</p>
<p><em>detailsP</em>
: The APN connection profile details.</p>
</div>
<div class="section" id="id255">
<h5>Return Value {-}<a class="headerlink" href="#id255" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: inconsistent data inside <em>detailsP</em>.</p>
<p>IOWA_COAP_404_NOT_FOUND
: APN connection profile does not exist. Add first the profile with [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_apn_connection_profile()</span></code>][iowa_client_add_apn_connection_profile].</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: either:
: - no profile name provided means <em>profileName</em> is nil.
: - no details provided means <em>detailsP</em> is nil.
: - <em>authenticationType</em>s value is outside the [0, 3] range.
: - <em>connectionEstablishmentResult</em>s value is different of 0 or 1.
: - <em>connectionEstablishmentRejectCause</em>s value is outside the [0, 111] range.
: - <em>qci</em>s value is outside the [0, 9] range.
: - <em>pdnType</em>s value is outside the [0, 3] range.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: APN connection profile management was not enabled. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_apn_connection_profile_object()</span></code>][iowa_client_enable_apn_connection_profile_object].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id256">
<h5>Header File {-}<a class="headerlink" href="#id256" title="Permalink to this headline"></a></h5>
<p>objects/iowa_apn_connection_profile.h</p>
</div>
<div class="section" id="id257">
<h5>Notes {-}<a class="headerlink" href="#id257" title="Permalink to this headline"></a></h5>
<p>To specify resources to update, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_APN</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_AUTO_SELECT_APN_DEVICE</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_ENABLE_STATUS</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_AUTHENTICATION_TYPE</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_USER_NAME</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_SECRET</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_RECONNECT_SCHEDULE</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_VALIDITY</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_CONN_ESTABLISHMENT_TIME</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_CONN_ESTABLISHMENT_RESULT</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_CONN_ESTABLISHMENT_REJECT_CAUSE</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_CONNECTION_END_TIME</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_TOTAL_BYTES_SENT</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_TOTAL_BYTES_RECEIVED</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_IP_ADDRESS</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_PREFIX_LENGTH</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_SUBNET_MASK</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_GATEWAY</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_PRIMARY_DNS_ADDRESS</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_SECONDARY_DNS_ADDRESS</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_QCI</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_TOTAL_PACKETS_SENT</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_PDN_TYPE</p></li>
<li><p>IOWA_APN_CONNECTION_PROFILE_RSC_APN_RATE_CONTROL</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-get-apn-connection-profile-object-link">
<h4>iowa_client_get_apn_connection_profile_object_link<a class="headerlink" href="#iowa-client-get-apn-connection-profile-object-link" title="Permalink to this headline"></a></h4>
<div class="section" id="id258">
<h5>Prototype {-}<a class="headerlink" href="#id258" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_get_apn_connection_profile_object_link</span><span class="p">(</span>
    <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">profileName</span><span class="p">,</span>
    <span class="n">iowa_lwm2m_object_link_t</span> <span class="o">*</span><span class="n">objectLinkP</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id259">
<h5>Description {-}<a class="headerlink" href="#id259" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_get_apn_connection_profile_object_link()</span></code> retrieves the LwM2M Object Link to an APN connection profile.</p>
</div>
<div class="section" id="id260">
<h5>Arguments {-}<a class="headerlink" href="#id260" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>profileName</em>
: Unique name of the APN connection profile.</p>
<p><em>objectLinkP</em>
: Pointer to an [iowa_lwm2m_object_link_t][iowa_lwm2m_object_link_t] where to store the LwM2M Object Link to the APN connection profile.</p>
</div>
<div class="section" id="id261">
<h5>Return Value {-}<a class="headerlink" href="#id261" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_404_NOT_FOUND
: APN connection profile does not exist. Add first the profile with [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_apn_connection_profile()</span></code>][iowa_client_add_apn_connection_profile].</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: <em>profileName</em> or <em>objectLinkP</em> is nil.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: APN connection profile management was not enabled. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_apn_connection_profile_object()</span></code>][iowa_client_enable_apn_connection_profile_object].</p>
</div>
<div class="section" id="id262">
<h5>Header File {-}<a class="headerlink" href="#id262" title="Permalink to this headline"></a></h5>
<p>objects/iowa_apn_connection_profile.h</p>
</div>
<div class="section" id="id263">
<h5>Notes {-}<a class="headerlink" href="#id263" title="Permalink to this headline"></a></h5>
<p>This function is useful to fill the <em>activatedProfileNamesList</em> field of the [iowa_cellular_connectivity_info_t][iowa_cellular_connectivity_info_t] structure.</p>
<p>\clearpage</p>
</div>
</div>
</div>
</div>
<div class="section" id="at-command-object-api">
<h2>AT Command Object API<a class="headerlink" href="#at-command-object-api" title="Permalink to this headline"></a></h2>
<p>This LwM2M object can be used to execute an AT command on a cellular modem.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_at_command.h</span></code> must be included.</p>
<div class="section" id="id264">
<h3>Callbacks<a class="headerlink" href="#id264" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-at-command-run-t">
<h4>iowa_at_command_run_t<a class="headerlink" href="#iowa-at-command-run-t" title="Permalink to this headline"></a></h4>
<p>This callback is used to execute an AT command.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">iowa_status_t</span> <span class="p">(</span><span class="o">*</span><span class="n">iowa_at_command_run_t</span><span class="p">)(</span><span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                               <span class="kt">char</span> <span class="o">*</span><span class="n">command</span><span class="p">,</span>
                                               <span class="kt">int</span> <span class="n">timeout</span><span class="p">,</span>
                                               <span class="kt">void</span> <span class="o">*</span><span class="n">userDataCallback</span><span class="p">,</span>
                                               <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>id</em>
: ID of the object.</p>
<p><em>command</em>
: The AT command to run.</p>
<p><em>timeout</em>
: Amount of time in seconds allowed for the modem to respond to the command.</p>
<p><em>userDataCallback</em>
: Application specific data from [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_at_command_object</span></code>][iowa_client_add_digital_output_object]. Can be nil.</p>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<div class="section" id="id265">
<h5>Return Value {-}<a class="headerlink" href="#id265" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR in case of success or an error status.</p>
</div>
<div class="section" id="id266">
<h5>Header File {-}<a class="headerlink" href="#id266" title="Permalink to this headline"></a></h5>
<p>objects/iowa_at_command.h</p>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="id267">
<h3>API<a class="headerlink" href="#id267" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-client-add-at-command-object">
<h4>iowa_client_add_at_command_object<a class="headerlink" href="#iowa-client-add-at-command-object" title="Permalink to this headline"></a></h4>
<div class="section" id="id268">
<h5>Prototype {-}<a class="headerlink" href="#id268" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_at_command_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                <span class="kt">uint16_t</span> <span class="n">optFlags</span><span class="p">,</span>
                                                <span class="n">iowa_at_command_run_t</span> <span class="n">run</span><span class="p">,</span>
                                                <span class="kt">void</span> <span class="o">*</span><span class="n">userDataCallback</span><span class="p">,</span>
                                                <span class="n">iowa_sensor_t</span> <span class="o">*</span><span class="n">idP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id269">
<h5>Description {-}<a class="headerlink" href="#id269" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_at_command_object()</span></code> creates an AT Command object.</p>
</div>
<div class="section" id="id270">
<h5>Arguments {-}<a class="headerlink" href="#id270" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>optFlags</em>
: Optional flags to add optional resources.</p>
<p><em>run</em>
: Called to send an AT command to the modem.</p>
<p><em>userDataCallback</em>
: Application specific data pass to the callback. Can be nil.</p>
<p><em>idP</em>
: Used to store the ID of the object.</p>
</div>
<div class="section" id="id271">
<h5>Return Value {-}<a class="headerlink" href="#id271" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: no run callback provided means <em>run</em> is nil.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id272">
<h5>Header File {-}<a class="headerlink" href="#id272" title="Permalink to this headline"></a></h5>
<p>objects/iowa_at_command.h</p>
</div>
<div class="section" id="id273">
<h5>Notes {-}<a class="headerlink" href="#id273" title="Permalink to this headline"></a></h5>
<p>Please refer to the <a class="reference external" href="http://www.openmobilealliance.org/wp/OMNA/LwM2M/LwM2MRegistry.html">OMA LightweightM2M (LwM2M) Object and Resource Registry</a> to see how the object is defined: resources, resources type, </p>
<p>When no optional flags are provided only mandatory resources of the object are implemented.</p>
<p>To add optional resources, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_AT_COMMAND_RSC_TIMEOUT</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-at-command-object">
<h4>iowa_client_remove_at_command_object<a class="headerlink" href="#iowa-client-remove-at-command-object" title="Permalink to this headline"></a></h4>
<div class="section" id="id274">
<h5>Prototype {-}<a class="headerlink" href="#id274" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_at_command_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                   <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id275">
<h5>Description {-}<a class="headerlink" href="#id275" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_at_command_object()</span></code> removes an AT Command object.</p>
</div>
<div class="section" id="id276">
<h5>Arguments {-}<a class="headerlink" href="#id276" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
</div>
<div class="section" id="id277">
<h5>Return Value {-}<a class="headerlink" href="#id277" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not an AT Command object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_at_command_object()</span></code>][iowa_client_add_at_command_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: AT Command referred by <strong>id</strong> does not exist.</p>
</div>
<div class="section" id="id278">
<h5>Header File {-}<a class="headerlink" href="#id278" title="Permalink to this headline"></a></h5>
<p>objects/iowa_at_command.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-at-command-set-response">
<h4>iowa_client_at_command_set_response<a class="headerlink" href="#iowa-client-at-command-set-response" title="Permalink to this headline"></a></h4>
<div class="section" id="id279">
<h5>Prototype {-}<a class="headerlink" href="#id279" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_at_command_set_response</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                  <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                  <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">command</span><span class="p">,</span>
                                                  <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span>
                                                  <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">status</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id280">
<h5>Description {-}<a class="headerlink" href="#id280" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_at_command_set_response()</span></code> updates result values after having executed an AT command.</p>
</div>
<div class="section" id="id281">
<h5>Arguments {-}<a class="headerlink" href="#id281" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object.</p>
<p><em>command</em>
: The executed AT command.</p>
<p><em>response</em>
: Response to the command.</p>
<p><em>status</em>
: Status of the command execution as returned by the modem.</p>
</div>
<div class="section" id="id282">
<h5>Return Value {-}<a class="headerlink" href="#id282" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not an AT Command object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_at_command_object()</span></code>][iowa_client_add_at_command_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: AT Command referred by <strong>id</strong> does not exist.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id283">
<h5>Header File {-}<a class="headerlink" href="#id283" title="Permalink to this headline"></a></h5>
<p>objects/iowa_at_command.h</p>
</div>
<div class="section" id="id284">
<h5>Notes {-}<a class="headerlink" href="#id284" title="Permalink to this headline"></a></h5>
<p><em>response</em> and <em>status</em> can spread on multiple lines.</p>
<p>To reset <em>response</em> and <em>status</em> update their values with empty string :</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">iowa_client_at_command_set_response(contextP,</span> <span class="pre">Id,</span> <span class="pre">NULL,</span> <span class="pre">NULL,</span> <span class="pre">&quot;&quot;);</span></code> to reset the AT commands status.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iowa_client_at_command_set_response(contextP,</span> <span class="pre">Id,</span> <span class="pre">NULL,</span> <span class="pre">&quot;&quot;,</span> <span class="pre">NULL);</span></code> to reset the AT commands response.</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
</div>
</div>
<div class="section" id="bearer-selection-object-api">
<h2>Bearer Selection Object API<a class="headerlink" href="#bearer-selection-object-api" title="Permalink to this headline"></a></h2>
<p>This LwM2M object allows via remote bearer and network configuration to overwrite automatic network and bearer selection e.g. as supported by the UICC.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_bearer_selection.h</span></code> must be included.</p>
<div class="section" id="id285">
<h3>Data Structures and Constants<a class="headerlink" href="#id285" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-bearer-selection-info-t">
<h4>iowa_bearer_selection_info_t<a class="headerlink" href="#iowa-bearer-selection-info-t" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="kt">uint8_t</span>    <span class="o">*</span><span class="n">preferredCommBearerList</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">preferredCommBearerNumber</span><span class="p">;</span>
    <span class="kt">int8_t</span>      <span class="n">acceptableGsm</span><span class="p">;</span>
    <span class="kt">int8_t</span>      <span class="n">acceptableUmts</span><span class="p">;</span>
    <span class="kt">int16_t</span>     <span class="n">acceptableLte</span><span class="p">;</span>
    <span class="kt">int16_t</span>     <span class="n">acceptableEvDo</span><span class="p">;</span>
    <span class="kt">char</span>       <span class="o">*</span><span class="n">cellLockList</span><span class="p">;</span>
    <span class="kt">char</span>       <span class="o">*</span><span class="n">operatorList</span><span class="p">;</span>
    <span class="kt">bool</span>        <span class="n">operatorListMode</span><span class="p">;</span>
    <span class="kt">char</span>       <span class="o">*</span><span class="n">availablePlmns</span><span class="p">;</span>
    <span class="kt">int16_t</span>     <span class="n">acceptableRsrpNbIot</span><span class="p">;</span>
    <span class="kt">int32_t</span>     <span class="n">plmnSearchTimer</span><span class="p">;</span>
    <span class="kt">bool</span>        <span class="n">attachWoPdnConnection</span><span class="p">;</span>
<span class="p">}</span> <span class="n">iowa_bearer_selection_info_t</span><span class="p">;</span>
</pre></div>
</div>
<p><em>preferredCommBearer</em>
: Preferred communications bearer.</p>
<p><em>acceptableGsm</em>
: Provides guide to the application when performing manual network selection.</p>
<p><em>acceptableUmts</em>
: Provides guide to the application when performing manual network selection.</p>
<p><em>acceptableLte</em>
: Provides guide to the application when performing manual network selection.</p>
<p><em>acceptableEvDo</em>
: Provides guide to the application when performing manual network selection.</p>
<p><em>cellLockList</em>
: List of allowed Global Cell Identities.</p>
<p><em>operatorList</em>
: List of MCC+MNC of operators, in priority order.</p>
<p><em>operatorListMode</em>
: Indicates whether resource operator list represents the allowed operator list (white list), or, the preferred operator list.</p>
<p><em>availablePlmns</em>
: Allows server to see results of network scan.</p>
<p><em>acceptableRsrpNbIot</em>
: Provides guide to the application when performing manual network selection.</p>
<p><em>plmnSearchTimer</em>
: Interval between periodic searches for higher priority PLMNs.</p>
<p><em>attachWoPdnConnection</em>
: 0=attach with PDN connection, 1=attach without PDN connection</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="id286">
<h3>Callbacks<a class="headerlink" href="#id286" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-bearer-selection-update-state-callback-t">
<h4>iowa_bearer_selection_update_state_callback_t<a class="headerlink" href="#iowa-bearer-selection-update-state-callback-t" title="Permalink to this headline"></a></h4>
<p>This callback is called when the Server writes new information on the Bearer selection object.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">iowa_status_t</span> <span class="p">(</span><span class="o">*</span><span class="n">iowa_bearer_selection_update_state_callback_t</span><span class="p">)</span> <span class="p">(</span>
    <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
    <span class="n">iowa_bearer_selection_info_t</span> <span class="o">*</span><span class="n">infoP</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userDataCallback</span><span class="p">,</span>
    <span class="n">iowa_context_t</span> <span class="n">contextP</span>
<span class="p">);</span>
</pre></div>
</div>
<p><em>id</em>
: The instance of the Bearer selection.</p>
<p><em>infoP</em>
: The bearer selection info.</p>
<p><em>userDataCallback</em>
: The user data callback.</p>
<p><em>contextP</em>
: The IOWA context.</p>
<div class="section" id="id287">
<h5>Return Value {-}<a class="headerlink" href="#id287" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR in case of success or an error status.</p>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="id288">
<h3>API<a class="headerlink" href="#id288" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-client-add-bearer-selection-object">
<h4>iowa_client_add_bearer_selection_object<a class="headerlink" href="#iowa-client-add-bearer-selection-object" title="Permalink to this headline"></a></h4>
<div class="section" id="id289">
<h5>Prototype {-}<a class="headerlink" href="#id289" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_bearer_selection_object</span><span class="p">(</span>
    <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
    <span class="kt">uint16_t</span> <span class="n">optFlags</span><span class="p">,</span>
    <span class="n">iowa_bearer_selection_update_state_callback_t</span> <span class="n">updateStateCallback</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userDataCallback</span><span class="p">,</span>
    <span class="n">iowa_sensor_t</span> <span class="o">*</span><span class="n">idP</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id290">
<h5>Description {-}<a class="headerlink" href="#id290" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_bearer_selection_object()</span></code> creates a Bearer selection object.</p>
</div>
<div class="section" id="id291">
<h5>Arguments {-}<a class="headerlink" href="#id291" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>optFlags</em>
: Optional flags to add optional resources.</p>
<p><em>updateStateCallback</em>
: Called to update state of the bearer selection. This is called when the server request a new state.</p>
<p><em>userDataCallback</em>
: Application specific data pass to the callback. Can be nil.</p>
<p><em>idP</em>
: Used to store the ID of the object.</p>
</div>
<div class="section" id="id292">
<h5>Return Value {-}<a class="headerlink" href="#id292" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: either:
: - <em>optFlags</em> is equals to zero.
: - no update state callback provided means <em>updateStateCallback</em> is nil.</p>
<p>IOWA_COAP_409_CONFLICT
: a bearer selection object already exists. To reconfigure the bearer selection object, call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_remove_bearer_selection_object()</span></code>][iowa_client_remove_bearer_selection_object].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id293">
<h5>Header File {-}<a class="headerlink" href="#id293" title="Permalink to this headline"></a></h5>
<p>objects/iowa_bearer_selection.h</p>
</div>
<div class="section" id="id294">
<h5>Notes {-}<a class="headerlink" href="#id294" title="Permalink to this headline"></a></h5>
<p>Please refer to the <a class="reference external" href="http://www.openmobilealliance.org/wp/OMNA/LwM2M/LwM2MRegistry.html">OMA LightweightM2M (LwM2M) Object and Resource Registry</a> to see how the object is defined: resources, resources type, </p>
<p>Since this object has no mandatory resource, at least one optional resource must be used. To add optional resources, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_BEARER_SELECTION_RSC_PREFERRED_COMM_BEARER</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_ACCEPTABLE_RSSI_GSM</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_ACCEPTABLE_RSCP_UMTS</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_ACCEPTABLE_RSRP_LTE</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_ACCEPTABLE_RSSI_EV_DO</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_CELL_LOCK_LIST</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_OPERATOR_LIST</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_OPERATOR_LIST_MODE</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_AVAILABLE_PLMNS</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_ACCEPTABLE_RSRP_NB_IOT</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_PLMN_SEARCH_TIMER</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_ATTACH_WO_PDN_CONNECTION</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-bearer-selection-object">
<h4>iowa_client_remove_bearer_selection_object<a class="headerlink" href="#iowa-client-remove-bearer-selection-object" title="Permalink to this headline"></a></h4>
<div class="section" id="id295">
<h5>Prototype {-}<a class="headerlink" href="#id295" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_bearer_selection_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                         <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id296">
<h5>Description {-}<a class="headerlink" href="#id296" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_bearer_selection_object()</span></code> removes a Bearer selection object.</p>
</div>
<div class="section" id="id297">
<h5>Arguments {-}<a class="headerlink" href="#id297" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
</div>
<div class="section" id="id298">
<h5>Return Value {-}<a class="headerlink" href="#id298" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a bearer selection object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_bearer_selection_object()</span></code>][iowa_client_add_bearer_selection_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: bearer selection referred by <strong>id</strong> does not exist.</p>
</div>
<div class="section" id="id299">
<h5>Header File {-}<a class="headerlink" href="#id299" title="Permalink to this headline"></a></h5>
<p>objects/iowa_bearer_selection.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-bearer-selection-update">
<h4>iowa_client_bearer_selection_update<a class="headerlink" href="#iowa-client-bearer-selection-update" title="Permalink to this headline"></a></h4>
<div class="section" id="id300">
<h5>Prototype {-}<a class="headerlink" href="#id300" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_bearer_selection_update</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                  <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                  <span class="kt">uint16_t</span> <span class="n">flags</span><span class="p">,</span>
                                                  <span class="n">iowa_bearer_selection_info_t</span> <span class="o">*</span><span class="n">infoP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id301">
<h5>Description {-}<a class="headerlink" href="#id301" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_bearer_selection_update()</span></code> updates the Bearer selection information.</p>
</div>
<div class="section" id="id302">
<h5>Arguments {-}<a class="headerlink" href="#id302" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object.</p>
<p><em>flags</em>
: Optional flags to update resources.</p>
<p><em>info</em>
: The Bearer selection information to update.</p>
</div>
<div class="section" id="id303">
<h5>Return Value {-}<a class="headerlink" href="#id303" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a bearer selection object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_bearer_selection_object()</span></code>][iowa_client_add_bearer_selection_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: bearer selection referred by <strong>id</strong> does not exist.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: either:
: - <em>acceptableGsm</em>s value is outside the [-48, -110] range.
: - <em>acceptableUmts</em>s value is outside the [-25, -120] range.
: - <em>acceptableLte</em>s value is outside the [-44, -140] range.
: - <em>acceptableRsrpNbIot</em>s value is outside the [-44, -158] range.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id304">
<h5>Header File {-}<a class="headerlink" href="#id304" title="Permalink to this headline"></a></h5>
<p>objects/iowa_bearer_selection.h</p>
</div>
<div class="section" id="id305">
<h5>Notes {-}<a class="headerlink" href="#id305" title="Permalink to this headline"></a></h5>
<p>To specify resources to update, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_BEARER_SELECTION_RSC_PREFERRED_COMM_BEARER</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_ACCEPTABLE_RSSI_GSM</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_ACCEPTABLE_RSCP_UMTS</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_ACCEPTABLE_RSRP_LTE</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_ACCEPTABLE_RSSI_EV_DO</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_CELL_LOCK_LIST</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_OPERATOR_LIST</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_OPERATOR_LIST_MODE</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_AVAILABLE_PLMNS</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_ACCEPTABLE_RSRP_NB_IOT</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_PLMN_SEARCH_TIMER</p></li>
<li><p>IOWA_BEARER_SELECTION_RSC_ATTACH_WO_PDN_CONNECTION</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
</div>
</div>
<div class="section" id="cellular-connectivity-object-api">
<h2>Cellular Connectivity Object API<a class="headerlink" href="#cellular-connectivity-object-api" title="Permalink to this headline"></a></h2>
<p>This LwM2M object specifies resources to enable a device to connect to a 3GPP or 3GPP2 bearer, including GPRS/EDGE, UMTS, LTE, NB-IoT, SMS.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_cellular_connectivity.h</span></code> must be included.</p>
<div class="section" id="id306">
<h3>Data Structures and Constants<a class="headerlink" href="#id306" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-cellular-connectivity-info-t">
<h4>iowa_cellular_connectivity_info_t<a class="headerlink" href="#iowa-cellular-connectivity-info-t" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="n">iowa_lwm2m_object_link_t</span> <span class="o">*</span><span class="n">activatedProfileNamesList</span><span class="p">;</span>
    <span class="kt">uint16_t</span>                  <span class="n">activatedProfileNamesNumber</span><span class="p">;</span>
    <span class="kt">char</span>                     <span class="o">*</span><span class="n">smsc</span><span class="p">;</span>
    <span class="kt">int32_t</span>                   <span class="n">disableRadioPeriod</span><span class="p">;</span>
    <span class="kt">char</span>                     <span class="o">*</span><span class="n">moduleActivationCode</span><span class="p">;</span>
    <span class="kt">int32_t</span>                   <span class="n">psmTimer</span><span class="p">;</span>
    <span class="kt">int32_t</span>                   <span class="n">activeTimer</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                  <span class="n">servingPlmnRateControl</span><span class="p">;</span>
    <span class="kt">char</span>                     <span class="o">*</span><span class="n">edrxParamIuMode</span><span class="p">;</span>
    <span class="kt">char</span>                     <span class="o">*</span><span class="n">edrxParamWbS1Mode</span><span class="p">;</span>
    <span class="kt">char</span>                     <span class="o">*</span><span class="n">edrxParamNbS1Mode</span><span class="p">;</span>
    <span class="kt">char</span>                     <span class="o">*</span><span class="n">edrxParamAGbmMode</span><span class="p">;</span>
<span class="p">}</span> <span class="n">iowa_cellular_connectivity_info_t</span><span class="p">;</span>
</pre></div>
</div>
<p><em>activatedProfileNamesList</em>
: list of links to instances of the APN connection profile object representing every APN connection profile that has an activated connection to a PDN.</p>
<p><em>activatedProfileNamesNumber</em>
: number of links to instances of the APN connection profile object representing every APN connection profile that has an activated connection to a PDN.</p>
<p><em>smsc</em>
: address of the sms center.</p>
<p><em>disableRadioPeriod</em>
: time period for which the device shall disconnect from cellular radio.</p>
<p><em>moduleActivationCode</em>
: configurable in case the application needs to issue a code.</p>
<p><em>psmTimer</em>
: Power Saving Mode timer.</p>
<p><em>activeTimer</em>
: active timer.</p>
<p><em>servingPlmnRateControl</em>
: maximum number of allowed uplink PDU transmissions.</p>
<p><em>edrxParamIuMode</em>
: Extended DRX parameters for lu mode.</p>
<p><em>edrxParamWbS1Mode</em>
: Extended DRX parameters for WB-S1 mode.</p>
<p><em>edrxParamNbS1Mode</em>
: Extended DRX parameters for NB-S1 mode.</p>
<p><em>edrxParamAGbmMode</em>
: Extended DRX parameters for A/Gb mode.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="id307">
<h3>Callbacks<a class="headerlink" href="#id307" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-cellular-connectivity-update-state-callback-t">
<h4>iowa_cellular_connectivity_update_state_callback_t<a class="headerlink" href="#iowa-cellular-connectivity-update-state-callback-t" title="Permalink to this headline"></a></h4>
<p>This callback is called when the Server writes new information on the Cellular connectivity object.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">iowa_status_t</span> <span class="p">(</span><span class="o">*</span><span class="n">iowa_cellular_connectivity_update_state_callback_t</span><span class="p">)(</span>
    <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
    <span class="n">iowa_cellular_connectivity_info_t</span> <span class="o">*</span><span class="n">infoP</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userDataCallback</span><span class="p">,</span>
    <span class="n">iowa_context_t</span> <span class="n">contextP</span>
<span class="p">);</span>
</pre></div>
</div>
<p><em>id</em>
: The instance of the Cellular connectivity.</p>
<p><em>infoP</em>
: The Cellular connectivity info.</p>
<p><em>userDataCallback</em>
: The user data callback.</p>
<p><em>contextP</em>
: The IOWA context.</p>
<div class="section" id="id308">
<h5>Return Value {-}<a class="headerlink" href="#id308" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR in case of success or an error status.</p>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="id309">
<h3>API<a class="headerlink" href="#id309" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-client-add-cellular-connectivity-object">
<h4>iowa_client_add_cellular_connectivity_object<a class="headerlink" href="#iowa-client-add-cellular-connectivity-object" title="Permalink to this headline"></a></h4>
<div class="section" id="id310">
<h5>Prototype {-}<a class="headerlink" href="#id310" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_cellular_connectivity_object</span><span class="p">(</span>
    <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
    <span class="kt">uint16_t</span> <span class="n">optFlags</span><span class="p">,</span>
    <span class="n">iowa_cellular_connectivity_update_state_callback_t</span> <span class="n">updateStateCallback</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userDataCallback</span><span class="p">,</span>
    <span class="n">iowa_sensor_t</span> <span class="o">*</span><span class="n">idP</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id311">
<h5>Description {-}<a class="headerlink" href="#id311" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_cellular_connectivity_object()</span></code> creates a Cellular connectivity object.</p>
</div>
<div class="section" id="id312">
<h5>Arguments {-}<a class="headerlink" href="#id312" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>optFlags</em>
: Optional flags to add optional resources.</p>
<p><em>updateStateCallback</em>
: Called to update state of the cellular connectivity. This is called when the server request a new state.</p>
<p><em>userDataCallback</em>
: Application specific data pass to the callback. Can be nil.</p>
<p><em>idP</em>
: Used to store the ID of the object.</p>
</div>
<div class="section" id="id313">
<h5>Return Value {-}<a class="headerlink" href="#id313" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: no update state callback provided means <em>updateStateCallback</em> is nil.</p>
<p>IOWA_COAP_409_CONFLICT
: a cellular connectivity object already exists. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_remove_cellular_connectivity_object()</span></code>][iowa_client_remove_cellular_connectivity_object].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id314">
<h5>Header File {-}<a class="headerlink" href="#id314" title="Permalink to this headline"></a></h5>
<p>objects/iowa_cellular_connectivity.h</p>
</div>
<div class="section" id="id315">
<h5>Notes {-}<a class="headerlink" href="#id315" title="Permalink to this headline"></a></h5>
<p>Please refer to the <a class="reference external" href="http://www.openmobilealliance.org/wp/OMNA/LwM2M/LwM2MRegistry.html">OMA LightweightM2M (LwM2M) Object and Resource Registry</a> to see how the object is defined: resources, resources type, </p>
<p>When no optional flags are provided only mandatory resources of the object are implemented.</p>
<p>To add optional resources, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_SMSC_ADDRESS</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_DISABLE_RADIO_PERIOD</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_MODULE_ACTIVATION_CODE</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_PSM_TIMER</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_ACTIVE_TIMER</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_PLMN_RATE_CONTROL</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_EDRX_PARAM_IU_MODE</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_EDRX_PARAM_WB_S1_MODE</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_EDRX_PARAM_NB_S1_MODE</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_EDRX_PARAM_A_GB_MODE</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-cellular-connectivity-object">
<h4>iowa_client_remove_cellular_connectivity_object<a class="headerlink" href="#iowa-client-remove-cellular-connectivity-object" title="Permalink to this headline"></a></h4>
<div class="section" id="id316">
<h5>Prototype {-}<a class="headerlink" href="#id316" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_cellular_connectivity_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                              <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id317">
<h5>Description {-}<a class="headerlink" href="#id317" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_cellular_connectivity_object()</span></code> removes a Cellular connectivity object.</p>
</div>
<div class="section" id="id318">
<h5>Arguments {-}<a class="headerlink" href="#id318" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
</div>
<div class="section" id="id319">
<h5>Return Value {-}<a class="headerlink" href="#id319" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a cellular connectivity object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_cellular_connectivity_object()</span></code>][iowa_client_add_cellular_connectivity_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: cellular connectivity referred by <strong>id</strong> does not exist.</p>
</div>
<div class="section" id="id320">
<h5>Header File {-}<a class="headerlink" href="#id320" title="Permalink to this headline"></a></h5>
<p>objects/iowa_cellular_connectivity.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-cellular-connectivity-update">
<h4>iowa_client_cellular_connectivity_update<a class="headerlink" href="#iowa-client-cellular-connectivity-update" title="Permalink to this headline"></a></h4>
<div class="section" id="id321">
<h5>Prototype {-}<a class="headerlink" href="#id321" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_cellular_connectivity_update</span><span class="p">(</span>
    <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
    <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
    <span class="kt">uint16_t</span> <span class="n">flags</span><span class="p">,</span>
    <span class="n">iowa_cellular_connectivity_info_t</span> <span class="o">*</span><span class="n">infoP</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id322">
<h5>Description {-}<a class="headerlink" href="#id322" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_cellular_connectivity_update()</span></code> updates the Cellular connectivity information.</p>
</div>
<div class="section" id="id323">
<h5>Arguments {-}<a class="headerlink" href="#id323" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object.</p>
<p><em>flags</em>
: Optional flags to update resources.</p>
<p><em>infoP</em>
: The Cellular connectivity information to update.</p>
</div>
<div class="section" id="id324">
<h5>Return Value {-}<a class="headerlink" href="#id324" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a cellular connectivity object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_cellular_connectivity_object()</span></code>][iowa_client_add_cellular_connectivity_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: cellular connectivity referred by <strong>id</strong> does not exist.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id325">
<h5>Header File {-}<a class="headerlink" href="#id325" title="Permalink to this headline"></a></h5>
<p>objects/iowa_cellular_connectivity.h</p>
</div>
<div class="section" id="id326">
<h5>Notes {-}<a class="headerlink" href="#id326" title="Permalink to this headline"></a></h5>
<p>To specify resources to update, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_SMSC_ADDRESS</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_DISABLE_RADIO_PERIOD</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_MODULE_ACTIVATION_CODE</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_PSM_TIMER</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_ACTIVE_TIMER</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_PLMN_RATE_CONTROL</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_EDRX_PARAM_IU_MODE</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_EDRX_PARAM_WB_S1_MODE</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_EDRX_PARAM_NB_S1_MODE</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_EDRX_PARAM_A_GB_MODE</p></li>
<li><p>IOWA_CELLULAR_CONNECTIVITY_RSC_ACTIVATED_PROFILE_NAMES</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
</div>
</div>
<div class="section" id="connectivity-monitoring-object-api">
<h2>Connectivity Monitoring Object API<a class="headerlink" href="#connectivity-monitoring-object-api" title="Permalink to this headline"></a></h2>
<p>This LwM2M Object enables monitoring of parameters related to network connectivity.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_connectivity_monitoring.h</span></code> must be included.</p>
<div class="section" id="id327">
<h3>Data Structures and Constants<a class="headerlink" href="#id327" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-connectivity-monitoring-info-t">
<h4>iowa_connectivity_monitoring_info_t<a class="headerlink" href="#iowa-connectivity-monitoring-info-t" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="kt">uint8_t</span>     <span class="n">networkBearer</span><span class="p">;</span>
    <span class="kt">uint8_t</span>    <span class="o">*</span><span class="n">availableNetworkBearerList</span><span class="p">;</span>
    <span class="kt">uint8_t</span>     <span class="n">availableNetworkBearerNumber</span><span class="p">;</span>
    <span class="kt">int16_t</span>     <span class="n">radioSignalStrength</span><span class="p">;</span>
    <span class="kt">int16_t</span>     <span class="n">linkQuality</span><span class="p">;</span>
    <span class="kt">char</span>      <span class="o">**</span><span class="n">ipAddressList</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">ipAddressNumber</span><span class="p">;</span>
    <span class="kt">char</span>      <span class="o">**</span><span class="n">routerIpAddressesList</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">routerIpAddressesNumber</span><span class="p">;</span>
    <span class="kt">uint8_t</span>     <span class="n">linkUtilization</span><span class="p">;</span>
    <span class="kt">char</span>      <span class="o">**</span><span class="n">apnList</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">apnNumber</span><span class="p">;</span>
    <span class="kt">uint64_t</span>    <span class="n">cellId</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">smnc</span><span class="p">;</span>
    <span class="kt">uint16_t</span>    <span class="n">smcc</span><span class="p">;</span>
<span class="p">}</span> <span class="n">iowa_connectivity_monitoring_info_t</span><span class="p">;</span>
</pre></div>
</div>
<p><em>networkBearer</em>
: Network bearer used for the current session.</p>
<p><em>availableNetworkBearerList</em>
: List of current available network bearers.</p>
<p><em>availableNetworkBearerNumber</em>
: Number of current available network bearers.</p>
<p><em>radioSignalStrength</em>
: Average value of the received signal strength indication.</p>
<p><em>linkQuality</em>
: Received link quality.</p>
<p><em>ipAddressList</em>
: List of IP addresses assigned to the connectivity interface.</p>
<p><em>ipAddressNumber</em>
: Number of IP addresses assigned to the connectivity interface.</p>
<p><em>routerIpAddressesList</em>
: List of IP addresses of the next-hop IP router.</p>
<p><em>routerIpAddressesNumber</em>
: Number of IP addresses of the next-hop IP router.</p>
<p><em>linkUtilization</em>
: The percentage indicating the average utilization of the link to the next-hop IP router.</p>
<p><em>apnList</em>
: List of Access Point Names.</p>
<p><em>apnNumber</em>
: Number of Access Point Names.</p>
<p><em>cellId</em>
: Serving Cell ID.</p>
<p><em>smnc</em>
: Serving Mobile Network Code.</p>
<p><em>smcc</em>
: Serving Mobile Country Code.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="id328">
<h3>API<a class="headerlink" href="#id328" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-client-add-connectivity-monitoring-object">
<h4>iowa_client_add_connectivity_monitoring_object<a class="headerlink" href="#iowa-client-add-connectivity-monitoring-object" title="Permalink to this headline"></a></h4>
<div class="section" id="id329">
<h5>Prototype {-}<a class="headerlink" href="#id329" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_connectivity_monitoring_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                             <span class="kt">uint16_t</span> <span class="n">optFlags</span><span class="p">,</span>
                                                             <span class="n">iowa_sensor_t</span> <span class="o">*</span><span class="n">idP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id330">
<h5>Description {-}<a class="headerlink" href="#id330" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_connectivity_monitoring_object()</span></code> creates a Connectivity monitoring object.</p>
</div>
<div class="section" id="id331">
<h5>Arguments {-}<a class="headerlink" href="#id331" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>optFlags</em>
: Optional flags to add optional resources.</p>
<p><em>idP</em>
: Used to store the ID of the object.</p>
</div>
<div class="section" id="id332">
<h5>Return Value {-}<a class="headerlink" href="#id332" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_409_CONFLICT
: a connectivity monitoring object already exists. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_remove_connectivity_monitoring_object()</span></code>][iowa_client_remove_connectivity_monitoring_object].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id333">
<h5>Header File {-}<a class="headerlink" href="#id333" title="Permalink to this headline"></a></h5>
<p>objects/iowa_connectivity_monitoring.h</p>
</div>
<div class="section" id="id334">
<h5>Notes {-}<a class="headerlink" href="#id334" title="Permalink to this headline"></a></h5>
<p>Please refer to the <a class="reference external" href="http://www.openmobilealliance.org/wp/OMNA/LwM2M/LwM2MRegistry.html">OMA LightweightM2M (LwM2M) Object and Resource Registry</a> to see how the object is defined: resources, resources type, </p>
<p>When no optional flags are provided only mandatory resources of the object are implemented.</p>
<p>To add optional resources, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_LINK_QUALITY</p></li>
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_ROUTER_IP_ADDR</p></li>
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_LINK_USAGE</p></li>
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_APN</p></li>
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_CELL_ID</p></li>
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_SMNC</p></li>
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_SMCC</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-connectivity-monitoring-object">
<h4>iowa_client_remove_connectivity_monitoring_object<a class="headerlink" href="#iowa-client-remove-connectivity-monitoring-object" title="Permalink to this headline"></a></h4>
<div class="section" id="id335">
<h5>Prototype {-}<a class="headerlink" href="#id335" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_connectivity_monitoring_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                                <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id336">
<h5>Description {-}<a class="headerlink" href="#id336" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_connectivity_monitoring_object()</span></code> removes a Connectivity monitoring object.</p>
</div>
<div class="section" id="id337">
<h5>Arguments {-}<a class="headerlink" href="#id337" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
</div>
<div class="section" id="id338">
<h5>Return Value {-}<a class="headerlink" href="#id338" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a connectivity monitoring object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_connectivity_monitoring_object()</span></code>][iowa_client_add_connectivity_monitoring_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: connectivity monitoring referred by <strong>id</strong> does not exist.</p>
</div>
<div class="section" id="id339">
<h5>Header File {-}<a class="headerlink" href="#id339" title="Permalink to this headline"></a></h5>
<p>objects/iowa_connectivity_monitoring.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-connectivity-monitoring-update">
<h4>iowa_client_connectivity_monitoring_update<a class="headerlink" href="#iowa-client-connectivity-monitoring-update" title="Permalink to this headline"></a></h4>
<div class="section" id="id340">
<h5>Prototype {-}<a class="headerlink" href="#id340" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_connectivity_monitoring_update</span><span class="p">(</span>
    <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
    <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
    <span class="kt">uint16_t</span> <span class="n">flags</span><span class="p">,</span>
    <span class="n">iowa_connectivity_monitoring_info_t</span> <span class="o">*</span><span class="n">infoP</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id341">
<h5>Description {-}<a class="headerlink" href="#id341" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_connectivity_monitoring_update()</span></code> updates the Connectivity monitoring information.</p>
</div>
<div class="section" id="id342">
<h5>Arguments {-}<a class="headerlink" href="#id342" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object.</p>
<p><em>flags</em>
: Optional flags to update resources.</p>
<p><em>infoP</em>
: The Connectivity monitoring information to update.</p>
</div>
<div class="section" id="id343">
<h5>Return Value {-}<a class="headerlink" href="#id343" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a connectivity monitoring object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_connectivity_monitoring_object()</span></code>][iowa_client_add_connectivity_monitoring_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: connectivity monitoring referred by <strong>id</strong> does not exist.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: either:
: - <em>networkBearer</em>s value is outside the [0, 50] range.
: - <em>availableNetworkBearerList</em>s value is outside the [0, 50] range.
: - <em>linkUtilization</em>s value is outside the [0, 100] range.
: - <em>smnc</em>s value is outside the [0, 999] range.
: - <em>smcc</em>s value is outside the [0, 999] range.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id344">
<h5>Header File {-}<a class="headerlink" href="#id344" title="Permalink to this headline"></a></h5>
<p>objects/iowa_connectivity_monitoring.h</p>
</div>
<div class="section" id="id345">
<h5>Notes {-}<a class="headerlink" href="#id345" title="Permalink to this headline"></a></h5>
<p>To specify resources to update, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_BEARER</p></li>
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_AVAILABLE_BEARER</p></li>
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_SIGNAL_STRENGTH</p></li>
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_LINK_QUALITY</p></li>
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_IP_ADDR</p></li>
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_ROUTER_IP_ADDR</p></li>
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_LINK_USAGE</p></li>
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_APN</p></li>
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_CELL_ID</p></li>
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_SMNC</p></li>
<li><p>IOWA_CONNECTIVITY_MONITORING_RSC_SMCC</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
</div>
</div>
<div class="section" id="connectivity-statistics-object-api">
<h2>Connectivity Statistics Object API<a class="headerlink" href="#connectivity-statistics-object-api" title="Permalink to this headline"></a></h2>
<p>This LwM2M Object enables client to collect statistical information and enables the LwM2M Server to retrieve these information, set the collection duration and reset the statistical parameters.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_connectivity_stats.h</span></code> must be included.</p>
<div class="section" id="iowa-client-add-connectivity-stats-object">
<h3>iowa_client_add_connectivity_stats_object<a class="headerlink" href="#iowa-client-add-connectivity-stats-object" title="Permalink to this headline"></a></h3>
<div class="section" id="id346">
<h4>Prototype {-}<a class="headerlink" href="#id346" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_connectivity_stats_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                        <span class="kt">uint16_t</span> <span class="n">optFlags</span><span class="p">,</span>
                                                        <span class="n">iowa_sensor_t</span> <span class="o">*</span><span class="n">idP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id347">
<h4>Description {-}<a class="headerlink" href="#id347" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_connectivity_stats_object()</span></code> creates a connectivity statistics object.</p>
</div>
<div class="section" id="id348">
<h4>Arguments {-}<a class="headerlink" href="#id348" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>optFlags</em>
: Optional flags to add optional resources.</p>
<p><em>idP</em>
: Used to store the ID of the object</p>
</div>
<div class="section" id="id349">
<h4>Return Value {-}<a class="headerlink" href="#id349" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_409_CONFLICT
: a connectivity statistics object already exists. To reconfigure the connectivity statistics object, call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_remove_connectivity_stats_object()</span></code>][iowa_client_remove_connectivity_stats_object].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id350">
<h4>Header File {-}<a class="headerlink" href="#id350" title="Permalink to this headline"></a></h4>
<p>objects/iowa_connectivity_stats.h</p>
</div>
<div class="section" id="id351">
<h4>Notes {-}<a class="headerlink" href="#id351" title="Permalink to this headline"></a></h4>
<p>Please refer to the <a class="reference external" href="http://www.openmobilealliance.org/wp/OMNA/LwM2M/LwM2MRegistry.html">OMA LightweightM2M (LwM2M) Object and Resource Registry</a> to see how the object is defined: resources, resources type, </p>
<p>When no optional flags are provided only mandatory resources of the object are implemented.</p>
<p>To add optional resources, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_CONNECTIVITY_STATS_RSC_SMS_TX_COUNTER</p></li>
<li><p>IOWA_CONNECTIVITY_STATS_RSC_SMS_RX_COUNTER</p></li>
<li><p>IOWA_CONNECTIVITY_STATS_RSC_TX_DATA</p></li>
<li><p>IOWA_CONNECTIVITY_STATS_RSC_RX_DATA</p></li>
<li><p>IOWA_CONNECTIVITY_STATS_RSC_MAX_MESSAGE_SIZE</p></li>
<li><p>IOWA_CONNECTIVITY_STATS_RSC_AVERAGE_MESSAGE_SIZE</p></li>
<li><p>IOWA_CONNECTIVITY_STATS_RSC_COLLECTION_PERIOD</p></li>
</ul>
<p>Moreover, you can add several optional resources at one time by using the following flags:</p>
<ul class="simple">
<li><p>IOWA_CONNECTIVITY_STATS_SMS</p></li>
<li><p>IOWA_CONNECTIVITY_STATS_IP_DATA</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-connectivity-stats-object">
<h3>iowa_client_remove_connectivity_stats_object<a class="headerlink" href="#iowa-client-remove-connectivity-stats-object" title="Permalink to this headline"></a></h3>
<div class="section" id="id352">
<h4>Prototype {-}<a class="headerlink" href="#id352" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_connectivity_stats_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                           <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id353">
<h4>Description {-}<a class="headerlink" href="#id353" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_connectivity_stats_object()</span></code> removes a connectivity statistics object.</p>
</div>
<div class="section" id="id354">
<h4>Arguments {-}<a class="headerlink" href="#id354" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
</div>
<div class="section" id="id355">
<h4>Return Value {-}<a class="headerlink" href="#id355" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a connectivity statistics object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_connectivity_stats_object()</span></code>][iowa_client_add_connectivity_stats_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: no connectivity statistics object to remove. [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_connectivity_stats_object()</span></code>][iowa_client_add_connectivity_stats_object] was not called before, or failed.</p>
</div>
<div class="section" id="id356">
<h4>Header File {-}<a class="headerlink" href="#id356" title="Permalink to this headline"></a></h4>
<p>objects/iowa_connectivity_stats.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-connectivity-stats-update-sms">
<h3>iowa_client_connectivity_stats_update_sms<a class="headerlink" href="#iowa-client-connectivity-stats-update-sms" title="Permalink to this headline"></a></h3>
<div class="section" id="id357">
<h4>Prototype {-}<a class="headerlink" href="#id357" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_connectivity_stats_update_sms</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                        <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                        <span class="kt">uint8_t</span> <span class="n">direction</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id358">
<h4>Description {-}<a class="headerlink" href="#id358" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_connectivity_stats_update_sms()</span></code> updates the SMS TX or RX statistics.</p>
</div>
<div class="section" id="id359">
<h4>Arguments {-}<a class="headerlink" href="#id359" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
<p><em>direction</em>
: Specify if this is a reception or a transmission trigger.</p>
</div>
<div class="section" id="id360">
<h4>Return Value {-}<a class="headerlink" href="#id360" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: Bad value for argument <em>direction</em> or <em>id</em> is not a connectivity statistics object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_connectivity_stats_object()</span></code>][iowa_client_add_connectivity_stats_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: no connectivity statistics object added.</p>
</div>
<div class="section" id="id361">
<h4>Header File {-}<a class="headerlink" href="#id361" title="Permalink to this headline"></a></h4>
<p>objects/iowa_connectivity_stats.h</p>
</div>
<div class="section" id="id362">
<h4>Notes {-}<a class="headerlink" href="#id362" title="Permalink to this headline"></a></h4>
<p>Argument <em>direction</em> of <code class="docutils literal notranslate"><span class="pre">iowa_client_connectivity_stats_update_sms()</span></code> can be one of the following values:</p>
<ul class="simple">
<li><p>IOWA_CONNECTIVITY_STATS_TX (0)</p></li>
<li><p>IOWA_CONNECTIVITY_STATS_RX (1)</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-connectivity-stats-update-ip-data">
<h3>iowa_client_connectivity_stats_update_ip_data<a class="headerlink" href="#iowa-client-connectivity-stats-update-ip-data" title="Permalink to this headline"></a></h3>
<div class="section" id="id363">
<h4>Prototype {-}<a class="headerlink" href="#id363" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_connectivity_stats_update_ip_data</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                            <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                            <span class="kt">uint8_t</span> <span class="n">direction</span><span class="p">,</span>
                                                            <span class="kt">size_t</span> <span class="n">length</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id364">
<h4>Description {-}<a class="headerlink" href="#id364" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_connectivity_stats_update_ip_data()</span></code> updates the IP data statistics.</p>
</div>
<div class="section" id="id365">
<h4>Arguments {-}<a class="headerlink" href="#id365" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object.</p>
<p><em>direction</em>
: Specify if this is a reception or a transmission trigger.</p>
<p><em>length</em>
: Length in bytes of the transmitted or received data.</p>
</div>
<div class="section" id="id366">
<h4>Return Value {-}<a class="headerlink" href="#id366" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: Bad value for argument <em>direction</em> or <em>id</em> is not a connectivity statistics object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_connectivity_stats_object()</span></code>][iowa_client_add_connectivity_stats_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: no connectivity statistics object added.</p>
</div>
<div class="section" id="id367">
<h4>Header File {-}<a class="headerlink" href="#id367" title="Permalink to this headline"></a></h4>
<p>objects/iowa_connectivity_stats.h</p>
</div>
<div class="section" id="id368">
<h4>Notes {-}<a class="headerlink" href="#id368" title="Permalink to this headline"></a></h4>
<p>Argument <em>direction</em> of <code class="docutils literal notranslate"><span class="pre">iowa_client_connectivity_stats_update_ip_data()</span></code> can be one of the following values:</p>
<ul class="simple">
<li><p>IOWA_CONNECTIVITY_STATS_TX (0)</p></li>
<li><p>IOWA_CONNECTIVITY_STATS_RX (1)</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="digital-output-object-api">
<h2>Digital Output Object API<a class="headerlink" href="#digital-output-object-api" title="Permalink to this headline"></a></h2>
<p>This IPSO object represents generic digital output for non-specific actuators.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_digital_output.h</span></code> must be included.</p>
<div class="section" id="id369">
<h3>Callbacks<a class="headerlink" href="#id369" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-digital-output-state-callback-t">
<h4>iowa_digital_output_state_callback_t<a class="headerlink" href="#iowa-digital-output-state-callback-t" title="Permalink to this headline"></a></h4>
<p>This callback is used to update the state of the digital output. Request from a server to a client.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">iowa_status_t</span> <span class="p">(</span><span class="o">*</span><span class="n">iowa_digital_output_state_callback_t</span><span class="p">)(</span><span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                              <span class="kt">bool</span> <span class="n">state</span><span class="p">,</span>
                                                              <span class="kt">bool</span> <span class="n">polarity</span><span class="p">,</span>
                                                              <span class="kt">void</span> <span class="o">*</span><span class="n">userDataCallback</span><span class="p">,</span>
                                                              <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>id</em>
: ID of the object</p>
<p><em>state</em>
: New state</p>
<p><em>polarity</em>
: New polarity</p>
<p><em>userDataCallback</em>
: Application specific data from [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_digital_output_object</span></code>][iowa_client_add_digital_output_object]. Can be nil.</p>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<div class="section" id="id370">
<h5>Return Value {-}<a class="headerlink" href="#id370" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR in case of success or an error status.</p>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="id371">
<h3>API<a class="headerlink" href="#id371" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-client-add-digital-output-object">
<h4>iowa_client_add_digital_output_object<a class="headerlink" href="#iowa-client-add-digital-output-object" title="Permalink to this headline"></a></h4>
<div class="section" id="id372">
<h5>Prototype {-}<a class="headerlink" href="#id372" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_digital_output_object</span><span class="p">(</span>
    <span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
    <span class="kt">uint16_t</span> <span class="n">optFlags</span><span class="p">,</span>
    <span class="n">iowa_digital_output_state_callback_t</span> <span class="n">updateStateCallback</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userDataCallback</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">applicationType</span><span class="p">,</span>
    <span class="n">iowa_sensor_t</span> <span class="o">*</span><span class="n">idP</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id373">
<h5>Description {-}<a class="headerlink" href="#id373" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_digital_output_object()</span></code> creates a digital output object.</p>
</div>
<div class="section" id="id374">
<h5>Arguments {-}<a class="headerlink" href="#id374" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>optFlags</em>
: Optional flags to add optional resources.</p>
<p><em>updateStateCallback</em>
: Called to update state of the digital output. This is called when the server request a new state.</p>
<p><em>userDataCallback</em>
: Application specific data pass to the callback. Can be nil.</p>
<p><em>applicationType</em>
: The application type</p>
<p><em>idP</em>
: Used to store the ID of the object</p>
</div>
<div class="section" id="id375">
<h5>Return Value {-}<a class="headerlink" href="#id375" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: no update state callback provided means <em>updateStateCallback</em> is nil.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id376">
<h5>Header File {-}<a class="headerlink" href="#id376" title="Permalink to this headline"></a></h5>
<p>objects/iowa_digital_output.h</p>
</div>
<div class="section" id="id377">
<h5>Notes {-}<a class="headerlink" href="#id377" title="Permalink to this headline"></a></h5>
<p>Please refer to the <a class="reference external" href="http://www.openmobilealliance.org/wp/OMNA/LwM2M/LwM2MRegistry.html">OMA LightweightM2M (LwM2M) Object and Resource Registry</a> to see how the object is defined: resources, resources type, </p>
<p>When no optional flags are provided only mandatory resources of the object are implemented.</p>
<p>To add optional resources, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_DIGITAL_OUTPUT_STATS_RSC_POLARITY</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-digital-output-object">
<h4>iowa_client_remove_digital_output_object<a class="headerlink" href="#iowa-client-remove-digital-output-object" title="Permalink to this headline"></a></h4>
<div class="section" id="id378">
<h5>Prototype {-}<a class="headerlink" href="#id378" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_digital_output_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                       <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id379">
<h5>Description {-}<a class="headerlink" href="#id379" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_digital_output_object()</span></code> removes a digital output object.</p>
</div>
<div class="section" id="id380">
<h5>Arguments {-}<a class="headerlink" href="#id380" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
</div>
<div class="section" id="id381">
<h5>Return Value {-}<a class="headerlink" href="#id381" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a digital output object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_digital_output_object()</span></code>][iowa_client_add_digital_output_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: digital output referred by <strong>id</strong> does not exist.</p>
</div>
<div class="section" id="id382">
<h5>Header File {-}<a class="headerlink" href="#id382" title="Permalink to this headline"></a></h5>
<p>objects/iowa_digital_output.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-digital-output-update-state">
<h4>iowa_client_digital_output_update_state<a class="headerlink" href="#iowa-client-digital-output-update-state" title="Permalink to this headline"></a></h4>
<div class="section" id="id383">
<h5>Prototype {-}<a class="headerlink" href="#id383" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_digital_output_update_state</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                      <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                      <span class="kt">bool</span> <span class="n">state</span><span class="p">,</span>
                                                      <span class="kt">bool</span> <span class="n">polarity</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id384">
<h5>Description {-}<a class="headerlink" href="#id384" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_digital_output_update_state()</span></code> updates values of a digital output object.</p>
</div>
<div class="section" id="id385">
<h5>Arguments {-}<a class="headerlink" href="#id385" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
<p><em>state</em>
: New state</p>
<p><em>polarity</em>
: New polarity</p>
</div>
<div class="section" id="id386">
<h5>Return Value {-}<a class="headerlink" href="#id386" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a digital output object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_digital_output_object()</span></code>][iowa_client_add_digital_output_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: digital output referred by <strong>id</strong> does not exist.</p>
</div>
<div class="section" id="id387">
<h5>Header File {-}<a class="headerlink" href="#id387" title="Permalink to this headline"></a></h5>
<p>objects/iowa_digital_output.h</p>
<p>\clearpage</p>
</div>
</div>
</div>
</div>
<div class="section" id="dimmer-object-api">
<h2>Dimmer Object API<a class="headerlink" href="#dimmer-object-api" title="Permalink to this headline"></a></h2>
<p>This IPSO object represents a dimmer.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_dimmer.h</span></code> must be included.</p>
<div class="section" id="id388">
<h3>Callbacks<a class="headerlink" href="#id388" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-dimmer-state-callback-t">
<h4>iowa_dimmer_state_callback_t<a class="headerlink" href="#iowa-dimmer-state-callback-t" title="Permalink to this headline"></a></h4>
<p>This callback is used to update the state of the dimmer. Request from a server to a client.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">iowa_status_t</span> <span class="p">(</span><span class="o">*</span><span class="n">iowa_dimmer_state_callback_t</span><span class="p">)(</span><span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                      <span class="kt">float</span> <span class="n">level</span><span class="p">,</span>
                                                      <span class="kt">void</span> <span class="o">*</span><span class="n">userDataCallback</span><span class="p">,</span>
                                                      <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>id</em>
: ID of the object</p>
<p><em>level</em>
: New level.</p>
<p><em>userDataCallback</em>
: Application specific data from [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_dimmer_object</span></code>][iowa_client_add_dimmer_object]. Can be nil.</p>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<div class="section" id="id389">
<h5>Return Value {-}<a class="headerlink" href="#id389" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR in case of success or an error status.</p>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="id390">
<h3>API<a class="headerlink" href="#id390" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-client-add-dimmer-object">
<h4>iowa_client_add_dimmer_object<a class="headerlink" href="#iowa-client-add-dimmer-object" title="Permalink to this headline"></a></h4>
<div class="section" id="id391">
<h5>Prototype {-}<a class="headerlink" href="#id391" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_dimmer_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                            <span class="kt">uint16_t</span> <span class="n">optFlags</span><span class="p">,</span>
                                            <span class="kt">float</span> <span class="n">level</span><span class="p">,</span>
                                            <span class="n">iowa_dimmer_state_callback_t</span> <span class="n">updateStateCallback</span><span class="p">,</span>
                                            <span class="kt">void</span> <span class="o">*</span><span class="n">userDataCallback</span><span class="p">,</span>
                                            <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">applicationType</span><span class="p">,</span>
                                            <span class="n">iowa_sensor_t</span> <span class="o">*</span><span class="n">idP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id392">
<h5>Description {-}<a class="headerlink" href="#id392" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_dimmer_object()</span></code> creates a dimmer object.</p>
</div>
<div class="section" id="id393">
<h5>Arguments {-}<a class="headerlink" href="#id393" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>optFlags</em>
: Optional flags to add optional resources.</p>
<p><em>level</em>
: The initial value measured by the dimmer, must be inside the range [0.0; 100.0].</p>
<p><em>updateStateCallback</em>
: Called to update state of the dimmer. This is called when the server request a new state.</p>
<p><em>userDataCallback</em>
: Application specific data pass to the callback. Can be nil.</p>
<p><em>applicationType</em>
: The application type</p>
<p><em>idP</em>
: Used to store the ID of the object</p>
</div>
<div class="section" id="id394">
<h5>Return Value {-}<a class="headerlink" href="#id394" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: <em>level</em> is outside the range [0.0; 100.0].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation or a call to [<code class="docutils literal notranslate"><span class="pre">iowa_system_gettime()</span></code>][iowa_system_gettime] failed.</p>
</div>
<div class="section" id="id395">
<h5>Header File {-}<a class="headerlink" href="#id395" title="Permalink to this headline"></a></h5>
<p>objects/iowa_dimmer.h</p>
</div>
<div class="section" id="id396">
<h5>Notes {-}<a class="headerlink" href="#id396" title="Permalink to this headline"></a></h5>
<p>Please refer to the <a class="reference external" href="http://www.openmobilealliance.org/wp/OMNA/LwM2M/LwM2MRegistry.html">OMA LightweightM2M (LwM2M) Object and Resource Registry</a> to see how the object is defined: resources, resources type, </p>
<p>When no optional flags are provided only mandatory resources of the object are implemented.</p>
<p>To add optional resources, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_DIMMER_RSC_ON_TIME</p></li>
<li><p>IOWA_DIMMER_RSC_OFF_TIME</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-dimmer-object">
<h4>iowa_client_remove_dimmer_object<a class="headerlink" href="#iowa-client-remove-dimmer-object" title="Permalink to this headline"></a></h4>
<div class="section" id="id397">
<h5>Prototype {-}<a class="headerlink" href="#id397" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_dimmer_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                               <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id398">
<h5>Description {-}<a class="headerlink" href="#id398" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_dimmer_object()</span></code> removes a dimmer object.</p>
</div>
<div class="section" id="id399">
<h5>Arguments {-}<a class="headerlink" href="#id399" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
</div>
<div class="section" id="id400">
<h5>Return Value {-}<a class="headerlink" href="#id400" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a dimmer object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_dimmer_object()</span></code>][iowa_client_add_dimmer_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: dimmer referred by <em>id</em> does not exist.</p>
</div>
<div class="section" id="id401">
<h5>Header File {-}<a class="headerlink" href="#id401" title="Permalink to this headline"></a></h5>
<p>objects/iowa_dimmer.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-dimmer-update-value">
<h4>iowa_client_dimmer_update_value<a class="headerlink" href="#iowa-client-dimmer-update-value" title="Permalink to this headline"></a></h4>
<div class="section" id="id402">
<h5>Prototype {-}<a class="headerlink" href="#id402" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_dimmer_update_value</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                              <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                              <span class="kt">float</span> <span class="n">level</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id403">
<h5>Description {-}<a class="headerlink" href="#id403" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_dimmer_update_value()</span></code> updates dimmers level value.</p>
</div>
<div class="section" id="id404">
<h5>Arguments {-}<a class="headerlink" href="#id404" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
<p><em>level</em>
: New level value, must be inside the range [0.0; 100.0].</p>
</div>
<div class="section" id="id405">
<h5>Return Value {-}<a class="headerlink" href="#id405" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a dimmer object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_dimmer_object()</span></code>][iowa_client_add_dimmer_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: dimmer referred by <em>id</em> does not exist.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: <em>level</em> is outside the range [0.0; 100.0].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a call to [<code class="docutils literal notranslate"><span class="pre">iowa_system_gettime()</span></code>][iowa_system_gettime] failed.</p>
</div>
<div class="section" id="id406">
<h5>Header File {-}<a class="headerlink" href="#id406" title="Permalink to this headline"></a></h5>
<p>objects/iowa_dimmer.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-dimmer-update-values">
<h4>iowa_client_dimmer_update_values<a class="headerlink" href="#iowa-client-dimmer-update-values" title="Permalink to this headline"></a></h4>
<div class="section" id="id407">
<h5>Prototype {-}<a class="headerlink" href="#id407" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_dimmer_update_values</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                               <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                               <span class="kt">size_t</span> <span class="n">valueCount</span><span class="p">,</span>
                                               <span class="n">iowa_ipso_timed_value_t</span> <span class="o">*</span><span class="n">valueArray</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id408">
<h5>Description {-}<a class="headerlink" href="#id408" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_dimmer_update_values()</span></code> updates dimmers level value.</p>
</div>
<div class="section" id="id409">
<h5>Arguments {-}<a class="headerlink" href="#id409" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
<p><em>valueCount</em>
: The number of values in <em>valueArray</em>.</p>
<p><em>valueArray</em>
: The [<code class="docutils literal notranslate"><span class="pre">iowa_ipso_timed_value_t</span></code>][iowa_ipso_timed_value_t] list of new level values.</p>
</div>
<div class="section" id="id410">
<h5>Return Value {-}<a class="headerlink" href="#id410" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a dimmer object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_dimmer_object()</span></code>][iowa_client_add_dimmer_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: dimmer referred by <em>id</em> does not exist.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: at least one <em>valueArray</em> value is outside the range [0.0; 100.0].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation or a call to [<code class="docutils literal notranslate"><span class="pre">iowa_system_gettime()</span></code>][iowa_system_gettime] failed when either:
: - the new level arrays last value is greater than 0 and the previous one is 0.
: - the new level arrays last value is 0 and the previous one is greater than 0.</p>
</div>
<div class="section" id="id411">
<h5>Header File {-}<a class="headerlink" href="#id411" title="Permalink to this headline"></a></h5>
<p>objects/iowa_dimmer.h</p>
<p>\clearpage</p>
</div>
</div>
</div>
</div>
<div class="section" id="firmware-update-object-api">
<h2>Firmware Update Object API<a class="headerlink" href="#firmware-update-object-api" title="Permalink to this headline"></a></h2>
<p>This LwM2M Object enables management of firmware which is to be updated.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_firmware_update.h</span></code> must be included and <strong>IOWA_SUPPORT_FIRMWARE_UPDATE_OBJECT</strong> must be defined before building the library.</p>
<p>The [<code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Update</span></code>][Device Update]/[<code class="docutils literal notranslate"><span class="pre">Firmware</span> <span class="pre">Update</span></code>][Firmware Update] part of this specification adds more explanation about its mechanism and how to use it with IOWA.</p>
<div class="section" id="id412">
<h3>Data Structures and Constants<a class="headerlink" href="#id412" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-fw-status-t">
<h4>iowa_fw_status_t<a class="headerlink" href="#iowa-fw-status-t" title="Permalink to this headline"></a></h4>
<p>This is an enumeration of the following values:</p>
<p>IOWA_FW_STATUS_SUCCESSFUL
: success of the new firmware package download or of the firmware update.</p>
<p>IOWA_FW_STATUS_OUT_OF_STORAGE
: not enough storage for the new firmware package. (<em>downloadCb</em> only)</p>
<p>IOWA_FW_STATUS_OUT_OF_MEMORY
: out of memory error during the download of the new firmware package. (<em>downloadCb</em> only)</p>
<p>IOWA_FW_STATUS_CONNECTION_LOST
: connection lost during the download of the new firmware package. (<em>downloadCb</em> only)</p>
<p>IOWA_FW_STATUS_INTEGRITY_CHECK_FAILURE
: integrity check failure of the new firmware package.</p>
<p>IOWA_FW_STATUS_UNSUPPORTED_TYPE
: unsupported new firmware package type.</p>
<p>IOWA_FW_STATUS_INVALID_URI
: invalid URI to download the new firmware package. (<em>downloadCb</em> only)</p>
<p>IOWA_FW_STATUS_UPDATE_FAILED
: firmware update failed. (<em>updateCb</em> only)</p>
<p>IOWA_FW_STATUS_UNSUPPORTED_PROTOCOL
: unsupported protocol in URI to download the new firmware package. (<em>downloadCb</em> only)</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="id413">
<h3>Callbacks<a class="headerlink" href="#id413" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-fw-download-callback-t">
<h4>iowa_fw_download_callback_t<a class="headerlink" href="#iowa-fw-download-callback-t" title="Permalink to this headline"></a></h4>
<p>This callback is called when the Server requests the device to download a new Firmware Package.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">void</span><span class="p">(</span><span class="o">*</span><span class="n">iowa_fw_download_callback_t</span><span class="p">)</span> <span class="p">(</span><span class="kt">char</span> <span class="o">*</span> <span class="n">uri</span><span class="p">,</span>
                                            <span class="kt">void</span> <span class="o">*</span> <span class="n">userData</span><span class="p">,</span>
                                            <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>uri</em>
: The URI to download the package from.</p>
<p><em>userData</em>
: The parameter to [<code class="docutils literal notranslate"><span class="pre">iowa_client_firmware_update_configure()</span></code>][iowa_client_firmware_update_configure].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_firmware_update_configure()</span></code>][iowa_client_firmware_update_configure] was called.</p>
<p><em>uri</em> can be nil. In this case, a current download must be aborted.</p>
<p>\clearpage</p>
</div>
<div class="section" id="iowa-fw-write-callback-t">
<h4>iowa_fw_write_callback_t<a class="headerlink" href="#iowa-fw-write-callback-t" title="Permalink to this headline"></a></h4>
<p>This callback is called several times when the Server pushes the new Firmware Package to the device. The expected behavior is the same as writing to a file stream i.e. unless it is reset, written data are appended to the previous ones.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">iowa_fw_status_t</span><span class="p">(</span><span class="o">*</span><span class="n">iowa_fw_write_callback_t</span><span class="p">)</span> <span class="p">(</span><span class="n">iowa_fw_write_cmd_t</span> <span class="n">cmd</span><span class="p">,</span>
                                                     <span class="kt">size_t</span> <span class="n">dataLength</span><span class="p">,</span>
                                                     <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span>
                                                     <span class="kt">void</span> <span class="o">*</span><span class="n">userData</span><span class="p">,</span>
                                                     <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p>At the start of the push of the Firmware Package or if the LwM2M Server cancels it, this callback is called with the following parameters:</p>
<p><em>cmd</em>
: <strong>IOWA_FW_PACKAGE_RESET</strong></p>
<p><em>dataLength</em>
: 0</p>
<p><em>data</em>
: NULL</p>
<p><em>userData</em>
: The parameter to [<code class="docutils literal notranslate"><span class="pre">iowa_client_firmware_update_configure()</span></code>][iowa_client_firmware_update_configure].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_firmware_update_configure()</span></code>][iowa_client_firmware_update_configure] was called.</p>
<p>When the Firmware Package is received, this callback is called several times with the following parameters:</p>
<p><em>cmd</em>
: <strong>IOWA_FW_PACKAGE_WRITE</strong></p>
<p><em>dataLength</em>
: The length of the buffer pointed by <em>data</em>.</p>
<p><em>data</em>
: The next chunk of the Firmware Package to write.</p>
<p><em>userData</em>
: The parameter to [<code class="docutils literal notranslate"><span class="pre">iowa_client_firmware_update_configure()</span></code>][iowa_client_firmware_update_configure].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_firmware_update_configure()</span></code>][iowa_client_firmware_update_configure] was called.</p>
<p>At the end of the push of the Firmware package, this callback is called with the following parameters:</p>
<p><em>cmd</em>
: <strong>IOWA_FW_PACKAGE_WRITE</strong></p>
<p><em>dataLength</em>
: 0</p>
<p><em>data</em>
: NULL</p>
<p><em>userDataP</em>
: The data passed to [<code class="docutils literal notranslate"><span class="pre">iowa_client_firmware_update_configure()</span></code>][iowa_client_firmware_update_configure].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_firmware_update_configure()</span></code>][iowa_client_firmware_update_configure] was called.</p>
<div class="section" id="id414">
<h5>Return Value {-}<a class="headerlink" href="#id414" title="Permalink to this headline"></a></h5>
<p>IOWA_FW_STATUS_SUCCESSFUL
: success.</p>
<p>IOWA_FW_STATUS_OUT_OF_STORAGE
: not enough storage for the new Firmware Package.</p>
<p>IOWA_FW_STATUS_OUT_OF_MEMORY
: out of memory error.</p>
<p>IOWA_FW_STATUS_INTEGRITY_CHECK_FAILURE
: integrity check failure of the new Firmware Package.</p>
<p>IOWA_FW_STATUS_UNSUPPORTED_TYPE
: unsupported new Firmware Package type.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-fw-update-callback-t">
<h4>iowa_fw_update_callback_t<a class="headerlink" href="#iowa-fw-update-callback-t" title="Permalink to this headline"></a></h4>
<p>This callback is called when the Server requests the device to update itself with the new Firmware Package.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">void</span><span class="p">(</span><span class="o">*</span><span class="n">iowa_fw_update_callback_t</span><span class="p">)</span> <span class="p">(</span><span class="kt">void</span> <span class="o">*</span> <span class="n">userData</span><span class="p">,</span>
                                          <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>userData</em>
: The parameter to [<code class="docutils literal notranslate"><span class="pre">iowa_client_firmware_update_configure()</span></code>][iowa_client_firmware_update_configure].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_firmware_update_configure()</span></code>][iowa_client_firmware_update_configure] was called.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="id415">
<h3>API<a class="headerlink" href="#id415" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-client-firmware-update-configure">
<h4>iowa_client_firmware_update_configure<a class="headerlink" href="#iowa-client-firmware-update-configure" title="Permalink to this headline"></a></h4>
<div class="section" id="id416">
<h5>Prototype {-}<a class="headerlink" href="#id416" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_firmware_update_configure</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">packageName</span><span class="p">,</span>
                                                    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">packageVersion</span><span class="p">,</span>
                                                    <span class="n">iowa_fw_download_callback_t</span> <span class="n">downloadCb</span><span class="p">,</span>
                                                    <span class="n">iowa_fw_write_callback_t</span> <span class="n">writeCb</span><span class="p">,</span>
                                                    <span class="n">iowa_fw_update_callback_t</span> <span class="n">updateCb</span><span class="p">,</span>
                                                    <span class="kt">void</span> <span class="o">*</span><span class="n">userData</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id417">
<h5>Description {-}<a class="headerlink" href="#id417" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_firmware_update_configure()</span></code> configures the firmware update feature of the IOWA stack.</p>
</div>
<div class="section" id="id418">
<h5>Arguments {-}<a class="headerlink" href="#id418" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>packageName</em>
: The user-defined name of the current firmware. This can be nil.</p>
<p><em>packageVersion</em>
: The user-defined version of the current firmware. This can be nil.</p>
<p><em>downloadCb</em>
: The callback called to download a new firmware. This can be nil.</p>
<p><em>writeCb</em>
: The callback called to write chunks of the new firmware to the device storage. This can be nil.</p>
<p><em>updateCb</em>
: The callback called to update the device with the new firmware.</p>
<p><em>userData</em>
: Passed as argument to the callbacks.</p>
</div>
<div class="section" id="id419">
<h5>Return Value {-}<a class="headerlink" href="#id419" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
<p>IOWA_COAP_400_BAD_REQUEST
: either:
: - <em>updateCb</em> is nil.
: - both <em>downloadCb</em> and <em>writeCb</em> are nil. At least one must be defined.</p>
<p>IOWA_COAP_409_CONFLICT
: the firmware update feature is already configured.</p>
</div>
<div class="section" id="id420">
<h5>Header File {-}<a class="headerlink" href="#id420" title="Permalink to this headline"></a></h5>
<p>objects/iowa_firmware_update.h</p>
</div>
<div class="section" id="id421">
<h5>Notes {-}<a class="headerlink" href="#id421" title="Permalink to this headline"></a></h5>
<p>The LwM2M Server has two methods to provide the Firmware Package:</p>
<ul class="simple">
<li><p>the pull method: the LwM2M Server provides the URI of the Firmware Package and the LwM2M Client downloads it directly. To use this method, <em>downloadCb</em> must be set.</p></li>
<li><p>the push method: the LwM2M Server writes the Firmware Package in a LwM2M Resource exposed by the Client. To use this method, <em>writeCb</em> must be set.</p></li>
</ul>
<p>The Client can support both methods at the same time.</p>
<p><em>downloadCb</em> and <em>updateCb</em> do not return any value. The progress and result of their operation are indicated asynchronously by calling [<code class="docutils literal notranslate"><span class="pre">iowa_client_firmware_update_set_status()</span></code>][iowa_client_firmware_update_set_status].</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-firmware-update-configure-full">
<h4>iowa_client_firmware_update_configure_full<a class="headerlink" href="#iowa-client-firmware-update-configure-full" title="Permalink to this headline"></a></h4>
<div class="section" id="id422">
<h5>Prototype {-}<a class="headerlink" href="#id422" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_firmware_update_configure_full</span><span class="p">(</span>
    <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">packageName</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">packageVersion</span><span class="p">,</span>
    <span class="kt">uint8_t</span> <span class="n">protocolSupport</span><span class="p">,</span>
    <span class="n">iowa_fw_download_callback_t</span> <span class="n">downloadCb</span><span class="p">,</span>
    <span class="n">iowa_fw_write_callback_t</span> <span class="n">writeCb</span><span class="p">,</span>
    <span class="n">iowa_fw_update_callback_t</span> <span class="n">updateCb</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userData</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id423">
<h5>Description {-}<a class="headerlink" href="#id423" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_firmware_update_configure_full()</span></code> configures the firmware update feature of the IOWA stack with the protocol support resource.</p>
</div>
<div class="section" id="id424">
<h5>Arguments {-}<a class="headerlink" href="#id424" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>packageName</em>
: The user-defined name of the current firmware. This can be nil.</p>
<p><em>packageVersion</em>
: The user-defined version of the current firmware. This can be nil.</p>
<p><em>protocolSupport</em>
: A bit-mask indicating supported protocols in <em>downloadCb</em>. This can be 0.</p>
<p><em>downloadCb</em>
: The callback called to download a new firmware. This can be nil.</p>
<p><em>writeCb</em>
: The callback called to write chunks of the new firmware to the device storage. This can be nil.</p>
<p><em>updateCb</em>
: The callback called to update the device with the new firmware.</p>
<p><em>userData</em>
: Passed as argument to the callbacks.</p>
</div>
<div class="section" id="id425">
<h5>Return Value {-}<a class="headerlink" href="#id425" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
<p>IOWA_COAP_400_BAD_REQUEST
: either:
: - <em>updateCb</em> is nil.
: - both <em>downloadCb</em> and <em>writeCb</em> are nil.
: - <em>downloadCb</em> is nil and <em>protocolSupport</em> is not 0.</p>
<p>IOWA_COAP_409_CONFLICT
: the firmware update feature is already configured.</p>
</div>
<div class="section" id="id426">
<h5>Header File {-}<a class="headerlink" href="#id426" title="Permalink to this headline"></a></h5>
<p>objects/iowa_firmware_update.h</p>
</div>
<div class="section" id="id427">
<h5>Notes {-}<a class="headerlink" href="#id427" title="Permalink to this headline"></a></h5>
<p><em><strong>protocolSupport</strong></em> is a combination of the following:</p>
<ul class="simple">
<li><p><strong>IOWA_FIRMWARE_UPDATE_PROTOCOL_SUPPORT_COAP</strong>: Constrained Application Protocol (CoAP)</p></li>
<li><p><strong>IOWA_FIRMWARE_UPDATE_PROTOCOL_SUPPORT_COAPS</strong>: DTLS-Secured CoAP</p></li>
<li><p><strong>IOWA_FIRMWARE_UPDATE_PROTOCOL_SUPPORT_HTTP</strong>: HTTP 1.1</p></li>
<li><p><strong>IOWA_FIRMWARE_UPDATE_PROTOCOL_SUPPORT_HTTPS</strong>: TLS-Secured HTTP 1.1</p></li>
<li><p><strong>IOWA_FIRMWARE_UPDATE_PROTOCOL_SUPPORT_COAP_TCP</strong>: CoAP over TCP</p></li>
<li><p><strong>IOWA_FIRMWARE_UPDATE_PROTOCOL_SUPPORT_COAP_TLS</strong>: CoAP over TLS</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-firmware-update-set-status">
<h4>iowa_client_firmware_update_set_status<a class="headerlink" href="#iowa-client-firmware-update-set-status" title="Permalink to this headline"></a></h4>
<div class="section" id="id428">
<h5>Prototype {-}<a class="headerlink" href="#id428" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_firmware_update_set_status</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                     <span class="n">iowa_fw_status_t</span> <span class="n">status</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id429">
<h5>Description {-}<a class="headerlink" href="#id429" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_firmware_update_set_status()</span></code> informs the IOWA stack of the result of the callbacks <em>downloadCb</em> and <em>updateCb</em> of [<code class="docutils literal notranslate"><span class="pre">iowa_client_firmware_update_configure()</span></code>][iowa_client_firmware_update_configure].</p>
</div>
<div class="section" id="id430">
<h5>Arguments {-}<a class="headerlink" href="#id430" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>status</em>
: The result of the current firmware update operation.</p>
</div>
<div class="section" id="id431">
<h5>Return Value {-}<a class="headerlink" href="#id431" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: the firmware update feature is not configured. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_firmware_update_configure()</span></code>][iowa_client_firmware_update_configure].</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: the value of <em>status</em> is unexpected. See [<code class="docutils literal notranslate"><span class="pre">iowa_fw_status_t</span></code>][iowa_fw_status_t] for the possible value depending of the context.</p>
</div>
<div class="section" id="id432">
<h5>Header File {-}<a class="headerlink" href="#id432" title="Permalink to this headline"></a></h5>
<p>objects/iowa_firmware_update.h</p>
<p>\clearpage</p>
</div>
</div>
</div>
</div>
<div class="section" id="gps-object-api">
<h2>GPS Object API<a class="headerlink" href="#gps-object-api" title="Permalink to this headline"></a></h2>
<p>This IPSO object represents GPS coordinates.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_gps.h</span></code> must be included.</p>
<div class="section" id="iowa-client-add-gps-object">
<h3>iowa_client_add_gps_object<a class="headerlink" href="#iowa-client-add-gps-object" title="Permalink to this headline"></a></h3>
<div class="section" id="id433">
<h4>Prototype {-}<a class="headerlink" href="#id433" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_gps_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                         <span class="kt">uint16_t</span> <span class="n">optFlags</span><span class="p">,</span>
                                         <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">applicationType</span><span class="p">,</span>
                                         <span class="n">iowa_sensor_t</span> <span class="o">*</span><span class="n">idP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id434">
<h4>Description {-}<a class="headerlink" href="#id434" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_gps_object()</span></code> creates a GPS object.</p>
</div>
<div class="section" id="id435">
<h4>Arguments {-}<a class="headerlink" href="#id435" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>optFlags</em>
: Optional flags to add optional resources.</p>
<p><em>applicationType</em>
: The application type</p>
<p><em>idP</em>
: Used to store the ID of the object</p>
</div>
<div class="section" id="id436">
<h4>Return Value {-}<a class="headerlink" href="#id436" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id437">
<h4>Header File {-}<a class="headerlink" href="#id437" title="Permalink to this headline"></a></h4>
<p>objects/iowa_gps.h</p>
</div>
<div class="section" id="id438">
<h4>Notes {-}<a class="headerlink" href="#id438" title="Permalink to this headline"></a></h4>
<p>Please refer to the <a class="reference external" href="http://www.openmobilealliance.org/wp/OMNA/LwM2M/LwM2MRegistry.html">OMA LightweightM2M (LwM2M) Object and Resource Registry</a> to see how the object is defined: resources, resources type, </p>
<p>When no optional flags are provided only mandatory resources of the object are implemented.</p>
<p>To add optional resources, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_GPS_RSC_UNCERTAINTY</p></li>
<li><p>IOWA_GPS_RSC_COMPASS_DIRECTION</p></li>
<li><p>IOWA_GPS_RSC_VELOCITY</p></li>
<li><p>IOWA_GPS_RSC_TIMESTAMP</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-gps-object">
<h3>iowa_client_remove_gps_object<a class="headerlink" href="#iowa-client-remove-gps-object" title="Permalink to this headline"></a></h3>
<div class="section" id="id439">
<h4>Prototype {-}<a class="headerlink" href="#id439" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_gps_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                            <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id440">
<h4>Description {-}<a class="headerlink" href="#id440" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_gps_object()</span></code> removes a GPS object.</p>
</div>
<div class="section" id="id441">
<h4>Arguments {-}<a class="headerlink" href="#id441" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
</div>
<div class="section" id="id442">
<h4>Return Value {-}<a class="headerlink" href="#id442" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a GPS object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_gps_object()</span></code>][iowa_client_add_gps_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: GPS referred by <strong>id</strong> does not exist.</p>
</div>
<div class="section" id="id443">
<h4>Header File {-}<a class="headerlink" href="#id443" title="Permalink to this headline"></a></h4>
<p>objects/iowa_gps.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-gps-update-location">
<h3>iowa_client_gps_update_location<a class="headerlink" href="#iowa-client-gps-update-location" title="Permalink to this headline"></a></h3>
<div class="section" id="id444">
<h4>Prototype {-}<a class="headerlink" href="#id444" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_gps_update_location</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                              <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                              <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">latitude</span><span class="p">,</span>
                                              <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">longitude</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id445">
<h4>Description {-}<a class="headerlink" href="#id445" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_gps_update_location()</span></code> updates values of a GPS object.</p>
</div>
<div class="section" id="id446">
<h4>Arguments {-}<a class="headerlink" href="#id446" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
<p><em>latitude</em>
: New latitude</p>
<p><em>longitude</em>
: New longitude</p>
</div>
<div class="section" id="id447">
<h4>Return Value {-}<a class="headerlink" href="#id447" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a GPS object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_gps_object()</span></code>][iowa_client_add_gps_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: GPS referred by <strong>id</strong> does not exist.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: either:
: - a memory allocation failed.
: - [<code class="docutils literal notranslate"><span class="pre">iowa_system_gettime()</span></code>][iowa_system_gettime] returned an error.</p>
</div>
<div class="section" id="id448">
<h4>Header File {-}<a class="headerlink" href="#id448" title="Permalink to this headline"></a></h4>
<p>objects/iowa_gps.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-gps-update-location-full">
<h3>iowa_client_gps_update_location_full<a class="headerlink" href="#iowa-client-gps-update-location-full" title="Permalink to this headline"></a></h3>
<div class="section" id="id449">
<h4>Prototype {-}<a class="headerlink" href="#id449" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_gps_update_location_full</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                   <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                   <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">latitude</span><span class="p">,</span>
                                                   <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">longitude</span><span class="p">,</span>
                                                   <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">uncertainty</span><span class="p">,</span>
                                                   <span class="kt">float</span> <span class="n">compassDirection</span><span class="p">,</span>
                                                   <span class="kt">size_t</span> <span class="n">velocityLength</span><span class="p">,</span>
                                                   <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">velocity</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id450">
<h4>Description {-}<a class="headerlink" href="#id450" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_gps_update_location_full()</span></code> updates values of a GPS object. Optionals resources are included.</p>
</div>
<div class="section" id="id451">
<h4>Arguments {-}<a class="headerlink" href="#id451" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
<p><em>latitude</em>
: New latitude</p>
<p><em>longitude</em>
: New longitude</p>
<p><em>uncertainty</em>
: The accuracy of the position in meters.</p>
<p><em>compassDirection</em>
: Measured Direction between 0 and 360 deg.</p>
<p><em>velocityLength</em>
: Length of the velocity array</p>
<p><em>velocity</em>
: The velocity of the device as defined in 3GPP 23.032 GAD specification.</p>
</div>
<div class="section" id="id452">
<h4>Return Value {-}<a class="headerlink" href="#id452" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a GPS object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_gps_object()</span></code>][iowa_client_add_gps_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: GPS referred by <strong>id</strong> does not exist.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: <em>compassDirection</em>s value is outside the [0.0, 360.0] range.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: either:
: - a memory allocation failed.
: - [<code class="docutils literal notranslate"><span class="pre">iowa_system_gettime()</span></code>][iowa_system_gettime] returned an error.</p>
</div>
<div class="section" id="id453">
<h4>Header File {-}<a class="headerlink" href="#id453" title="Permalink to this headline"></a></h4>
<p>objects/iowa_gps.h</p>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="gyrometer-object-api">
<h2>Gyrometer Object API<a class="headerlink" href="#gyrometer-object-api" title="Permalink to this headline"></a></h2>
<p>This IPSO Object is used to report the current reading of a gyrometer sensor in 3 axes.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_gyrometer.h</span></code> must be included.</p>
<div class="section" id="iowa-client-add-gyrometer-object">
<h3>iowa_client_add_gyrometer_object<a class="headerlink" href="#iowa-client-add-gyrometer-object" title="Permalink to this headline"></a></h3>
<div class="section" id="id454">
<h4>Prototype {-}<a class="headerlink" href="#id454" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_gyrometer_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                               <span class="kt">uint16_t</span> <span class="n">optFlags</span><span class="p">,</span>
                                               <span class="kt">float</span> <span class="n">minRangeValue</span><span class="p">,</span>
                                               <span class="kt">float</span> <span class="n">maxRangeValue</span><span class="p">,</span>
                                               <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">sensorUnits</span><span class="p">,</span>
                                               <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">applicationType</span><span class="p">,</span>
                                               <span class="n">iowa_sensor_t</span> <span class="o">*</span><span class="n">idP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id455">
<h4>Description {-}<a class="headerlink" href="#id455" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_gyrometer_object()</span></code> creates a gyrometer object.</p>
</div>
<div class="section" id="id456">
<h4>Arguments {-}<a class="headerlink" href="#id456" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>optFlags</em>
: Optional flags to add optional resources.</p>
<p><em>minRangeValue</em>
: Minimal range value for the gyrometer.</p>
<p><em>maxRangeValue</em>
: Maximal range value for the gyrometer.</p>
<p><em>sensorUnits</em>
: Measurement units definition</p>
<p><em>applicationType</em>
: The application type</p>
<p><em>idP</em>
: Used to store the ID of the object</p>
</div>
<div class="section" id="id457">
<h4>Return Value {-}<a class="headerlink" href="#id457" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>minRangeValue</em> argument is superior to <em>maxRangeValue</em> argument.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id458">
<h4>Header File {-}<a class="headerlink" href="#id458" title="Permalink to this headline"></a></h4>
<p>objects/iowa_gyrometer.h</p>
</div>
<div class="section" id="id459">
<h4>Notes {-}<a class="headerlink" href="#id459" title="Permalink to this headline"></a></h4>
<p>Please refer to the <a class="reference external" href="http://www.openmobilealliance.org/wp/OMNA/LwM2M/LwM2MRegistry.html">OMA LightweightM2M (LwM2M) Object and Resource Registry</a> to see how the object is defined: resources, resources type, </p>
<p>When no optional flags are provided only mandatory resources of the object are implemented.</p>
<p>To add optional resources, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_GYROMETER_RSC_Y_VALUE</p></li>
<li><p>IOWA_GYROMETER_RSC_Z_VALUE</p></li>
<li><p>IOWA_GYROMETER_RSC_MIN_X_VALUE</p></li>
<li><p>IOWA_GYROMETER_RSC_MAX_X_VALUE</p></li>
<li><p>IOWA_GYROMETER_RSC_MIN_Y_VALUE</p></li>
<li><p>IOWA_GYROMETER_RSC_MAX_Y_VALUE</p></li>
<li><p>IOWA_GYROMETER_RSC_MIN_Z_VALUE</p></li>
<li><p>IOWA_GYROMETER_RSC_MAX_Z_VALUE</p></li>
<li><p>IOWA_GYROMETER_RSC_RESET_MIN_MAX_VALUES</p></li>
<li><p>IOWA_GYROMETER_RSC_MIN_RANGE_VALUE</p></li>
<li><p>IOWA_GYROMETER_RSC_MAX_RANGE_VALUE</p></li>
</ul>
<p>Moreover, you can add several optional resources at one time by using the following flags:</p>
<ul class="simple">
<li><p>IOWA_GYROMETER_3_AXIS</p></li>
<li><p>IOWA_GYROMETER_MIN_MAX_VALUES</p></li>
<li><p>IOWA_GYROMETER_RANGE_VALUE</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-gyrometer-object">
<h3>iowa_client_remove_gyrometer_object<a class="headerlink" href="#iowa-client-remove-gyrometer-object" title="Permalink to this headline"></a></h3>
<div class="section" id="id460">
<h4>Prototype {-}<a class="headerlink" href="#id460" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_gyrometer_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                  <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id461">
<h4>Description {-}<a class="headerlink" href="#id461" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_gyrometer_object()</span></code> removes a gyrometer object.</p>
</div>
<div class="section" id="id462">
<h4>Arguments {-}<a class="headerlink" href="#id462" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
</div>
<div class="section" id="id463">
<h4>Return Value {-}<a class="headerlink" href="#id463" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a gyrometer object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_gyrometer_object()</span></code>][iowa_client_add_gyrometer_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: gyrometer referred by <strong>id</strong> does not exist.</p>
</div>
<div class="section" id="id464">
<h4>Header File {-}<a class="headerlink" href="#id464" title="Permalink to this headline"></a></h4>
<p>objects/iowa_gyrometer.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-gyrometer-update-axis">
<h3>iowa_client_gyrometer_update_axis<a class="headerlink" href="#iowa-client-gyrometer-update-axis" title="Permalink to this headline"></a></h3>
<div class="section" id="id465">
<h4>Prototype {-}<a class="headerlink" href="#id465" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_gyrometer_update_axis</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                <span class="kt">float</span> <span class="n">xValue</span><span class="p">,</span>
                                                <span class="kt">float</span> <span class="n">yValue</span><span class="p">,</span>
                                                <span class="kt">float</span> <span class="n">zValue</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id466">
<h4>Description {-}<a class="headerlink" href="#id466" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_gyrometer_update_axis()</span></code> updates values of a gyrometer object.</p>
</div>
<div class="section" id="id467">
<h4>Arguments {-}<a class="headerlink" href="#id467" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
<p><em>xValue</em>
: X value axis</p>
<p><em>yValue</em>
: Y value axis</p>
<p><em>zValue</em>
: Z value axis</p>
</div>
<div class="section" id="id468">
<h4>Return Value {-}<a class="headerlink" href="#id468" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a gyrometer object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_gyrometer_object()</span></code>][iowa_client_add_gyrometer_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: gyrometer referred by <strong>id</strong> does not exist.</p>
</div>
<div class="section" id="id469">
<h4>Header File {-}<a class="headerlink" href="#id469" title="Permalink to this headline"></a></h4>
<p>objects/iowa_gyrometer.h</p>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="ipso-objects">
<h2>IPSO Objects<a class="headerlink" href="#ipso-objects" title="Permalink to this headline"></a></h2>
<p>This part allows the possibility to manipulate several IPSO Objects.</p>
<p>To be able to use these objects, <code class="docutils literal notranslate"><span class="pre">iowa_ipso.h</span></code> must be included.</p>
<div class="section" id="iowa-client-ipso-add-sensor">
<h3>iowa_client_IPSO_add_sensor<a class="headerlink" href="#iowa-client-ipso-add-sensor" title="Permalink to this headline"></a></h3>
<div class="section" id="id470">
<h4>Prototype {-}<a class="headerlink" href="#id470" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_IPSO_add_sensor</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                          <span class="n">iowa_IPSO_ID_t</span> <span class="n">type</span><span class="p">,</span>
                                          <span class="kt">float</span> <span class="n">value</span><span class="p">,</span>
                                          <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">unit</span><span class="p">,</span>
                                          <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">appType</span><span class="p">,</span>
                                          <span class="kt">float</span> <span class="n">rangeMin</span><span class="p">,</span> <span class="kt">float</span> <span class="n">rangeMax</span><span class="p">,</span>
                                          <span class="n">iowa_sensor_t</span> <span class="o">*</span> <span class="n">idP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id471">
<h4>Description {-}<a class="headerlink" href="#id471" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_IPSO_add_sensor()</span></code> adds a new IPSO sensor for the LwM2M Client to handle. The sensor is defined by its type.</p>
<p>The unit, the application type and the range are only informative and reported as-is to the LwM2M Server. Note that the LwM2M Server can modify the application type.</p>
</div>
<div class="section" id="id472">
<h4>Arguments {-}<a class="headerlink" href="#id472" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>type</em>
: The type of sensor. See below.</p>
<p><em>value</em>
: The initial value measured by the sensor.</p>
<p><em>unit</em>
: The unit of the measured value as a nil-terminated string. This can be nil.</p>
<p><em>appType</em>
: The application type of the sensor as a free-form nil-terminated string. This can be nil.</p>
<p><em>rangeMin</em>
: The minimum value that can be measured by the sensor.</p>
<p><em>rangeMax</em>
: The maximum value that can be measured by the sensor.</p>
<p><em>idP</em>
: Used to store the ID of the created sensor. Not checked at runtime.</p>
</div>
<div class="section" id="id473">
<h4>Return Value {-}<a class="headerlink" href="#id473" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>type</em> is unknown.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: either:
: - the sensor uses a Boolean value and <em>value</em> is neither 0.0 nor 1.0.
: - the sensor uses a percentage value and <em>value</em> is outside the [0.0, 100.0] range.
: - the sensor uses a compass direction value and <em>value</em> is outside the [0.0, 360.0] range.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation or a call to [<code class="docutils literal notranslate"><span class="pre">iowa_system_gettime()</span></code>][iowa_system_gettime] failed.</p>
</div>
<div class="section" id="id474">
<h4>Header File {-}<a class="headerlink" href="#id474" title="Permalink to this headline"></a></h4>
<p>objects/iowa_ipso.h</p>
</div>
<div class="section" id="id475">
<h4>Notes {-}<a class="headerlink" href="#id475" title="Permalink to this headline"></a></h4>
<p>If both <em>rangeMin</em> and <em>rangeMax</em> are set to zero, the matching resources are ignored in the LwM2M Object.</p>
<p><em>unit</em> is not duplicated nor freed by IOWA. Make sure it is available until [<code class="docutils literal notranslate"><span class="pre">iowa_close()</span></code>][iowa_close] or [<code class="docutils literal notranslate"><span class="pre">iowa_client_IPSO_remove_sensor()</span></code>][iowa_client_IPSO_remove_sensor] is called. It is advised to use static strings.</p>
<p><em>appType</em> is duplicated internally by IOWA and can be reused or freed by the caller.</p>
<p>Only a call to [<code class="docutils literal notranslate"><span class="pre">iowa_client_IPSO_remove_sensor()</span></code>][iowa_client_IPSO_remove_sensor] can free the memory allocated by <code class="docutils literal notranslate"><span class="pre">iowa_client_IPSO_add_sensor()</span></code>.</p>
<p>If <em>type</em> equal to IOWA_IPSO_LEVEL_CONTROL this function will call [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_dimmer_object()</span></code>][iowa_client_add_dimmer_object].</p>
</div>
<div class="section" id="iowa-ipso-id-t">
<h4>iowa_IPSO_ID_t {-}<a class="headerlink" href="#iowa-ipso-id-t" title="Permalink to this headline"></a></h4>
<p>This is an enumeration of the LwM2M IDs of the supported sensor types. See below.</p>
<div class="section" id="float-value-sensors">
<h5>Float value sensors {-}<a class="headerlink" href="#float-value-sensors" title="Permalink to this headline"></a></h5>
<ul class="simple">
<li><p>IOWA_IPSO_ANALOG_INPUT (3202)</p></li>
<li><p>IOWA_IPSO_GENERIC (3300)</p></li>
<li><p>IOWA_IPSO_ILLUMINANCE (3301)</p></li>
<li><p>IOWA_IPSO_TEMPERATURE (3303)</p></li>
<li><p>IOWA_IPSO_HUMIDITY (3304)</p></li>
<li><p>IOWA_IPSO_BAROMETER (3315)</p></li>
<li><p>IOWA_IPSO_VOLTAGE (3316)</p></li>
<li><p>IOWA_IPSO_CURRENT (3317)</p></li>
<li><p>IOWA_IPSO_FREQUENCY (3318)</p></li>
<li><p>IOWA_IPSO_DEPTH (3319)</p></li>
<li><p>IOWA_IPSO_PERCENTAGE (3320)</p></li>
<li><p>IOWA_IPSO_ALTITUDE (3321)</p></li>
<li><p>IOWA_IPSO_LOAD (3322)</p></li>
<li><p>IOWA_IPSO_PRESSURE (3323)</p></li>
<li><p>IOWA_IPSO_LOUDNESS (3324)</p></li>
<li><p>IOWA_IPSO_CONCENTRATION (3325)</p></li>
<li><p>IOWA_IPSO_ACIDITY (3326)</p></li>
<li><p>IOWA_IPSO_CONDUCTIVITY (3327)</p></li>
<li><p>IOWA_IPSO_POWER (3328)</p></li>
<li><p>IOWA_IPSO_POWER_FACTOR (3329)</p></li>
<li><p>IOWA_IPSO_RATE (3346)</p></li>
<li><p>IOWA_IPSO_DISTANCE (3330)</p></li>
<li><p>IOWA_IPSO_ENERGY (3331)</p></li>
</ul>
</div>
<div class="section" id="boolean-value-sensors">
<h5>Boolean value sensors {-}<a class="headerlink" href="#boolean-value-sensors" title="Permalink to this headline"></a></h5>
<p>For these sensors, the value must be either 0.0 or 1.0:</p>
<ul class="simple">
<li><p>IOWA_IPSO_DIGITAL_INPUT (3200)</p></li>
<li><p>IOWA_IPSO_PRESENCE (3302)</p></li>
<li><p>IOWA_IPSO_ON_OFF_SWITCH (3342)</p></li>
<li><p>IOWA_IPSO_PUSH_BUTTON (3347)</p></li>
</ul>
</div>
<div class="section" id="percentage-value-sensors">
<h5>Percentage value sensors {-}<a class="headerlink" href="#percentage-value-sensors" title="Permalink to this headline"></a></h5>
<p>For these sensors, the value must be between 0.0 and 100.0:</p>
<ul class="simple">
<li><p>IOWA_IPSO_LEVEL_CONTROL (3343)</p></li>
</ul>
</div>
<div class="section" id="compass-direction-value-sensors">
<h5>Compass direction value sensors {-}<a class="headerlink" href="#compass-direction-value-sensors" title="Permalink to this headline"></a></h5>
<p>For these sensors, the value must be between 0.0 and 360.0:</p>
<ul class="simple">
<li><p>IOWA_IPSO_DIRECTION (3332)</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="iowa-client-ipso-update-value">
<h3>iowa_client_IPSO_update_value<a class="headerlink" href="#iowa-client-ipso-update-value" title="Permalink to this headline"></a></h3>
<div class="section" id="id476">
<h4>Prototype {-}<a class="headerlink" href="#id476" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_IPSO_update_value</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                            <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                            <span class="kt">float</span> <span class="n">value</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id477">
<h4>Description {-}<a class="headerlink" href="#id477" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_IPSO_update_value()</span></code> updates the value of an IPSO sensor.</p>
</div>
<div class="section" id="id478">
<h4>Arguments {-}<a class="headerlink" href="#id478" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: The ID of the sensor as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_IPSO_add_sensor()</span></code>][iowa_client_IPSO_add_sensor].</p>
<p><em>value</em>
: The new value measured by the sensor.</p>
</div>
<div class="section" id="id479">
<h4>Return Value {-}<a class="headerlink" href="#id479" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>id</em> does not match any known sensor.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: either:
: - the sensor uses a Boolean value and <em>value</em> is neither 0.0 nor 1.0.
: - the sensor uses a percentage value and <em>value</em> is outside the [0.0, 100.0] range.
: - the sensor uses a compass direction value and <em>value</em> is outside the [0.0, 360.0] range.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation or a call to [<code class="docutils literal notranslate"><span class="pre">iowa_system_gettime()</span></code>][iowa_system_gettime] failed.</p>
</div>
<div class="section" id="id480">
<h4>Header File {-}<a class="headerlink" href="#id480" title="Permalink to this headline"></a></h4>
<p>objects/iowa_ipso.h</p>
</div>
<div class="section" id="id481">
<h4>Notes {-}<a class="headerlink" href="#id481" title="Permalink to this headline"></a></h4>
<p>If <em>type</em> equal to IOWA_IPSO_LEVEL_CONTROL this function will call [<code class="docutils literal notranslate"><span class="pre">iowa_client_dimmer_update_value()</span></code>][iowa_client_dimmer_update_value].</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-ipso-update-values">
<h3>iowa_client_IPSO_update_values<a class="headerlink" href="#iowa-client-ipso-update-values" title="Permalink to this headline"></a></h3>
<div class="section" id="id482">
<h4>Prototype {-}<a class="headerlink" href="#id482" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_IPSO_update_values</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                             <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                             <span class="kt">size_t</span> <span class="n">valueCount</span><span class="p">,</span>
                                             <span class="n">iowa_ipso_timed_value_t</span> <span class="o">*</span><span class="n">valueArray</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id483">
<h4>Description {-}<a class="headerlink" href="#id483" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_IPSO_update_values()</span></code> updates multiple times the value of an IPSO Object sensor.</p>
</div>
<div class="section" id="id484">
<h4>Arguments {-}<a class="headerlink" href="#id484" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: The ID of the sensor as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_IPSO_add_sensor()</span></code>][iowa_client_IPSO_add_sensor].</p>
<p><em>valueCount</em>
: The number of values in <em>valueArray</em>.</p>
<p><em>valueArray</em>
: The [<code class="docutils literal notranslate"><span class="pre">iowa_ipso_timed_value_t</span></code>][iowa_ipso_timed_value_t] list of new values.</p>
</div>
<div class="section" id="id485">
<h4>Return Value {-}<a class="headerlink" href="#id485" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>id</em> does not match any known sensor.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: either:
: - one of the timestamped value has an negative value.
: - the sensor uses a Boolean value and <em>value</em> is neither 0.0 nor 1.0.
: - the sensor uses a percentage value and <em>value</em> is outside the [0.0, 100.0] range.
: - the sensor uses a compass direction value and <em>value</em> is outside the [0.0, 360.0] range.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation or a call to [<code class="docutils literal notranslate"><span class="pre">iowa_system_gettime()</span></code>][iowa_system_gettime] failed.</p>
</div>
<div class="section" id="id486">
<h4>Header File {-}<a class="headerlink" href="#id486" title="Permalink to this headline"></a></h4>
<p>objects/iowa_ipso.h</p>
</div>
<div class="section" id="id487">
<h4>Notes {-}<a class="headerlink" href="#id487" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_IPSO_update_values()</span></code> can only be used when the define [<strong>LWM2M_SUPPORT_TIMESTAMP</strong>][LWM2M_SUPPORT_TIMESTAMP] is set.</p>
<p>The timestamp must be absolute and not relative to the current time, meaning negative values are not accepted. If the timestamp is equal to zero, it is ignored.</p>
<p>Calling <code class="docutils literal notranslate"><span class="pre">iowa_client_IPSO_update_values()</span></code> will overwrite the previous values list. This has multiple consequences:</p>
<ul class="simple">
<li><p>If the values have not been sent to the Server, the previous values are lost. Values are only sent if the Server do a Read operation or if the Server has set an Observation.</p></li>
<li><p>If the values are in the way to be sent to the Server and <code class="docutils literal notranslate"><span class="pre">iowa_client_IPSO_update_values()</span></code> is called during the process, some old values will be lost. This API is trying to send the values in best effort. Recent timestamped values are processed in priority before the oldest ones.</p></li>
</ul>
<p>Timestamp information is only present if the used Content Format is:</p>
<ul class="simple">
<li><p>JSON: [<code class="docutils literal notranslate"><span class="pre">LWM2M_SUPPORT_JSON</span></code>][LWM2M_SUPPORT_JSON]</p></li>
<li><p>SenML JSON: [<code class="docutils literal notranslate"><span class="pre">LWM2M_SUPPORT_SENML_JSON</span></code>][LWM2M_SUPPORT_SENML_JSON]</p></li>
<li><p>SenML CBOR: [<code class="docutils literal notranslate"><span class="pre">LWM2M_SUPPORT_SENML_CBOR</span></code>][LWM2M_SUPPORT_SENML_CBOR]</p></li>
</ul>
<p>If <em>type</em> equal to IOWA_IPSO_LEVEL_CONTROL this function will call [<code class="docutils literal notranslate"><span class="pre">iowa_client_dimmer_update_values()</span></code>][iowa_client_dimmer_update_values].</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-ipso-remove-sensor">
<h3>iowa_client_IPSO_remove_sensor<a class="headerlink" href="#iowa-client-ipso-remove-sensor" title="Permalink to this headline"></a></h3>
<div class="section" id="id488">
<h4>Prototype {-}<a class="headerlink" href="#id488" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_IPSO_remove_sensor</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                             <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id489">
<h4>Description {-}<a class="headerlink" href="#id489" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_IPSO_remove_sensor()</span></code> removes from the LwM2M Client an IPSO sensor created with [<code class="docutils literal notranslate"><span class="pre">iowa_client_IPSO_add_sensor()</span></code>][iowa_client_IPSO_add_sensor].</p>
</div>
<div class="section" id="id490">
<h4>Arguments {-}<a class="headerlink" href="#id490" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: The ID of the sensor as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_IPSO_add_sensor()</span></code>][iowa_client_IPSO_add_sensor].</p>
</div>
<div class="section" id="id491">
<h4>Return Value {-}<a class="headerlink" href="#id491" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not an IPSO sensor. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_IPSO_add_sensor()</span></code>][iowa_client_IPSO_add_sensor].</p>
<p>IOWA_COAP_404_NOT_FOUND
: IPSO referred by <strong>id</strong> does not exist.</p>
</div>
<div class="section" id="id492">
<h4>Header File {-}<a class="headerlink" href="#id492" title="Permalink to this headline"></a></h4>
<p>objects/iowa_ipso.h</p>
</div>
<div class="section" id="id493">
<h4>Notes {-}<a class="headerlink" href="#id493" title="Permalink to this headline"></a></h4>
<p>If <em>type</em> equal to IOWA_IPSO_LEVEL_CONTROL this function will call [<code class="docutils literal notranslate"><span class="pre">iowa_client_remove_dimmer_object()</span></code>][iowa_client_remove_dimmer_object].</p>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="ligth-control-object-api">
<h2>Ligth Control Object API<a class="headerlink" href="#ligth-control-object-api" title="Permalink to this headline"></a></h2>
<p>This IPSO object is used to control a light source, such as a LED or other light.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_light_control.h</span></code> must be included.</p>
<div class="section" id="id494">
<h3>Callbacks<a class="headerlink" href="#id494" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-light-control-update-state-callback-t">
<h4>iowa_light_control_update_state_callback_t<a class="headerlink" href="#iowa-light-control-update-state-callback-t" title="Permalink to this headline"></a></h4>
<p>This callback is called when the LwM2M Server request the Client to update the state of the light.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">iowa_status_t</span> <span class="p">(</span><span class="o">*</span><span class="n">iowa_light_control_update_state_callback_t</span><span class="p">)(</span><span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                                    <span class="kt">bool</span> <span class="n">powerOn</span><span class="p">,</span>
                                                                    <span class="kt">int</span> <span class="n">dimmer</span><span class="p">,</span>
                                                                    <span class="kt">char</span> <span class="o">*</span><span class="n">colour</span><span class="p">,</span>
                                                                    <span class="kt">void</span> <span class="o">*</span><span class="n">userDataCallback</span><span class="p">,</span>
                                                                    <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>id</em>
: ID of the object</p>
<p><em>powerOn</em>
: Light power</p>
<p><em>dimmer</em>
: Dimmer settings</p>
<p><em>colour</em>
: A string representing a value in some color space</p>
<p><em>userDataCallback</em>
: Application specific data from [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_light_control_object</span></code>][iowa_client_add_light_control_object]. Can be nil.</p>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<div class="section" id="id495">
<h5>Return Value {-}<a class="headerlink" href="#id495" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR in case of success or an error status.</p>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="id496">
<h3>API<a class="headerlink" href="#id496" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-client-add-light-control-object">
<h4>iowa_client_add_light_control_object<a class="headerlink" href="#iowa-client-add-light-control-object" title="Permalink to this headline"></a></h4>
<div class="section" id="id497">
<h5>Prototype {-}<a class="headerlink" href="#id497" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_light_control_object</span><span class="p">(</span>
    <span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
    <span class="kt">uint16_t</span> <span class="n">optFlags</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">float</span> <span class="n">powerFactor</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">colorSpace</span><span class="p">,</span>
    <span class="n">iowa_light_control_update_state_callback_t</span> <span class="n">updateStateCallback</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userDataCallback</span><span class="p">,</span>
    <span class="n">iowa_sensor_t</span> <span class="o">*</span><span class="n">idP</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id498">
<h5>Description {-}<a class="headerlink" href="#id498" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_light_control_object()</span></code> creates a light control object.</p>
</div>
<div class="section" id="id499">
<h5>Arguments {-}<a class="headerlink" href="#id499" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>optFlags</em>
: Optional flags to add optional resources.</p>
<p><em>powerFactor</em>
: The power factor of the light.</p>
<p><em>colorSpace</em>
: Color space of the light.</p>
<p><em>updateStateCallback</em>
: Called to update state of the light. This is called when the server request a new state.</p>
<p><em>userDataCallback</em>
: Application specific data pass to the callback. Can be nil.</p>
<p><em>applicationType</em>
: The application type</p>
<p><em>idP</em>
: Used to store the ID of the object</p>
</div>
<div class="section" id="id500">
<h5>Return Value {-}<a class="headerlink" href="#id500" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: no update state callback provided means <em>updateStateCallback</em> is nil.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id501">
<h5>Header File {-}<a class="headerlink" href="#id501" title="Permalink to this headline"></a></h5>
<p>objects/iowa_light_control.h</p>
</div>
<div class="section" id="id502">
<h5>Notes {-}<a class="headerlink" href="#id502" title="Permalink to this headline"></a></h5>
<p>Please refer to the <a class="reference external" href="http://www.openmobilealliance.org/wp/OMNA/LwM2M/LwM2MRegistry.html">OMA LightweightM2M (LwM2M) Object and Resource Registry</a> to see how the object is defined: resources, resources type, </p>
<p>When no optional flags are provided only mandatory resources of the object are implemented.</p>
<p>To add optional resources, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_LIGHT_CONTROL_RSC_DIMMER</p></li>
<li><p>IOWA_LIGHT_CONTROL_RSC_ON_TIME</p></li>
<li><p>IOWA_LIGHT_CONTROL_RSC_CUMULATIVE_ACTIVE_POWER</p></li>
<li><p>IOWA_LIGHT_CONTROL_RSC_POWER_FACTOR</p></li>
</ul>
<p>Moreover, you can add several optional resources at one time by using the following flag:</p>
<ul class="simple">
<li><p>IOWA_LIGHT_CONTROL_POWER</p></li>
</ul>
<p>The argument <em>colorSpace</em> must reflect the color representation of the light. Find below a non-exhaustive list of color spaces:</p>
<ul class="simple">
<li><p>RGB</p></li>
<li><p>sRGB</p></li>
<li><p>CMYK</p></li>
<li><p></p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-light-control-object">
<h4>iowa_client_remove_light_control_object<a class="headerlink" href="#iowa-client-remove-light-control-object" title="Permalink to this headline"></a></h4>
<div class="section" id="id503">
<h5>Prototype {-}<a class="headerlink" href="#id503" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_light_control_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                      <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id504">
<h5>Description {-}<a class="headerlink" href="#id504" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_light_control_object()</span></code> removes a light control object.</p>
</div>
<div class="section" id="id505">
<h5>Arguments {-}<a class="headerlink" href="#id505" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
</div>
<div class="section" id="id506">
<h5>Return Value {-}<a class="headerlink" href="#id506" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a light control object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_light_control_object()</span></code>][iowa_client_add_light_control_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: light control referred by <strong>id</strong> does not exist.</p>
</div>
<div class="section" id="id507">
<h5>Header File {-}<a class="headerlink" href="#id507" title="Permalink to this headline"></a></h5>
<p>objects/iowa_light_control.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-light-control-set-state">
<h4>iowa_client_light_control_set_state<a class="headerlink" href="#iowa-client-light-control-set-state" title="Permalink to this headline"></a></h4>
<div class="section" id="id508">
<h5>Prototype {-}<a class="headerlink" href="#id508" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_light_control_set_state</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                  <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                  <span class="kt">bool</span> <span class="n">powerOn</span><span class="p">,</span>
                                                  <span class="kt">int</span> <span class="n">dimmer</span><span class="p">,</span>
                                                  <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">colour</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id509">
<h5>Description {-}<a class="headerlink" href="#id509" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_light_control_set_state()</span></code> updates values of a light control object.</p>
</div>
</div>
<div class="section" id="id510">
<h4>Arguments {-}<a class="headerlink" href="#id510" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
<p><em>powerOn</em>
: Light power</p>
<p><em>dimmer</em>
: Dimmer settings between 0 and 100 %</p>
<p><em>colour</em>
: A string representing a value in some color space</p>
<div class="section" id="id511">
<h5>Return Value {-}<a class="headerlink" href="#id511" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a light control object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_light_control_object()</span></code>][iowa_client_add_light_control_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: light control referred by <strong>id</strong> does not exist.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: cannot affect the color. Color space has not been provided. To reconfigure the light control object, delete then readd the object or just add a new one with [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_light_control_object()</span></code>][iowa_client_add_light_control_object] and [<code class="docutils literal notranslate"><span class="pre">iowa_client_remove_light_control_object()</span></code>][iowa_client_remove_light_control_object].</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: <em>dimmer</em>s value is outside the [0, 100] range.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: either:
: - a memory allocation failed.
: - [<code class="docutils literal notranslate"><span class="pre">iowa_system_gettime()</span></code>][iowa_system_gettime] returned an error when powerOn value changes and IOWA_LIGHT_CONTROL_RSC_ON_TIME resource is present.</p>
</div>
<div class="section" id="id512">
<h5>Header File {-}<a class="headerlink" href="#id512" title="Permalink to this headline"></a></h5>
<p>objects/iowa_light_control.h</p>
</div>
<div class="section" id="id513">
<h5>Notes {-}<a class="headerlink" href="#id513" title="Permalink to this headline"></a></h5>
<p>The Light Control Object may contain an On Time resource and/or a Cumulative Active Power resource. Calling this API updates their respective values.</p>
<p>If <em>colour</em> is nil, the value of the resource Colour is not updated.</p>
<p>\clearpage</p>
</div>
</div>
</div>
</div>
<div class="section" id="location-object-api">
<h2>Location Object API<a class="headerlink" href="#location-object-api" title="Permalink to this headline"></a></h2>
<p>This LwM2M Object contains information on the device position and speed.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_location.h</span></code> must be included.</p>
<div class="section" id="iowa-client-add-location-object">
<h3>iowa_client_add_location_object<a class="headerlink" href="#iowa-client-add-location-object" title="Permalink to this headline"></a></h3>
<div class="section" id="id514">
<h4>Prototype {-}<a class="headerlink" href="#id514" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_location_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                              <span class="kt">uint16_t</span> <span class="n">optFlags</span><span class="p">,</span>
                                              <span class="n">iowa_sensor_t</span> <span class="o">*</span><span class="n">idP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id515">
<h4>Description {-}<a class="headerlink" href="#id515" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_location_object()</span></code> creates a location object.</p>
</div>
<div class="section" id="id516">
<h4>Arguments {-}<a class="headerlink" href="#id516" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>optFlags</em>
: Optional flags to add optional resources.</p>
<p><em>idP</em>
: Used to store the ID of the object</p>
</div>
<div class="section" id="id517">
<h4>Return Value {-}<a class="headerlink" href="#id517" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_409_CONFLICT
: a location object already exists. To reconfigure the location object, first delete the object with [<code class="docutils literal notranslate"><span class="pre">iowa_client_remove_location_object()</span></code>][iowa_client_remove_location_object].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id518">
<h4>Header File {-}<a class="headerlink" href="#id518" title="Permalink to this headline"></a></h4>
<p>objects/iowa_location.h</p>
</div>
<div class="section" id="id519">
<h4>Notes {-}<a class="headerlink" href="#id519" title="Permalink to this headline"></a></h4>
<p>Please refer to the <a class="reference external" href="http://www.openmobilealliance.org/wp/OMNA/LwM2M/LwM2MRegistry.html">OMA LightweightM2M (LwM2M) Object and Resource Registry</a> to see how the object is defined: resources, resources type, </p>
<p>When no optional flags are provided only mandatory resources of the object are implemented.</p>
<p>To add optional resources, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_LOCATION_RSC_ALTITUDE</p></li>
<li><p>IOWA_LOCATION_RSC_RADIUS</p></li>
<li><p>IOWA_LOCATION_RSC_VELOCITY</p></li>
<li><p>IOWA_LOCATION_RSC_SPEED</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-location-object">
<h3>iowa_client_remove_location_object<a class="headerlink" href="#iowa-client-remove-location-object" title="Permalink to this headline"></a></h3>
<div class="section" id="id520">
<h4>Prototype {-}<a class="headerlink" href="#id520" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_location_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                 <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id521">
<h4>Description {-}<a class="headerlink" href="#id521" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_location_object()</span></code> removes a location object.</p>
</div>
<div class="section" id="id522">
<h4>Arguments {-}<a class="headerlink" href="#id522" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
</div>
<div class="section" id="id523">
<h4>Return Value {-}<a class="headerlink" href="#id523" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a location object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_location_object()</span></code>][iowa_client_add_location_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: no location object to remove. [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_location_object()</span></code>][iowa_client_add_location_object] was not called before, or failed.</p>
</div>
<div class="section" id="id524">
<h4>Header File {-}<a class="headerlink" href="#id524" title="Permalink to this headline"></a></h4>
<p>objects/iowa_location.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-location-update">
<h3>iowa_client_location_update<a class="headerlink" href="#iowa-client-location-update" title="Permalink to this headline"></a></h3>
<div class="section" id="id525">
<h4>Prototype {-}<a class="headerlink" href="#id525" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_location_update</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                          <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                          <span class="kt">float</span> <span class="n">latitude</span><span class="p">,</span>
                                          <span class="kt">float</span> <span class="n">longitude</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id526">
<h4>Description {-}<a class="headerlink" href="#id526" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_location_update()</span></code> updates values of a location object.</p>
</div>
<div class="section" id="id527">
<h4>Arguments {-}<a class="headerlink" href="#id527" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
<p><em>latitude</em>
: New latitude</p>
<p><em>longitude</em>
: New longitude</p>
</div>
<div class="section" id="id528">
<h4>Return Value {-}<a class="headerlink" href="#id528" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a location object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_location_object()</span></code>][iowa_client_add_location_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: object has not been created. First call [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_location_object()</span></code>][iowa_client_add_location_object].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: [<code class="docutils literal notranslate"><span class="pre">iowa_system_gettime()</span></code>][iowa_system_gettime] returned an error.</p>
</div>
<div class="section" id="id529">
<h4>Header File {-}<a class="headerlink" href="#id529" title="Permalink to this headline"></a></h4>
<p>objects/iowa_location.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-location-update-full">
<h3>iowa_client_location_update_full<a class="headerlink" href="#iowa-client-location-update-full" title="Permalink to this headline"></a></h3>
<div class="section" id="id530">
<h4>Prototype {-}<a class="headerlink" href="#id530" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_location_update_full</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                               <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                               <span class="kt">float</span> <span class="n">latitude</span><span class="p">,</span>
                                               <span class="kt">float</span> <span class="n">longitude</span><span class="p">,</span>
                                               <span class="kt">float</span> <span class="n">altitude</span><span class="p">,</span>
                                               <span class="kt">float</span> <span class="n">radius</span><span class="p">,</span>
                                               <span class="kt">size_t</span> <span class="n">velocityLength</span><span class="p">,</span>
                                               <span class="kt">uint8_t</span><span class="o">*</span> <span class="n">velocity</span><span class="p">,</span>
                                               <span class="kt">float</span> <span class="n">speed</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id531">
<h4>Description {-}<a class="headerlink" href="#id531" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_location_update_full()</span></code> updates values of a location object. Optionals resources are included.</p>
</div>
<div class="section" id="id532">
<h4>Arguments {-}<a class="headerlink" href="#id532" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
<p><em>latitude</em>
: New latitude</p>
<p><em>longitude</em>
: New longitude</p>
<p><em>altitude</em>
: New altitude</p>
<p><em>radius</em>
: Indicates the size in meters of a circular area around a point of geometry.</p>
<p><em>velocityLength</em>
: Length of the velocity array</p>
<p><em>velocity</em>
: The velocity of the device as defined in 3GPP 23.032 GAD specification.</p>
<p><em>speed</em>
: Speed is the time rate of change in position of a LwM2M Client without regard for direction: the scalar component of velocity.</p>
</div>
<div class="section" id="id533">
<h4>Return Value {-}<a class="headerlink" href="#id533" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a location object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_location_object()</span></code>][iowa_client_add_location_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: object has not been created. First call [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_location_object()</span></code>][iowa_client_add_location_object].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: either:
: - a memory allocation failed.
: - [<code class="docutils literal notranslate"><span class="pre">iowa_system_gettime()</span></code>][iowa_system_gettime] returned an error.</p>
</div>
<div class="section" id="id534">
<h4>Header File {-}<a class="headerlink" href="#id534" title="Permalink to this headline"></a></h4>
<p>objects/iowa_location.h</p>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="magnetometer-object-api">
<h2>Magnetometer Object API<a class="headerlink" href="#magnetometer-object-api" title="Permalink to this headline"></a></h2>
<p>This IPSO object can be used to represent a 1-3 axis magnetometer with optional compass direction.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_magnetometer.h</span></code> must be included.</p>
<div class="section" id="iowa-client-add-magnetometer-object">
<h3>iowa_client_add_magnetometer_object<a class="headerlink" href="#iowa-client-add-magnetometer-object" title="Permalink to this headline"></a></h3>
<div class="section" id="id535">
<h4>Prototype {-}<a class="headerlink" href="#id535" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_magnetometer_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                  <span class="kt">uint16_t</span> <span class="n">optFlags</span><span class="p">,</span>
                                                  <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">sensorUnits</span><span class="p">,</span>
                                                  <span class="n">iowa_sensor_t</span> <span class="o">*</span><span class="n">idP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id536">
<h4>Description {-}<a class="headerlink" href="#id536" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_magnetometer_object()</span></code> creates a magnetometer object.</p>
</div>
<div class="section" id="id537">
<h4>Arguments {-}<a class="headerlink" href="#id537" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>optFlags</em>
: Optional flags to add optional resources.</p>
<p><em>sensorUnits</em>
: Measurement units definition.</p>
<p><em>idP</em>
: Used to store the ID of the object.</p>
</div>
<div class="section" id="id538">
<h4>Return Value {-}<a class="headerlink" href="#id538" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id539">
<h4>Header File {-}<a class="headerlink" href="#id539" title="Permalink to this headline"></a></h4>
<p>objects/iowa_magnetometer.h</p>
</div>
<div class="section" id="id540">
<h4>Notes {-}<a class="headerlink" href="#id540" title="Permalink to this headline"></a></h4>
<p>Please refer to the <a class="reference external" href="http://www.openmobilealliance.org/wp/OMNA/LwM2M/LwM2MRegistry.html">OMA LightweightM2M (LwM2M) Object and Resource Registry</a> to see how the object is defined: resources, resources type, </p>
<p>When no optional flags are provided only mandatory resources of the object are implemented.</p>
<p>To add optional resources, you can use the following flags:</p>
<ul class="simple">
<li><p>IOWA_MAGNETOMETER_RSC_Y_VALUE</p></li>
<li><p>IOWA_MAGNETOMETER_RSC_Z_VALUE</p></li>
<li><p>IOWA_MAGNETOMETER_RSC_COMPASS_DIRECTION</p></li>
</ul>
<p>Moreover, you can add several optional resources at one time by using the following flag:</p>
<ul class="simple">
<li><p>IOWA_MAGNETOMETER_3_AXIS</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-magnetometer-object">
<h3>iowa_client_remove_magnetometer_object<a class="headerlink" href="#iowa-client-remove-magnetometer-object" title="Permalink to this headline"></a></h3>
<div class="section" id="id541">
<h4>Prototype {-}<a class="headerlink" href="#id541" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_magnetometer_object</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                     <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id542">
<h4>Description {-}<a class="headerlink" href="#id542" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_magnetometer_object()</span></code> removes a magnetometer object.</p>
</div>
<div class="section" id="id543">
<h4>Arguments {-}<a class="headerlink" href="#id543" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
</div>
<div class="section" id="id544">
<h4>Return Value {-}<a class="headerlink" href="#id544" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a magnetometer object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_magnetometer_object()</span></code>][iowa_client_add_magnetometer_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: magnetometer referred by <strong>id</strong> does not exist.</p>
</div>
<div class="section" id="id545">
<h4>Header File {-}<a class="headerlink" href="#id545" title="Permalink to this headline"></a></h4>
<p>objects/iowa_magnetometer.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-magnetometer-update-values">
<h3>iowa_client_magnetometer_update_values<a class="headerlink" href="#iowa-client-magnetometer-update-values" title="Permalink to this headline"></a></h3>
<div class="section" id="id546">
<h4>Prototype {-}<a class="headerlink" href="#id546" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_magnetometer_update_values</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">context</span><span class="p">,</span>
                                                     <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                     <span class="kt">float</span> <span class="n">xValue</span><span class="p">,</span>
                                                     <span class="kt">float</span> <span class="n">yValue</span><span class="p">,</span>
                                                     <span class="kt">float</span> <span class="n">zValue</span><span class="p">,</span>
                                                     <span class="kt">float</span> <span class="n">compassDirection</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id547">
<h4>Description {-}<a class="headerlink" href="#id547" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_magnetometer_update_values()</span></code> updates values of a magnetometer object.</p>
</div>
<div class="section" id="id548">
<h4>Arguments {-}<a class="headerlink" href="#id548" title="Permalink to this headline"></a></h4>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the object</p>
<p><em>xValue</em>
: X value axis</p>
<p><em>yValue</em>
: Y value axis</p>
<p><em>zValue</em>
: Z value axis</p>
<p><em>compassDirection</em>
: Measured Direction between 0 and 360 deg.</p>
</div>
<div class="section" id="id549">
<h4>Return Value {-}<a class="headerlink" href="#id549" title="Permalink to this headline"></a></h4>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a magnetometer object. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_magnetometer_object()</span></code>][iowa_client_add_magnetometer_object].</p>
<p>IOWA_COAP_404_NOT_FOUND
: magnetometer referred by <strong>id</strong> does not exist.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: <em>compassDirection</em>s value is outside the [0.0, 360.0] range.</p>
</div>
<div class="section" id="id550">
<h4>Header File {-}<a class="headerlink" href="#id550" title="Permalink to this headline"></a></h4>
<p>objects/iowa_magnetometer.h</p>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="software-component-object-api">
<h2>Software Component Object API<a class="headerlink" href="#software-component-object-api" title="Permalink to this headline"></a></h2>
<p>This LwM2M object provides the resources needed to activate/deactivate software components on the device.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_software_component.h</span></code> must be included and <strong>IOWA_SUPPORT_SOFTWARE_COMPONENT_OBJECT</strong> must be defined before building IOWA.</p>
<div class="section" id="id551">
<h3>Data Structures and Constants<a class="headerlink" href="#id551" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-sw-cmp-info-t">
<h4>iowa_sw_cmp_info_t<a class="headerlink" href="#iowa-sw-cmp-info-t" title="Permalink to this headline"></a></h4>
<p>This structure contains the description of a software components information which could be set by users.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">char</span>     <span class="o">*</span><span class="n">identityP</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">uint8_t</span>  <span class="o">*</span><span class="n">packP</span><span class="p">;</span>
    <span class="kt">size_t</span>          <span class="n">packLength</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span>     <span class="o">*</span><span class="n">versionP</span><span class="p">;</span>
<span class="p">}</span> <span class="n">iowa_sw_cmp_info_t</span><span class="p">;</span>
</pre></div>
</div>
<p><em>identityP</em>
: Name or identifier of the software component, with size &lt; 255. This can be nil.</p>
<p><em>packP</em>
: Link to opaque data describing the software component. This can be nil.</p>
<p><em>packLength</em>
: Length in bytes of the opaque data pointed by <em>packP</em>.</p>
<p><em>versionP</em>
: Version of the software component, with size &lt; 255. This can be nil.</p>
<div class="section" id="note">
<h5>Note {-}<a class="headerlink" href="#note" title="Permalink to this headline"></a></h5>
<p>This structure will at least provide an identity (<em>identityP</em>) or a pack (<em>packP</em>) to identify the component.</p>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="id552">
<h3>Callbacks<a class="headerlink" href="#id552" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-sw-cmp-update-callback-t">
<h4>iowa_sw_cmp_update_callback_t<a class="headerlink" href="#iowa-sw-cmp-update-callback-t" title="Permalink to this headline"></a></h4>
<p>This is the update callback, called when the Server adds or removes the software components.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">iowa_status_t</span><span class="p">(</span><span class="o">*</span><span class="n">iowa_sw_cmp_update_callback_t</span><span class="p">)(</span><span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                      <span class="n">iowa_dm_operation_t</span> <span class="n">operation</span><span class="p">,</span>
                                                      <span class="n">iowa_sw_cmp_info_t</span> <span class="o">*</span><span class="n">infoP</span><span class="p">,</span>
                                                      <span class="kt">bool</span> <span class="n">activationState</span><span class="p">,</span>
                                                      <span class="kt">void</span> <span class="o">*</span><span class="n">userDataP</span><span class="p">,</span>
                                                      <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>id</em>
: ID of the corresponding software component.</p>
<p><em>operation</em>
: the operation performed by the Server on this software component (either <strong>IOWA_DM_CREATE</strong> or <strong>IOWA_DM_DELETE</strong>).</p>
<p><em>infoP</em>
: software component information.</p>
<p><em>activationState</em>
: initial activation state. Should be ignored if no [<code class="docutils literal notranslate"><span class="pre">iowa_sw_cmp_activation_callback_t()</span></code>][iowa_sw_cmp_activation_callback_t] was passed to [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_component()</span></code>][iowa_client_enable_software_component].</p>
<p><em>userDataP</em>
: The data passed to [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management] was called.</p>
<div class="section" id="id553">
<h5>Return Value {-}<a class="headerlink" href="#id553" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR in case of success or an error status.</p>
</div>
</div>
<div class="section" id="iowa-sw-cmp-activation-callback-t">
<h4>iowa_sw_cmp_activation_callback_t<a class="headerlink" href="#iowa-sw-cmp-activation-callback-t" title="Permalink to this headline"></a></h4>
<p>This is the activation callback, called when the Server requests the device to activate or deactivate a software component.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">iowa_status_t</span><span class="p">(</span><span class="o">*</span><span class="n">iowa_sw_cmp_activation_callback_t</span><span class="p">)</span> <span class="p">(</span><span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                           <span class="kt">bool</span> <span class="n">activationState</span><span class="p">,</span>
                                                           <span class="kt">void</span> <span class="o">*</span><span class="n">userDataP</span><span class="p">,</span>
                                                           <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>id</em>
: ID of the corresponding software component.</p>
<p><em>activationState</em>
: activation state requested.</p>
<p><em>userDataP</em>
: The data passed to [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_component()</span></code>][iowa_client_enable_software_component].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_component()</span></code>][iowa_client_enable_software_component] was called.</p>
<div class="section" id="id554">
<h5>Return Value {-}<a class="headerlink" href="#id554" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR in case of success or an error status.</p>
<p>\clearpage</p>
</div>
</div>
</div>
<div class="section" id="id555">
<h3>API<a class="headerlink" href="#id555" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-client-enable-software-component">
<h4>iowa_client_enable_software_component<a class="headerlink" href="#iowa-client-enable-software-component" title="Permalink to this headline"></a></h4>
<div class="section" id="id556">
<h5>Prototype {-}<a class="headerlink" href="#id556" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_enable_software_component</span><span class="p">(</span>
    <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
    <span class="n">iowa_sw_cmp_update_callback_t</span> <span class="n">updateCb</span><span class="p">,</span>
    <span class="n">iowa_sw_cmp_activation_callback_t</span> <span class="n">activationCb</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userDataP</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id557">
<h5>Description {-}<a class="headerlink" href="#id557" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_component()</span></code> enables the software component feature.</p>
</div>
<div class="section" id="id558">
<h5>Arguments {-}<a class="headerlink" href="#id558" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>updateCb</em>
: The update callback called when the Server adds or removes a software component. This can be nil.</p>
<p><em>activateCb</em>
: The activate callback, called when the Server requests the device to activate or deactivate a software component. This can be nil.</p>
<p><em>userDataP</em>
: Passed as argument to the callback. This can be nil.</p>
</div>
<div class="section" id="id559">
<h5>Return Value {-}<a class="headerlink" href="#id559" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_409_CONFLICT
: Software component feature is already configured. To reconfigure the software component, disable it before with [<code class="docutils literal notranslate"><span class="pre">iowa_client_disable_software_component()</span></code>][iowa_client_disable_software_component].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id560">
<h5>Header File {-}<a class="headerlink" href="#id560" title="Permalink to this headline"></a></h5>
<p>objects/iowa_software_component.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-disable-software-component">
<h4>iowa_client_disable_software_component<a class="headerlink" href="#iowa-client-disable-software-component" title="Permalink to this headline"></a></h4>
<div class="section" id="id561">
<h5>Prototype {-}<a class="headerlink" href="#id561" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_disable_software_component</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id562">
<h5>Description {-}<a class="headerlink" href="#id562" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_disable_software_component()</span></code> disables the software component feature.</p>
</div>
<div class="section" id="id563">
<h5>Arguments {-}<a class="headerlink" href="#id563" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
</div>
<div class="section" id="id564">
<h5>Return Value {-}<a class="headerlink" href="#id564" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_404_NOT_FOUND
: Software component feature was not enabled. [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_component()</span></code>][iowa_client_enable_software_component] was not called before, or failed.</p>
</div>
<div class="section" id="id565">
<h5>Header File {-}<a class="headerlink" href="#id565" title="Permalink to this headline"></a></h5>
<p>objects/iowa_software_component.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-add-software-component">
<h4>iowa_client_add_software_component<a class="headerlink" href="#iowa-client-add-software-component" title="Permalink to this headline"></a></h4>
<div class="section" id="id566">
<h5>Prototype {-}<a class="headerlink" href="#id566" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_software_component</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                 <span class="n">iowa_sw_cmp_info_t</span> <span class="o">*</span><span class="n">infoP</span><span class="p">,</span>
                                                 <span class="kt">bool</span> <span class="n">activationState</span><span class="p">,</span>
                                                 <span class="n">iowa_sensor_t</span> <span class="o">*</span><span class="n">idP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id567">
<h5>Description {-}<a class="headerlink" href="#id567" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_software_component()</span></code> adds a software component.</p>
</div>
<div class="section" id="id568">
<h5>Arguments {-}<a class="headerlink" href="#id568" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>infoP</em>
: software component information.</p>
<p><em>activationState</em>
: current activation state of the software component. Ignored if no [<code class="docutils literal notranslate"><span class="pre">iowa_sw_cmp_activation_callback_t()</span></code>][iowa_sw_cmp_activation_callback_t] was passed to [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_component()</span></code>][iowa_client_enable_software_component].</p>
<p><em>idP</em>
: Used to store the ID of the created software component. Not checked at runtime.</p>
</div>
<div class="section" id="id569">
<h5>Return Value {-}<a class="headerlink" href="#id569" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_400_BAD_REQUEST
: either:
: - <em>infoP</em> is nil.
: - both <em>infoP::identityP</em> and <em>infoP::packP</em> are nil.
: - a string in <em>infoP</em> is longer than 255 characters.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: Software component feature was not enabled. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_component()</span></code>][iowa_client_enable_software_component].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id570">
<h5>Header File {-}<a class="headerlink" href="#id570" title="Permalink to this headline"></a></h5>
<p>objects/iowa_software_component.h</p>
</div>
<div class="section" id="id571">
<h5>Notes {-}<a class="headerlink" href="#id571" title="Permalink to this headline"></a></h5>
<p><em>infoP</em> must provide at least an identity (<em>infoP::identityP</em>) or a pack (<em>infoP::packP</em>) to identify the component.</p>
<p>The const elements pointed by the fields of <em>infoP</em> are not duplicated nor freed by IOWA. Make sure they are available until corresponding [<code class="docutils literal notranslate"><span class="pre">iowa_client_remove_software_component()</span></code>][iowa_client_remove_software_component], [<code class="docutils literal notranslate"><span class="pre">iowa_client_disable_software_component()</span></code>][iowa_client_disable_software_component], or [<code class="docutils literal notranslate"><span class="pre">iowa_close()</span></code>][iowa_close] is called.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-software-component">
<h4>iowa_client_remove_software_component<a class="headerlink" href="#iowa-client-remove-software-component" title="Permalink to this headline"></a></h4>
<div class="section" id="id572">
<h5>Prototype {-}<a class="headerlink" href="#id572" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_software_component</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                    <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id573">
<h5>Description {-}<a class="headerlink" href="#id573" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_software_component()</span></code> removes a software component.</p>
</div>
<div class="section" id="id574">
<h5>Arguments {-}<a class="headerlink" href="#id574" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the corresponding software component.</p>
</div>
<div class="section" id="id575">
<h5>Return Value {-}<a class="headerlink" href="#id575" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a software component. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_software_component()</span></code>][iowa_client_add_software_component].</p>
<p>IOWA_COAP_404_NOT_FOUND
: software component referred by <strong>id</strong> does not exist.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: Software component feature was not enabled. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_component()</span></code>][iowa_client_enable_software_component].</p>
</div>
<div class="section" id="id576">
<h5>Header File {-}<a class="headerlink" href="#id576" title="Permalink to this headline"></a></h5>
<p>objects/iowa_software_component.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-software-component-update-state">
<h4>iowa_client_software_component_update_state<a class="headerlink" href="#iowa-client-software-component-update-state" title="Permalink to this headline"></a></h4>
<div class="section" id="id577">
<h5>Prototype {-}<a class="headerlink" href="#id577" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_software_component_update_state</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                          <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                          <span class="kt">bool</span> <span class="n">activationState</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id578">
<h5>Description {-}<a class="headerlink" href="#id578" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_software_component_update_state()</span></code> updates a software components activation state.</p>
</div>
<div class="section" id="id579">
<h5>Arguments {-}<a class="headerlink" href="#id579" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the corresponding software component.</p>
<p><em>activationState</em>
: New activation state of the software component.</p>
</div>
<div class="section" id="id580">
<h5>Note {-}<a class="headerlink" href="#id580" title="Permalink to this headline"></a></h5>
<p>This API has no effect if no [<code class="docutils literal notranslate"><span class="pre">iowa_sw_cmp_activation_callback_t()</span></code>][iowa_sw_cmp_activation_callback_t] was passed to [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_component()</span></code>][iowa_client_enable_software_component] since the Activation State resource is not presented to the LwM2M Server.</p>
</div>
<div class="section" id="id581">
<h5>Return Value {-}<a class="headerlink" href="#id581" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>id</em> does not match any known software component.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: Software component feature was not enabled. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_component()</span></code>][iowa_client_enable_software_component].</p>
</div>
<div class="section" id="id582">
<h5>Header File {-}<a class="headerlink" href="#id582" title="Permalink to this headline"></a></h5>
<p>objects/iowa_software_component.h</p>
<p>\clearpage</p>
</div>
</div>
</div>
</div>
<div class="section" id="software-management-object-api">
<h2>Software Management Object API<a class="headerlink" href="#software-management-object-api" title="Permalink to this headline"></a></h2>
<p>In LightweightM2M, the Software Management mechanism is used to install and activate software components to a LwM2M Client.</p>
<p>To be able to use this object, <code class="docutils literal notranslate"><span class="pre">iowa_software_management.h</span></code> must be included and <strong>IOWA_SUPPORT_SOFTWARE_MANAGEMENT_OBJECT</strong> must be defined before building the library.</p>
<p>The [Device Update][Device Update]/[Software Management][Software Management] part of this specification adds more explanation about its mechanism and how to use it with IOWA.</p>
<p><strong>Note:</strong> As there is currently some confusion on the layout of of the Software Management Object, IOWA uses the definition provided in [LwM2M Overview][LwM2M Overview]/[Software Management Object][Software Management Object].</p>
<div class="section" id="id583">
<h3>Data Structures and Constants<a class="headerlink" href="#id583" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-sw-pkg-result-t">
<h4>iowa_sw_pkg_result_t<a class="headerlink" href="#iowa-sw-pkg-result-t" title="Permalink to this headline"></a></h4>
<p>This enumeration is used to update the operation result from [<code class="docutils literal notranslate"><span class="pre">iowa_sw_pkg_download_callback_t()</span></code>][iowa_sw_pkg_download_callback_t], [<code class="docutils literal notranslate"><span class="pre">iowa_sw_pkg_write_callback_t()</span></code>][iowa_sw_pkg_write_callback_t] and [<code class="docutils literal notranslate"><span class="pre">iowa_sw_pkg_install_callback_t()</span></code>][iowa_sw_pkg_install_callback_t] callbacks. It has the following values:</p>
<p>IOWA_SW_PKG_UPDATE_RESULT_SUCCESSFUL
: success of any operation made on the software package (verification, installation, uninstallation, activation, deactivation)</p>
<p>IOWA_SW_PKG_UPDATE_RESULT_DOWNLOADING_SUCCESSFUL
: success of the new software package download. (<em>downloadCb</em> only)</p>
<p>IOWA_SW_PKG_UPDATE_RESULT_OUT_OF_STORAGE
: not enough storage for the new software package. (<em>downloadCb</em> or <em>writeCb</em> only)</p>
<p>IOWA_SW_PKG_UPDATE_RESULT_OUT_OF_MEMORY
: out of memory error during the download of the new software package. (<em>downloadCb</em> or <em>writeCb</em> only)</p>
<p>IOWA_SW_PKG_UPDATE_RESULT_CONNECTION_LOST
: connection lost during the download of the new software package. (<em>downloadCb</em> or <em>writeCb</em> only)</p>
<p>IOWA_SW_PKG_UPDATE_RESULT_INTEGRITY_CHECK_FAILURE
: integrity check failure of the new software package. (<em>downloadCb</em> or <em>writeCb</em> only)</p>
<p>IOWA_SW_PKG_UPDATE_RESULT_UNSUPPORTED_TYPE
: unsupported new software package type.</p>
<p>IOWA_SW_PKG_UPDATE_RESULT_INVALID_URI
: invalid URI to download the new software package. (<em>downloadCb</em> only)</p>
<p>IOWA_SW_PKG_UPDATE_RESULT_UPDATE_FAILED
: device defined update error.</p>
<p>IOWA_SW_PKG_UPDATE_RESULT_INSTALLED_FAILURE
: new software installation failure. (<em>installCb</em> only)</p>
<p>IOWA_SW_PKG_UPDATE_RESULT_UNINSTALLED_FAILURE
: software uninstallation failure. (<em>installCb</em> only)</p>
</div>
<div class="section" id="iowa-sw-pkg-state-t">
<h4>iowa_sw_pkg_state_t<a class="headerlink" href="#iowa-sw-pkg-state-t" title="Permalink to this headline"></a></h4>
<p>This enumeration is used to control current state in [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_software_package()</span></code>][iowa_client_add_software_package] and [<code class="docutils literal notranslate"><span class="pre">iowa_client_software_package_update_state()</span></code>][iowa_client_software_package_update_state]. It has the following values:</p>
<p>IOWA_SW_PKG_STATE_UNINSTALLED
: software is uninstalled. (default value)</p>
<p>IOWA_SW_PKG_STATE_INSTALLED
: software is installed.</p>
<p>IOWA_SW_PKG_STATE_ACTIVATED
: software is activate. Useful only if Software components are linked, otherwise same behavior than installed.</p>
</div>
<div class="section" id="iowa-sw-pkg-write-cmd-t">
<h4>iowa_sw_pkg_write_cmd_t<a class="headerlink" href="#iowa-sw-pkg-write-cmd-t" title="Permalink to this headline"></a></h4>
<p>This enumeration is used in [<code class="docutils literal notranslate"><span class="pre">iowa_sw_pkg_write_callback_t()</span></code>][iowa_sw_pkg_write_callback_t] callback. It has the following values:</p>
<p>IOWA_SW_PKG_COMMAND_RESET
: To start software package packet writing.</p>
<p>IOWA_SW_PKG_COMMAND_WRITE
: To indicate other software package piece of the complete packet.</p>
</div>
<div class="section" id="iowa-sw-pkg-install-cmd-t">
<h4>iowa_sw_pkg_install_cmd_t<a class="headerlink" href="#iowa-sw-pkg-install-cmd-t" title="Permalink to this headline"></a></h4>
<p>This enumeration is used in [<code class="docutils literal notranslate"><span class="pre">iowa_sw_pkg_install_callback_t()</span></code>][iowa_sw_pkg_install_callback_t] callback. It has the following values:</p>
<p>IOWA_SW_PKG_COMMAND_INSTALL
: software installation is requested.</p>
<p>IOWA_SW_PKG_COMMAND_UNINSTALL
: software uninstallation is requested.</p>
<p>IOWA_SW_PKG_COMMAND_PREPARE_FOR_UPDATE
: software uninstallation is requested to prepare an update.</p>
</div>
<div class="section" id="iowa-sw-pkg-optional-info-t">
<h4>iowa_sw_pkg_optional_info_t<a class="headerlink" href="#iowa-sw-pkg-optional-info-t" title="Permalink to this headline"></a></h4>
<p>This structure contains the description of a optional software packages information which could be set by users.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="n">iowa_sensor_t</span>  <span class="o">*</span><span class="n">swComponentLinkP</span><span class="p">;</span>
    <span class="kt">uint16_t</span>        <span class="n">swComponentLinkCount</span><span class="p">;</span>
<span class="p">}</span> <span class="n">iowa_sw_pkg_optional_info_t</span><span class="p">;</span>
</pre></div>
</div>
<p><em>swComponentLinkP</em>
: Software Components downloaded and installed in scope of the present SW Update Package. This can be nil.
: Each <em>swComponentLinkP</em> sensor id must have been provided by [<code class="docutils literal notranslate"><span class="pre">Software</span> <span class="pre">Component</span> <span class="pre">Object</span> <span class="pre">APIs</span></code>][Software Component Object API].</p>
<p><em>swComponentLinkCount</em>
: Software Components Link count.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="id584">
<h3>Callbacks<a class="headerlink" href="#id584" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-sw-pkg-update-callback-t">
<h4>iowa_sw_pkg_update_callback_t<a class="headerlink" href="#iowa-sw-pkg-update-callback-t" title="Permalink to this headline"></a></h4>
<p>This is the update callback, called when the Server adds or removes the software packages.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">iowa_status_t</span><span class="p">(</span><span class="o">*</span><span class="n">iowa_sw_pkg_update_callback_t</span><span class="p">)</span> <span class="p">(</span><span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                       <span class="n">iowa_dm_operation_t</span> <span class="n">operation</span><span class="p">,</span>
                                                       <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">pkgNameP</span><span class="p">,</span>
                                                       <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">pkgVersionP</span><span class="p">,</span>
                                                       <span class="n">iowa_sw_pkg_optional_info_t</span> <span class="o">*</span><span class="n">optP</span><span class="p">,</span>
                                                       <span class="kt">void</span> <span class="o">*</span><span class="n">userDataP</span><span class="p">,</span>
                                                       <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>id</em>
: ID of the corresponding software package.</p>
<p><em>operation</em>
: the operation performed by the Server on this software package (either IOWA_DM_CREATE or IOWA_DM_DELETE).</p>
<p><em>pkgNameP</em>
: Name of the software package.</p>
<p><em>pkgVersionP</em>
: Version of the software package.</p>
<p><em>optP</em>
: Optional information. This can be nil.</p>
<p><em>userDataP</em>
: The data passed to [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management] was called.</p>
<div class="section" id="id585">
<h5>Return Value {-}<a class="headerlink" href="#id585" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR in case of success or an error status.</p>
</div>
</div>
<div class="section" id="iowa-sw-pkg-download-callback-t">
<h4>iowa_sw_pkg_download_callback_t<a class="headerlink" href="#iowa-sw-pkg-download-callback-t" title="Permalink to this headline"></a></h4>
<p>This is the download callback, called when the Server requests the device to download a new software Package (new value in Package URI).</p>
<p>When the packet is downloaded, users should call [<code class="docutils literal notranslate"><span class="pre">iowa_client_set_software_package_command_result()</span></code>][iowa_client_set_software_package_command_result] with IOWA_SW_PKG_UPDATE_RESULT_DOWNLOADING_SUCCESSFUL result if successful or an error result otherwise.</p>
<p>When the packet is verified, users should call [<code class="docutils literal notranslate"><span class="pre">iowa_client_set_software_package_command_result()</span></code>][iowa_client_set_software_package_command_result] with IOWA_SW_PKG_UPDATE_RESULT_SUCCESSFUL result if successful or an error result otherwise.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">void</span><span class="p">(</span><span class="o">*</span><span class="n">iowa_sw_pkg_download_callback_t</span><span class="p">)</span> <span class="p">(</span><span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">uriP</span><span class="p">,</span>
                                                <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">userNameP</span><span class="p">,</span>
                                                <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">passwordP</span><span class="p">,</span>
                                                <span class="kt">void</span> <span class="o">*</span><span class="n">userDataP</span><span class="p">,</span>
                                                <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>id</em>
: ID of the corresponding software package instance.</p>
<p><em>uriP</em>
: URI to download the package from.</p>
<p><em>userNameP</em>
: User Name for access to SW Update Package in pull mode, with size &lt; 255. Key based mechanism can alternatively use for talking to the component server instead of user name and password combination. This can be nil.</p>
<p><em>passwordP</em>
: Password for access to SW Update Package in pull mode, with size &lt; 255. This can be nil.</p>
<p><em>userDataP</em>
: The data passed to [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management] was called.</p>
</div>
<div class="section" id="iowa-sw-pkg-write-callback-t">
<h4>iowa_sw_pkg_write_callback_t<a class="headerlink" href="#iowa-sw-pkg-write-callback-t" title="Permalink to this headline"></a></h4>
<p>This is the write callback, called several times when the Server pushes the new software package to the device (new value in Package). The expected behavior is the same as writing to a file stream i.e. unless it is reset, written data are appended to the previous ones.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">iowa_sw_pkg_result_t</span><span class="p">(</span><span class="o">*</span><span class="n">iowa_sw_pkg_write_callback_t</span><span class="p">)</span> <span class="p">(</span><span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                             <span class="n">iowa_sw_pkg_write_cmd_t</span> <span class="n">cmd</span><span class="p">,</span>
                                                             <span class="kt">size_t</span> <span class="n">dataLength</span><span class="p">,</span>
                                                             <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">dataP</span><span class="p">,</span>
                                                             <span class="kt">void</span> <span class="o">*</span><span class="n">userDataP</span><span class="p">,</span>
                                                             <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p>At the start of the push of the software package or if the LwM2M Server cancels it, this callback is called with the following parameters:</p>
<p><em>id</em>
: ID of the corresponding software package instance.</p>
<p><em>cmd</em>
: <strong>IOWA_SW_PKG_COMMAND_RESET</strong></p>
<p><em>dataLength</em>
: 0</p>
<p><em>dataP</em>
: NULL</p>
<p><em>userDataP</em>
: The data passed to [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management] was called.</p>
<p>When the software package is received, this callback is called several times with the following parameters:</p>
<p><em>id</em>
: ID of the corresponding software package instance.</p>
<p><em>cmd</em>
: <strong>IOWA_SW_PKG_COMMAND_WRITE</strong></p>
<p><em>dataLength</em>
: The length of the buffer pointed by <em>dataP</em>.</p>
<p><em>data</em>
: The next chunk of the software package to write.</p>
<p><em>userDataP</em>
: The data passed to [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management] was called.</p>
<p>At the end of the push of the software package, this callback is called with the following parameters:</p>
<p><em>id</em>
: ID of the corresponding software package instance.</p>
<p><em>cmd</em>
: <strong>IOWA_SW_MGMT_PACKAGE_WRITE</strong></p>
<p><em>dataLength</em>
: 0</p>
<p><em>data</em>
: NULL</p>
<p><em>userDataP</em>
: The data passed to [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management] was called.</p>
<div class="section" id="id586">
<h5>Return Value {-}<a class="headerlink" href="#id586" title="Permalink to this headline"></a></h5>
<p>IOWA_SW_PKG_UPDATE_RESULT_SUCCESSFUL in case of success or an error status.</p>
</div>
</div>
<div class="section" id="iowa-sw-pkg-install-callback-t">
<h4>iowa_sw_pkg_install_callback_t<a class="headerlink" href="#iowa-sw-pkg-install-callback-t" title="Permalink to this headline"></a></h4>
<p>This is the install callback, called when the Server requests the device to install or uninstall the software Package.</p>
<p>When the installation finishes, users should call [<code class="docutils literal notranslate"><span class="pre">iowa_client_set_software_package_command_result()</span></code>][iowa_client_set_software_package_command_result] with IOWA_SW_PKG_UPDATE_RESULT_SUCCESSFUL result if successful or an error result otherwise.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">void</span><span class="p">(</span><span class="o">*</span><span class="n">iowa_sw_pkg_install_callback_t</span><span class="p">)</span> <span class="p">(</span><span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                               <span class="n">iowa_sw_pkg_install_cmd_t</span> <span class="n">cmd</span><span class="p">,</span>
                                               <span class="kt">void</span> <span class="o">*</span><span class="n">userDataP</span><span class="p">,</span>
                                               <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>id</em>
: ID of the corresponding software package instance.</p>
<p><em>cmd</em>
: installed state requested. See [<code class="docutils literal notranslate"><span class="pre">iowa_sw_pkg_install_cmd_t</span></code>][iowa_sw_pkg_install_cmd_t].</p>
<p><em>userDataP</em>
: The data passed to [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management].</p>
<p><em>contextP</em>
: The IOWA context on which [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management] was called.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="id587">
<h3>API<a class="headerlink" href="#id587" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-client-enable-software-package-management">
<h4>iowa_client_enable_software_package_management<a class="headerlink" href="#iowa-client-enable-software-package-management" title="Permalink to this headline"></a></h4>
<div class="section" id="id588">
<h5>Prototype {-}<a class="headerlink" href="#id588" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_enable_software_package_management</span><span class="p">(</span>
    <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
    <span class="n">iowa_sw_pkg_update_callback_t</span> <span class="n">updateCb</span><span class="p">,</span>
    <span class="n">iowa_sw_pkg_download_callback_t</span> <span class="n">downloadCb</span><span class="p">,</span>
    <span class="n">iowa_sw_pkg_write_callback_t</span> <span class="n">writeCb</span><span class="p">,</span>
    <span class="n">iowa_sw_pkg_install_callback_t</span> <span class="n">installCb</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userDataP</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id589">
<h5>Description {-}<a class="headerlink" href="#id589" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code> enables the software package management feature.</p>
</div>
<div class="section" id="id590">
<h5>Arguments {-}<a class="headerlink" href="#id590" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>updateCb</em>
: The update callback called when the Server adds or removes the software packages. This can be nil.</p>
<p><em>downloadCb</em>
: The download callback, called when the Server requests the device to download a new software Package (new value in Package URI). This can be nil.</p>
<p><em>writeCb</em>
: The write callback, called several times when the Server pushes the new software Package to the device (new value in Package). This can be nil.</p>
<p><em>installCb</em>
: The install callback, called when the Server requests the device to install or uninstall the software Package.</p>
<p><em>userDataP</em>
: Passed as argument to the callbacks. This can be nil.</p>
</div>
<div class="section" id="id591">
<h5>Return Value {-}<a class="headerlink" href="#id591" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>COAP_400_BAD_REQUEST
: either:
: - <em>installCb</em> is nil.
: - both <em>downloadCb</em> and <em>writeCb</em> are nil. At least one must be defined.</p>
<p>IOWA_COAP_409_CONFLICT
: Software package feature is already configured. To reconfigure the software package, disable it before with [<code class="docutils literal notranslate"><span class="pre">iowa_client_disable_software_package_management()</span></code>][iowa_client_disable_software_package_management].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id592">
<h5>Header File {-}<a class="headerlink" href="#id592" title="Permalink to this headline"></a></h5>
<p>objects/iowa_software_management.h</p>
</div>
<div class="section" id="id593">
<h5>Notes {-}<a class="headerlink" href="#id593" title="Permalink to this headline"></a></h5>
<p>The LwM2M Server has two methods to provide the software package:</p>
<ul class="simple">
<li><p>the pull method: the LwM2M Server provides the URI of the software package and the LwM2M Client downloads it directly. To use this method, <em>downloadCb</em> must be set.</p></li>
<li><p>the push method: the LwM2M Server writes the software package in a LwM2M Resource exposed by the Client. To use this method, <em>writeCb</em> must be set.</p></li>
</ul>
<p>The Client can support both methods at the same time and must at least provide one of them.</p>
<p><em>downloadCb</em> and <em>updateCb</em> do not return any value. The progress and result of their operation are indicated asynchronously by calling [<code class="docutils literal notranslate"><span class="pre">iowa_client_set_software_package_command_result()</span></code>][iowa_client_set_software_package_command_result].</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-disable-software-package-management">
<h4>iowa_client_disable_software_package_management<a class="headerlink" href="#iowa-client-disable-software-package-management" title="Permalink to this headline"></a></h4>
<div class="section" id="id594">
<h5>Prototype {-}<a class="headerlink" href="#id594" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_disable_software_package_management</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id595">
<h5>Description {-}<a class="headerlink" href="#id595" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_disable_software_package_management()</span></code> disables the software package management feature.</p>
</div>
<div class="section" id="id596">
<h5>Arguments {-}<a class="headerlink" href="#id596" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
</div>
<div class="section" id="id597">
<h5>Return Value {-}<a class="headerlink" href="#id597" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_404_NOT_FOUND
: Software package feature was not enabled. [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management] was not called before, or failed.</p>
</div>
<div class="section" id="id598">
<h5>Header File {-}<a class="headerlink" href="#id598" title="Permalink to this headline"></a></h5>
<p>objects/iowa_software_management.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-add-software-package">
<h4>iowa_client_add_software_package<a class="headerlink" href="#iowa-client-add-software-package" title="Permalink to this headline"></a></h4>
<div class="section" id="id599">
<h5>Prototype {-}<a class="headerlink" href="#id599" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_software_package</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                               <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">pkgNameP</span><span class="p">,</span>
                                               <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">pkgVersionP</span><span class="p">,</span>
                                               <span class="n">iowa_sw_pkg_state_t</span> <span class="n">state</span><span class="p">,</span>
                                               <span class="n">iowa_sw_pkg_optional_info_t</span> <span class="o">*</span><span class="n">optP</span><span class="p">,</span>
                                               <span class="n">iowa_sensor_t</span> <span class="o">*</span><span class="n">idP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id600">
<h5>Description {-}<a class="headerlink" href="#id600" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_software_package()</span></code> adds a software package instance.</p>
</div>
<div class="section" id="id601">
<h5>Arguments {-}<a class="headerlink" href="#id601" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>pkgNameP</em>
: Name of the software package.</p>
<p><em>pkgVersionP</em>
: Version of the software package.</p>
<p><em>state</em>
: State of the software package. (default value: IOWA_SW_PKG_STATE_UNINSTALLED)</p>
<p><em>optP</em>
: Optional information. This can be nil.</p>
<p><em>idP</em>
: Used to store the ID of the created software package instance. Not checked at runtime.</p>
</div>
<div class="section" id="id602">
<h5>Return Value {-}<a class="headerlink" href="#id602" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_400_BAD_REQUEST
: either:
: - <em>pkgNameP</em> is nil.
: - <em>pkgVersionP</em> is nil.
: - <em>optP</em> has invalid format.
: - Any string is larger than 255 characters.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: Software package feature was not enabled. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management].</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id603">
<h5>Header File {-}<a class="headerlink" href="#id603" title="Permalink to this headline"></a></h5>
<p>objects/iowa_software_management.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-software-package">
<h4>iowa_client_remove_software_package<a class="headerlink" href="#iowa-client-remove-software-package" title="Permalink to this headline"></a></h4>
<div class="section" id="id604">
<h5>Prototype {-}<a class="headerlink" href="#id604" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_software_package</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                  <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id605">
<h5>Description {-}<a class="headerlink" href="#id605" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_software_package()</span></code> removes a software package instance.</p>
</div>
<div class="section" id="id606">
<h5>Arguments {-}<a class="headerlink" href="#id606" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the corresponding software package instance.</p>
</div>
<div class="section" id="id607">
<h5>Return Value {-}<a class="headerlink" href="#id607" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>id</em> is not a software package. Valid <em>id</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_software_package()</span></code>][iowa_client_add_software_package].</p>
<p>IOWA_COAP_404_NOT_FOUND
: software package referred by <strong>id</strong> does not exist.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: Software package feature was not enabled. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management].</p>
</div>
<div class="section" id="id608">
<h5>Header File {-}<a class="headerlink" href="#id608" title="Permalink to this headline"></a></h5>
<p>objects/iowa_software_management.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-software-package-update-state">
<h4>iowa_client_software_package_update_state<a class="headerlink" href="#iowa-client-software-package-update-state" title="Permalink to this headline"></a></h4>
<div class="section" id="id609">
<h5>Prototype {-}<a class="headerlink" href="#id609" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_software_package_update_state</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                        <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                        <span class="n">iowa_sw_pkg_state_t</span> <span class="n">state</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id610">
<h5>Description {-}<a class="headerlink" href="#id610" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_software_package_update_state()</span></code> updates a software package instances state.</p>
</div>
<div class="section" id="id611">
<h5>Arguments {-}<a class="headerlink" href="#id611" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the corresponding software package instance.</p>
<p><em>state</em>
: state of the software package.</p>
</div>
<div class="section" id="id612">
<h5>Return Value {-}<a class="headerlink" href="#id612" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>id</em> does not match any known software package.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: Software package feature was not enabled. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management].</p>
</div>
<div class="section" id="id613">
<h5>Header File {-}<a class="headerlink" href="#id613" title="Permalink to this headline"></a></h5>
<p>objects/iowa_software_management.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-set-software-package-command-result">
<h4>iowa_client_set_software_package_command_result<a class="headerlink" href="#iowa-client-set-software-package-command-result" title="Permalink to this headline"></a></h4>
<div class="section" id="id614">
<h5>Prototype {-}<a class="headerlink" href="#id614" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_set_software_package_command_result</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                              <span class="n">iowa_sensor_t</span> <span class="n">id</span><span class="p">,</span>
                                                              <span class="n">iowa_sw_pkg_result_t</span> <span class="n">result</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id615">
<h5>Description {-}<a class="headerlink" href="#id615" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_set_software_package_command_result()</span></code> informs the IOWA stack of the result of the callbacks <em>downloadCb</em> and <em>installCb</em> of [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management].</p>
</div>
<div class="section" id="id616">
<h5>Arguments {-}<a class="headerlink" href="#id616" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>id</em>
: ID of the corresponding software package instance.</p>
<p><em>result</em>
: The result of the software package callbacks.</p>
</div>
<div class="section" id="id617">
<h5>Return Value {-}<a class="headerlink" href="#id617" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>id</em> does not match any known software package.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: Software package feature was not enabled. Call first [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_software_package_management()</span></code>][iowa_client_enable_software_package_management].</p>
</div>
<div class="section" id="id618">
<h5>Header File {-}<a class="headerlink" href="#id618" title="Permalink to this headline"></a></h5>
<p>objects/iowa_software_management.h</p>
<p>\clearpage</p>
</div>
</div>
</div>
</div>
<div class="section" id="mqtt-object-api">
<h2>MQTT Object API<a class="headerlink" href="#mqtt-object-api" title="Permalink to this headline"></a></h2>
<p>This part allows the possibility to connect with an MQTT Broker.</p>
<p>To be able to use these objects, <code class="docutils literal notranslate"><span class="pre">iowa_mqtt_objects.h</span></code> must be included.</p>
<div class="section" id="id619">
<h3>Data Structures and Constants<a class="headerlink" href="#id619" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-mqtt-broker-t">
<h4>iowa_mqtt_broker_t<a class="headerlink" href="#iowa-mqtt-broker-t" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="kt">char</span>     <span class="o">*</span><span class="n">uri</span><span class="p">;</span>
    <span class="kt">char</span>     <span class="o">*</span><span class="n">clientId</span><span class="p">;</span>
    <span class="kt">bool</span>      <span class="n">cleanSession</span><span class="p">;</span>
    <span class="kt">uint16_t</span>  <span class="n">keepAlive</span><span class="p">;</span>
    <span class="kt">char</span>     <span class="o">*</span><span class="n">userName</span><span class="p">;</span>
    <span class="kt">uint8_t</span>  <span class="o">*</span><span class="n">password</span><span class="p">;</span>
    <span class="kt">size_t</span>    <span class="n">passwordLength</span><span class="p">;</span>

    <span class="n">iowa_security_mode_t</span>    <span class="n">securityMode</span><span class="p">;</span>
    <span class="n">iowa_cert_usage_mode_t</span>  <span class="n">certificateUsage</span><span class="p">;</span>
    <span class="kt">uint8_t</span>                <span class="o">*</span><span class="n">identity</span><span class="p">;</span>
    <span class="kt">size_t</span>                  <span class="n">identityLength</span><span class="p">;</span>
    <span class="kt">uint8_t</span>                <span class="o">*</span><span class="n">brokerIdentity</span><span class="p">;</span>
    <span class="kt">size_t</span>                  <span class="n">brokerIdentityLength</span><span class="p">;</span>
    <span class="kt">uint8_t</span>                <span class="o">*</span><span class="n">privateKey</span><span class="p">;</span>
    <span class="kt">size_t</span>                  <span class="n">privateKeyLength</span><span class="p">;</span>
<span class="p">}</span> <span class="n">iowa_mqtt_broker_t</span><span class="p">;</span>
</pre></div>
</div>
<p><em>uri</em>
: The URI to reach the MQTT Broker as a nil-terminated string e.g. tcp://[::1]:1883.</p>
<p><em>clientId</em>
: MQTT Client Identifier to use when connecting to this MQTT broker.</p>
<p><em>cleanSession</em>
: A boolean thats indicate to the MQTT broker to create a persistent session.</p>
<p><em>keepAlive</em>
: The maximum time in seconds thats the client take to send or receive a message.</p>
<p><em>userName</em>
: The User Name to declare in the MQTT CONNECT message.</p>
<p><em>password</em>
: The Password value to declare in the MQTT CONNECT message.</p>
<p><em>passwordLength</em>
: The length of the brokers password.</p>
<p><em>securityMode</em>
: The security mode to use when connecting to this LwM2M Server. See [iowa_security_mode_t][iowa_security_mode_t].</p>
<p><em>certificateUsage</em>
: The Certificate Usage Resource specifies the semantic of the certificate or raw public key stored in the MQTT Broker Public Key Resource, which is used to match the certificate presented in the TLS/DTLS handshake. See [iowa_cert_usage_mode_t][iowa_cert_usage_mode_t].
: When this Resource is absent, value <strong>IOWA_CERTIFICATE_USAGE_DOMAIN_ISSUED_CERTIFICATE</strong> for domain issued certificate mode is assumed.</p>
<p><em>identity</em>
: Stores the Devices certificate, public key (RPK mode) or PSK Identity (PSK mode).</p>
<p><em>identityLength</em>
: The identity length.</p>
<p><em>brokerIdentity</em>
: Stores the MQTT Brokers certificate, public key (RPK mode) or trust anchor. The Certificate Usage Resource determines the content of this resource.</p>
<p><em>brokerIdentityLength</em>
: The length of the brokers Identity.</p>
<p><em>privateKey</em>
: Stores the secret key (PSK mode) or private key (RPK or certificate mode).</p>
<p><em>privateKeyLength</em>
: The private keys length</p>
</div>
<div class="section" id="iowa-mqtt-publication-t">
<h4>iowa_mqtt_publication_t<a class="headerlink" href="#iowa-mqtt-publication-t" title="Permalink to this headline"></a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="n">iowa_sensor_t</span>           <span class="n">brokerId</span><span class="p">;</span>
    <span class="kt">char</span>                   <span class="o">*</span><span class="n">source</span><span class="p">;</span>
    <span class="kt">char</span>                   <span class="o">*</span><span class="n">topic</span><span class="p">;</span>
    <span class="kt">uint8_t</span>                 <span class="n">qos</span><span class="p">;</span>
    <span class="kt">bool</span>                    <span class="n">retain</span><span class="p">;</span>
    <span class="kt">bool</span>                    <span class="n">active</span><span class="p">;</span>
    <span class="n">iowa_content_format_t</span>   <span class="n">encoding</span><span class="p">;</span>
<span class="p">}</span> <span class="n">iowa_mqtt_publication_t</span><span class="p">;</span>
</pre></div>
</div>
<p><em>brokerId</em>
: The ID of the broker to be used.</p>
<p><em>source</em>
: The source of the data to publish (e.g. , or ;). If this Resource is empty, the published data are implementation dependent.</p>
<p><em>topic</em>
: The MQTT topic to publish to.</p>
<p><em>qos</em>
: The Quality of Service value to use when publishing.</p>
<p><em>retain</em>
: The RETAIN flag value to use when publishing.</p>
<p><em>active</em>
: A boolean to indicate if the Resource is not present, the Device publishes the data pointed by the Source Resource to the MQTT Broker pointed by the Broker Resource using the MQTT topic indicated in the Topic Resource. If false, the Device does nothing.</p>
<p><em>encoding</em>
: A CoAP Content-Format value used to encode the data in the MQTT Publish message. If this Resource is not present or equal to 65535, the encoding of the data is implementation dependent.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="id620">
<h3>Callbacks<a class="headerlink" href="#id620" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-mqtt-broker-update-callback-t">
<h4>iowa_mqtt_broker_update_callback_t<a class="headerlink" href="#iowa-mqtt-broker-update-callback-t" title="Permalink to this headline"></a></h4>
<p>The callback called when a LwM2M Server modifies the MQTT Broker Object.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">void</span> <span class="p">(</span><span class="o">*</span><span class="n">iowa_mqtt_broker_update_callback_t</span><span class="p">)</span> <span class="p">(</span><span class="n">iowa_dm_operation_t</span> <span class="n">operation</span><span class="p">,</span>
                                                    <span class="n">iowa_sensor_t</span> <span class="n">brokerId</span><span class="p">,</span>
                                                    <span class="n">iowa_mqtt_broker_t</span> <span class="o">*</span><span class="n">brokerDetailsP</span><span class="p">,</span>
                                                    <span class="kt">void</span> <span class="o">*</span><span class="n">userData</span><span class="p">,</span>
                                                    <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>operation</em>
: the type of the operation among IOWA_DM_READ, IOWA_DM_WRITE and IOWA_DM_DELETE.</p>
<p><em>brokerId</em>
: the ID of the modified MQTT broker.</p>
<p><em>brokerDetailsP</em>
: the details of the modified MQTT broker.</p>
<p><em>userData</em>
: Passed as argument to the callbacks. This can be nil.</p>
<p><em>contextP</em>
: the IOWA context on which iowa_client_enable_mqtt_broker() was called.</p>
</div>
<div class="section" id="iowa-mqtt-publication-update-callback-t">
<h4>iowa_mqtt_publication_update_callback_t<a class="headerlink" href="#iowa-mqtt-publication-update-callback-t" title="Permalink to this headline"></a></h4>
<p>The callback called when a LwM2M Server modifies the MQTT Publication Object.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="nf">void</span> <span class="p">(</span><span class="o">*</span><span class="n">iowa_mqtt_publication_update_callback_t</span><span class="p">)</span> <span class="p">(</span><span class="n">iowa_dm_operation_t</span> <span class="n">operation</span><span class="p">,</span>
                                                         <span class="n">iowa_sensor_t</span> <span class="n">publicationId</span><span class="p">,</span>
                                                         <span class="n">iowa_mqtt_publication_t</span> <span class="o">*</span><span class="n">publicationDetailsP</span><span class="p">,</span>
                                                         <span class="kt">void</span> <span class="o">*</span><span class="n">userData</span><span class="p">,</span>
                                                         <span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
<p><em>operation</em>
: the type of the operation among IOWA_DM_READ and IOWA_DM_WRITE.</p>
<p><em>publicationId</em>
: the ID of the modified MQTT Publication.</p>
<p><em>publicationDetailsP</em>
: the details of the modified MQTT Publication.</p>
<p><em>userData</em>
: Passed as argument to the callbacks. This can be nil.</p>
<p><em>contextP</em>
: the IOWA context on which iowa_client_enable_mqtt_publication() was called.</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="id621">
<h3>API<a class="headerlink" href="#id621" title="Permalink to this headline"></a></h3>
<div class="section" id="iowa-client-enable-mqtt-broker">
<h4>iowa_client_enable_mqtt_broker<a class="headerlink" href="#iowa-client-enable-mqtt-broker" title="Permalink to this headline"></a></h4>
<div class="section" id="id622">
<h5>Prototype {-}<a class="headerlink" href="#id622" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_enable_mqtt_broker</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                             <span class="n">iowa_mqtt_broker_update_callback_t</span> <span class="n">brokerCb</span><span class="p">,</span>
                                             <span class="kt">void</span> <span class="o">*</span> <span class="n">userData</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id623">
<h5>Description {-}<a class="headerlink" href="#id623" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_enable_mqtt_broker()</span></code> enables the MQTT brokers management.</p>
</div>
<div class="section" id="id624">
<h5>Arguments {-}<a class="headerlink" href="#id624" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>brokerCb</em>
: The broker callback called when a LwM2M Server modify the MQTT brokers.</p>
<p><em>userDataP</em>
: Passed as argument to the callbacks. This can be nil.</p>
</div>
<div class="section" id="id625">
<h5>Return Value {-}<a class="headerlink" href="#id625" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: <em>brokerCb</em> is nil.</p>
<p>IOWA_COAP_409_CONFLICT
: MQTT brokers management is already enabled.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id626">
<h5>Header File {-}<a class="headerlink" href="#id626" title="Permalink to this headline"></a></h5>
<p>objects/iowa_mqtt_objects.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-disable-mqtt-broker">
<h4>iowa_client_disable_mqtt_broker<a class="headerlink" href="#iowa-client-disable-mqtt-broker" title="Permalink to this headline"></a></h4>
<div class="section" id="id627">
<h5>Prototype {-}<a class="headerlink" href="#id627" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_disable_mqtt_broker</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id628">
<h5>Description {-}<a class="headerlink" href="#id628" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_disable_mqtt_broker()</span></code> disables the MQTT brokers management.</p>
</div>
<div class="section" id="id629">
<h5>Arguments {-}<a class="headerlink" href="#id629" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
</div>
<div class="section" id="id630">
<h5>Return Value {-}<a class="headerlink" href="#id630" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_404_NOT_FOUND
: MQTT brokers management is not enabled.</p>
</div>
<div class="section" id="id631">
<h5>Header File {-}<a class="headerlink" href="#id631" title="Permalink to this headline"></a></h5>
<p>objects/iowa_mqtt_objects.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-add-mqtt-broker">
<h4>iowa_client_add_mqtt_broker<a class="headerlink" href="#iowa-client-add-mqtt-broker" title="Permalink to this headline"></a></h4>
<div class="section" id="id632">
<h5>Prototype {-}<a class="headerlink" href="#id632" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_mqtt_broker</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                          <span class="kt">uint16_t</span> <span class="n">optFlags</span><span class="p">,</span>
                                          <span class="k">const</span> <span class="n">iowa_mqtt_broker_t</span> <span class="o">*</span> <span class="n">brokerDetailsP</span><span class="p">,</span>
                                          <span class="n">iowa_sensor_t</span> <span class="o">*</span> <span class="n">brokerIdP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id633">
<h5>Description {-}<a class="headerlink" href="#id633" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_mqtt_broker()</span></code> adds an MQTT broker instance.</p>
</div>
<div class="section" id="id634">
<h5>Arguments {-}<a class="headerlink" href="#id634" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>optFlags</em>
: Optional flags to add optional resources.</p>
<p><em>brokerDetailsP</em>
: The details of the MQTT Broker. Copied internally by IOWA.</p>
<p><em>brokerIdP</em>
: Used to store the ID of the created MQTT Broker instance.</p>
</div>
<div class="section" id="id635">
<h5>Return Value {-}<a class="headerlink" href="#id635" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: either:
: - Invalid <em>brokerDetailsP</em>.
: - <em>brokerIdP</em> is nil.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
MQTT brokers management is not enabled. Call [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_mqtt_broker()</span></code>][iowa_client_enable_mqtt_broker] first.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation or a call to [<code class="docutils literal notranslate"><span class="pre">iowa_system_gettime()</span></code>][iowa_system_gettime] failed.</p>
</div>
<div class="section" id="id636">
<h5>Header File {-}<a class="headerlink" href="#id636" title="Permalink to this headline"></a></h5>
<p>objects/iowa_mqtt_objects.h</p>
</div>
<div class="section" id="id637">
<h5>Notes {-}<a class="headerlink" href="#id637" title="Permalink to this headline"></a></h5>
<p>The invalid brokers details are
: either:
: - The client identity is nil.
: - The password length is 0 and the password is not nil.
: - The identity length is 0 and the identity is not nil.
: - The private key length is 0 and the private key is not nil.
: - The brokers identity length is 0 and the brokers identity is not nil.
: - The security mode is IOWA_SEC_NONE and the identity length and/or private key length and/or brokers identity length are greater than 0.
: - The security mode is different than IOWA_SEC_NONE and the identity length and/or private key length equal to 0.
: - The security mode is IOWA_SEC_RAW_PUBLIC_KEY or IOWA_SEC_CERTIFICATE and the broker identity length equal to 0.
: - The security mode value is unknown.
: - The certificate usage value is unknown.</p>
<p>To add optional resource, you can use the following flag:</p>
<ul class="simple">
<li><p>IOWA_MQTT_BROKER_CERTIFICATE_USAGE : a flag to set the broker certificate usage resource, if this resource is not set by the user, domain issued certificate mode is assumed.</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-mqtt-broker">
<h4>iowa_client_remove_mqtt_broker<a class="headerlink" href="#iowa-client-remove-mqtt-broker" title="Permalink to this headline"></a></h4>
<div class="section" id="id638">
<h5>Prototype {-}<a class="headerlink" href="#id638" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_mqtt_broker</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                             <span class="n">iowa_sensor_t</span> <span class="n">brokerId</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id639">
<h5>Description {-}<a class="headerlink" href="#id639" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_mqtt_broker()</span></code> removes an MQTT broker instance.</p>
</div>
<div class="section" id="id640">
<h5>Arguments {-}<a class="headerlink" href="#id640" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>brokerId</em>
: The ID assigned to the MQTT Broker by IOWA.</p>
</div>
<div class="section" id="id641">
<h5>Return Value {-}<a class="headerlink" href="#id641" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>brokerId</em> is not valid. Valid <em>brokerId</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_mqtt_broker()</span></code>][iowa_client_add_mqtt_broker].</p>
<p>IOWA_COAP_404_NOT_FOUND
: <em>brokerId</em> does not match a known MQTT broker.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
MQTT brokers management is not enabled. Call [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_mqtt_broker()</span></code>][iowa_client_enable_mqtt_broker] first.</p>
</div>
<div class="section" id="id642">
<h5>Header File {-}<a class="headerlink" href="#id642" title="Permalink to this headline"></a></h5>
<p>objects/iowa_mqtt_objects.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-get-mqtt-broker">
<h4>iowa_client_get_mqtt_broker<a class="headerlink" href="#iowa-client-get-mqtt-broker" title="Permalink to this headline"></a></h4>
<div class="section" id="id643">
<h5>Prototype {-}<a class="headerlink" href="#id643" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_mqtt_broker_t</span> <span class="o">*</span> <span class="nf">iowa_client_get_mqtt_broker</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                 <span class="n">iowa_sensor_t</span> <span class="n">brokerId</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id644">
<h5>Description {-}<a class="headerlink" href="#id644" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_get_mqtt_broker()</span></code> retrieves the details of an MQTT broker.</p>
</div>
<div class="section" id="id645">
<h5>Arguments {-}<a class="headerlink" href="#id645" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>brokerId</em>
: The ID assigned to the MQTT Broker by IOWA.</p>
</div>
<div class="section" id="id646">
<h5>Return Value {-}<a class="headerlink" href="#id646" title="Permalink to this headline"></a></h5>
<p>The MQTT brokers details, or NULL if the MQTT brokers management is not enabledor if <em>brokerId</em> does not match a known MQTT broker.</p>
</div>
<div class="section" id="id647">
<h5>Notes {-}<a class="headerlink" href="#id647" title="Permalink to this headline"></a></h5>
<p>The returned pointer points to the internal data of IOWA and not to duplicated information. It is advised to not modify it.</p>
</div>
<div class="section" id="id648">
<h5>Header File {-}<a class="headerlink" href="#id648" title="Permalink to this headline"></a></h5>
<p>objects/iowa_mqtt_objects.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-enable-mqtt-publication">
<h4>iowa_client_enable_mqtt_publication<a class="headerlink" href="#iowa-client-enable-mqtt-publication" title="Permalink to this headline"></a></h4>
<div class="section" id="id649">
<h5>Prototype {-}<a class="headerlink" href="#id649" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_enable_mqtt_publication</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                  <span class="n">iowa_mqtt_publication_update_callback_t</span> <span class="n">publicationCB</span><span class="p">,</span>
                                                  <span class="kt">void</span> <span class="o">*</span><span class="n">userData</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id650">
<h5>Description {-}<a class="headerlink" href="#id650" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_enable_mqtt_publication()</span></code> enables the MQTT Publication management.</p>
</div>
<div class="section" id="id651">
<h5>Arguments {-}<a class="headerlink" href="#id651" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>publicationCB</em>
: The broker callback called when a LwM2M Server modify the MQTT brokers.</p>
<p><em>userDataP</em>
: Passed as argument to the callbacks. This can be nil.</p>
</div>
<div class="section" id="id652">
<h5>Return Value {-}<a class="headerlink" href="#id652" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: <em>publicationCB</em> is nil.</p>
<p>IOWA_COAP_409_CONFLICT
: MQTT Publication Object already exists.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation failed.</p>
</div>
<div class="section" id="id653">
<h5>Header File {-}<a class="headerlink" href="#id653" title="Permalink to this headline"></a></h5>
<p>objects/iowa_mqtt_objects.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-disable-mqtt-publication">
<h4>iowa_client_disable_mqtt_publication<a class="headerlink" href="#iowa-client-disable-mqtt-publication" title="Permalink to this headline"></a></h4>
<div class="section" id="id654">
<h5>Prototype {-}<a class="headerlink" href="#id654" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_disable_mqtt_publication</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id655">
<h5>Description {-}<a class="headerlink" href="#id655" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_disable_mqtt_publication()</span></code> disables the MQTT Publication management.</p>
</div>
<div class="section" id="id656">
<h5>Arguments {-}<a class="headerlink" href="#id656" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
</div>
<div class="section" id="id657">
<h5>Return Value {-}<a class="headerlink" href="#id657" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_404_NOT_FOUND
: MQTT publication Object not found.</p>
</div>
<div class="section" id="id658">
<h5>Header File {-}<a class="headerlink" href="#id658" title="Permalink to this headline"></a></h5>
<p>objects/iowa_mqtt_objects.h</p>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-add-mqtt-publication">
<h4>iowa_client_add_mqtt_publication<a class="headerlink" href="#iowa-client-add-mqtt-publication" title="Permalink to this headline"></a></h4>
<div class="section" id="id659">
<h5>Prototype {-}<a class="headerlink" href="#id659" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_add_mqtt_publication</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                               <span class="kt">uint16_t</span> <span class="n">optFlags</span><span class="p">,</span>
                                               <span class="k">const</span> <span class="n">iowa_mqtt_publication_t</span> <span class="o">*</span><span class="n">publicationDetailsP</span><span class="p">,</span>
                                               <span class="n">iowa_sensor_t</span> <span class="o">*</span><span class="n">publicationIdP</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id660">
<h5>Description {-}<a class="headerlink" href="#id660" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_add_mqtt_publication()</span></code> adds an MQTT publication instance.</p>
</div>
<div class="section" id="id661">
<h5>Arguments {-}<a class="headerlink" href="#id661" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>optFlags</em>
: Optional flags to indicate optional resources.</p>
<p><em>publicationDetailsP</em>
: publicationDetailsP: details of the MQTT Publication. Copied internally by IOWA.</p>
<p><em>publicationIdP</em>
: Used to store the ID of the created MQTT Publication instance.</p>
</div>
<div class="section" id="id662">
<h5>Return Value {-}<a class="headerlink" href="#id662" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_406_NOT_ACCEPTABLE
: either:
: - Invalid <em>publicationDetailsP</em>.
: - <em>publicationIdP</em> is nil.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: MQTT publication management was not enabled. Call [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_mqtt_publication()</span></code>][iowa_client_enable_mqtt_publication] first.</p>
<p>IOWA_COAP_500_INTERNAL_SERVER_ERROR
: a memory allocation or a call to [<code class="docutils literal notranslate"><span class="pre">iowa_system_gettime()</span></code>][iowa_system_gettime] failed.
: Invalid publication source format.</p>
</div>
<div class="section" id="id663">
<h5>Header File {-}<a class="headerlink" href="#id663" title="Permalink to this headline"></a></h5>
<p>objects/iowa_mqtt_objects.h</p>
</div>
<div class="section" id="id664">
<h5>Notes {-}<a class="headerlink" href="#id664" title="Permalink to this headline"></a></h5>
<p>The invalid publications details are either:
: - The publications topic is nil.
: - The publications source is nil.
: - The publications QOS is greater than 2.</p>
<p>To add optional resources, you can use the following flag:</p>
<ul class="simple">
<li><p>IOWA_MQTT_PUBLICATION_RSC_ENCODING : a flag to set the publication encoding resource, if this resource is not set by the user, the encoding of the data is implementation dependent.</p></li>
<li><p>IOWA_MQTT_PUBLICATION_RSC_ACTIVE : a flag to set the publication active resource. if this resource is not set by the user, it will be assumed to be true.</p></li>
</ul>
<p>\clearpage</p>
</div>
</div>
<div class="section" id="iowa-client-remove-mqtt-publication">
<h4>iowa_client_remove_mqtt_publication<a class="headerlink" href="#iowa-client-remove-mqtt-publication" title="Permalink to this headline"></a></h4>
<div class="section" id="id665">
<h5>Prototype {-}<a class="headerlink" href="#id665" title="Permalink to this headline"></a></h5>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">iowa_status_t</span> <span class="nf">iowa_client_remove_mqtt_publication</span><span class="p">(</span><span class="n">iowa_context_t</span> <span class="n">contextP</span><span class="p">,</span>
                                                  <span class="n">iowa_sensor_t</span> <span class="n">publicationId</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id666">
<h5>Description {-}<a class="headerlink" href="#id666" title="Permalink to this headline"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">iowa_client_remove_mqtt_publication()</span></code> removes an MQTT Publication instance.</p>
</div>
<div class="section" id="id667">
<h5>Arguments {-}<a class="headerlink" href="#id667" title="Permalink to this headline"></a></h5>
<p><em>contextP</em>
: An [<code class="docutils literal notranslate"><span class="pre">iowa_context_t</span></code>][iowa_context_t] as returned by [<code class="docutils literal notranslate"><span class="pre">iowa_init()</span></code>][iowa_init]. Not checked at runtime.</p>
<p><em>publicationId</em>
: The ID assigned to the MQTT Publication by IOWA.</p>
</div>
<div class="section" id="id668">
<h5>Return Value {-}<a class="headerlink" href="#id668" title="Permalink to this headline"></a></h5>
<p>IOWA_COAP_NO_ERROR
: success.</p>
<p>IOWA_COAP_402_BAD_OPTION
: <em>publicationId</em> is not an MQTT object. Valid <em>publicationId</em> are only returned by [<code class="docutils literal notranslate"><span class="pre">iowa_client_add_mqtt_publication()</span></code>][iowa_client_add_mqtt_publication].</p>
<p>IOWA_COAP_404_NOT_FOUND
: MQTT object referred by <strong>publicationId</strong> does not exist.</p>
<p>IOWA_COAP_412_PRECONDITION_FAILED
: MQTT publication management was not enabled. Call [<code class="docutils literal notranslate"><span class="pre">iowa_client_enable_mqtt_publication()</span></code>][iowa_client_enable_mqtt_publication] first.</p>
</div>
<div class="section" id="id669">
<h5>Header File {-}<a class="headerlink" href="#id669" title="Permalink to this headline"></a></h5>
<p>objects/iowa_mqtt_objects.h</p>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ServerAPI.html" class="btn btn-neutral float-right" title="Server Mode API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="CommonAPI.html" class="btn btn-neutral float-left" title="Common API Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, IoTerop

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>